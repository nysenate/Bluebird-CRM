/*! 
 * Bundle package for the following libraries:
 * jQuery | (c) JS Foundation and other contributors | jquery.org/license
 * jQuery Migrate v3.0.1 | (c) jQuery Foundation and other contributors | jquery.org/license
 * Knockout | (c) The Knockout.js team | License: MIT (http://www.opensource.org/licenses/mit-license.php)
 * jQuery UI | Copyright 2015 jQuery Foundation and other contributors; Licensed MIT
 * jQuery UI Touch Punch | Copyright 2011-2014, Dave Furfero | Dual licensed under the MIT or GPL Version 2 licenses.
 * jQuery File Upload Plugin + dependencies | Copyright 2010, Sebastian Tschan | Licensed under the MIT license: https://opensource.org/licenses/MIT
 * knockout-jqueryui | Copyright (c) 2016 Vas Gabor <gvas.munka@gmail.com> Licensed MIT
 * TinyMCE + Plugins | Copyright (c) 1999-2017 Ephox Corp. | Released under LGPL License. http://www.tinymce.com/license
 */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(_,M){"use strict";function b(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function F(e){return null!=e&&e===e.window}var t=[],L=Object.getPrototypeOf,a=t.slice,H=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},j=t.push,y=t.indexOf,z={},W=z.toString,q=z.hasOwnProperty,U=q.toString,V=U.call(Object),m={},w=_.document,$={type:!0,src:!0,nonce:!0,noModule:!0};function Y(e,t,n){var i,r,o=(n=n||w).createElement("script");if(o.text=e,t)for(i in $)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function X(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?z[W.call(e)]||"object":typeof e}var e="3.7.0",Q=/HTML$/i,C=function(e,t){return new C.fn.init(e,t)};function K(e){var t=!!e&&"length"in e&&e.length,n=X(e);return!b(e)&&!F(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function x(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}C.fn=C.prototype={jquery:e,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:j,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,n,i,r,o=arguments[0]||{},s=1,a=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||b(o)||(o={}),s===a&&(o=this,s--);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(l&&n&&(C.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[t],r=i&&!Array.isArray(r)?[]:i||C.isPlainObject(r)?r:{},i=!1,o[t]=C.extend(l,r,n)):void 0!==n&&(o[t]=n));return o},C.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==W.call(e))&&(!(e=L(e))||"function"==typeof(e=q.call(e,"constructor")&&e.constructor)&&U.call(e)===V)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){Y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(K(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r)return e.textContent;if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C.text(t);return n},makeArray:function(e,t){t=t||[];return null!=e&&(K(Object(e))?C.merge(t,"string"==typeof e?[e]:e):j.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:y.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||e&&e.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!=s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(K(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return H(s)},guid:1,support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()});var G=t.pop,J=t.sort,Z=t.splice,n="[\\x20\\t\\r\\n\\f]",ee=new RegExp("^"+n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+n+"+$","g"),te=(C.contains=function(e,t){t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(e.contains?e.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function ne(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}C.escapeSelector=function(e){return(e+"").replace(te,ne)};var ie,k,re,oe,se,T,ae,E,f,le,i=w,ue=j,S=ue,D=C.expando,N=0,ce=0,de=Ae(),fe=Ae(),he=Ae(),pe=Ae(),me=function(e,t){return e===t&&(se=!0),0},ge="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",e="(?:\\\\[\\da-fA-F]{1,6}"+n+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",r="\\["+n+"*("+e+")(?:"+n+"*([*^$|!~]?=)"+n+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+e+"))|)"+n+"*\\]",o=":("+e+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+r+")*)|.*)\\)|)",ve=new RegExp(n+"+","g"),be=new RegExp("^"+n+"*,"+n+"*"),ye=new RegExp("^"+n+"*([>+~]|"+n+")"+n+"*"),xe=new RegExp(n+"|>"),_e=new RegExp(o),we=new RegExp("^"+e+"$"),Ce={ID:new RegExp("^#("+e+")"),CLASS:new RegExp("^\\.("+e+")"),TAG:new RegExp("^("+e+"|[*])"),ATTR:new RegExp("^"+r),PSEUDO:new RegExp("^"+o),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+n+"*(even|odd|(([+-]|)(\\d*)n|)"+n+"*(?:([+-]|)"+n+"*(\\d+)|))"+n+"*\\)|)","i"),bool:new RegExp("^(?:"+ge+")$","i"),needsContext:new RegExp("^"+n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+n+"*((?:-\\d)?\\d*)"+n+"*\\)|)(?=[^-]|$)","i")},ke=/^(?:input|select|textarea|button)$/i,Te=/^h\d$/i,Ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Se=/[+~]/,d=new RegExp("\\\\[\\da-fA-F]{1,6}"+n+"?|\\\\([^\\r\\n\\f])","g"),h=function(e,t){e="0x"+e.slice(1)-65536;return t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))},De=function(){Be()},Ne=He(function(e){return!0===e.disabled&&x(e,"fieldset")},{dir:"parentNode",next:"legend"});try{S.apply(t=a.call(i.childNodes),i.childNodes),t[i.childNodes.length].nodeType}catch(e){S={apply:function(e,t){ue.apply(e,a.call(t))},call:function(e){ue.apply(e,a.call(arguments,1))}}}function A(t,e,n,i){var r,o,s,a,l,u,c=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&(Be(e),e=e||T,E)){if(11!==d&&(a=Ee.exec(t)))if(r=a[1]){if(9===d){if(!(u=e.getElementById(r)))return n;if(u.id===r)return S.call(n,u),n}else if(c&&(u=c.getElementById(r))&&A.contains(e,u)&&u.id===r)return S.call(n,u),n}else{if(a[2])return S.apply(n,e.getElementsByTagName(t)),n;if((r=a[3])&&e.getElementsByClassName)return S.apply(n,e.getElementsByClassName(r)),n}if(!(pe[t+" "]||f&&f.test(t))){if(u=t,c=e,1===d&&(xe.test(t)||ye.test(t))){for((c=Se.test(t)&&Ie(e.parentNode)||e)==e&&m.scope||((s=e.getAttribute("id"))?s=C.escapeSelector(s):e.setAttribute("id",s=D)),o=(l=Fe(t)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+Le(l[o]);u=l.join(",")}try{return S.apply(n,c.querySelectorAll(u)),n}catch(e){pe(t,!0)}finally{s===D&&e.removeAttribute("id")}}}return Ve(t.replace(ee,"$1"),e,n,i)}function Ae(){var n=[];function i(e,t){return n.push(e+" ")>k.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function l(e){return e[D]=!0,e}function Pe(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function Re(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ne(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function Oe(s){return l(function(o){return o=+o,l(function(e,t){for(var n,i=s([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function Ie(e){return e&&void 0!==e.getElementsByTagName&&e}function Be(e){var e=e?e.ownerDocument||e:i;return e!=T&&9===e.nodeType&&e.documentElement&&(ae=(T=e).documentElement,E=!C.isXMLDoc(T),le=ae.matches||ae.webkitMatchesSelector||ae.msMatchesSelector,i!=T&&(e=T.defaultView)&&e.top!==e&&e.addEventListener("unload",De),m.getById=Pe(function(e){return ae.appendChild(e).id=C.expando,!T.getElementsByName||!T.getElementsByName(C.expando).length}),m.disconnectedMatch=Pe(function(e){return le.call(e,"*")}),m.scope=Pe(function(){return T.querySelectorAll(":scope")}),m.cssHas=Pe(function(){try{T.querySelector(":has(*,:jqfake)")}catch(e){return 1}}),m.getById?(k.filter.ID=function(e){var t=e.replace(d,h);return function(e){return e.getAttribute("id")===t}},k.find.ID=function(e,t){if(void 0!==t.getElementById&&E)return(t=t.getElementById(e))?[t]:[]}):(k.filter.ID=function(e){var t=e.replace(d,h);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},k.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),k.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},k.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},f=[],Pe(function(e){var t;ae.appendChild(e).innerHTML="<a id='"+D+"' href='' disabled='disabled'></a><select id='"+D+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||f.push("\\["+n+"*(?:value|"+ge+")"),e.querySelectorAll("[id~="+D+"-]").length||f.push("~="),e.querySelectorAll("a#"+D+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll(":checked").length||f.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),ae.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+n+"*name"+n+"*="+n+"*(?:''|\"\")")}),m.cssHas||f.push(":has"),f=f.length&&new RegExp(f.join("|")),me=function(e,t){var n;return e===t?(se=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==i&&A.contains(i,e)?-1:t===T||t.ownerDocument==i&&A.contains(i,t)?1:oe?y.call(oe,e)-y.call(oe,t):0:4&n?-1:1)}),T}for(ie in A.matches=function(e,t){return A(e,null,null,t)},A.matchesSelector=function(e,t){if(Be(e),E&&!(pe[t+" "]||f&&f.test(t)))try{var n=le.call(e,t);if(n||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){pe(t,!0)}return 0<A(t,T,null,[e]).length},A.contains=function(e,t){return(e.ownerDocument||e)!=T&&Be(e),C.contains(e,t)},A.attr=function(e,t){(e.ownerDocument||e)!=T&&Be(e);var n=k.attrHandle[t.toLowerCase()],n=n&&q.call(k.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==n?n:e.getAttribute(t)},A.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(e){var t,n=[],i=0,r=0;if(se=!m.sortStable,oe=!m.sortStable&&a.call(e,0),J.call(e,me),se){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)Z.call(e,n[i],1)}return oe=null,e},C.fn.uniqueSort=function(){return this.pushStack(C.uniqueSort(a.apply(this)))},(k=C.expr={cacheLength:50,createPseudo:l,match:Ce,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(d,h),e[3]=(e[3]||e[4]||e[5]||"").replace(d,h),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||A.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&A.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&_e.test(n)&&(t=(t=Fe(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(d,h).toLowerCase();return"*"===e?function(){return!0}:function(e){return x(e,t)}},CLASS:function(e){var t=de[e+" "];return t||(t=new RegExp("(^|"+n+")"+e+"("+n+"|$)"))&&de(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=A.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(ve," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,s,a,l=g!=v?"nextSibling":"previousSibling",u=e.parentNode,c=b&&e.nodeName.toLowerCase(),d=!n&&!b,f=!1;if(u){if(g){for(;l;){for(o=e;o=o[l];)if(b?x(o,c):1===o.nodeType)return!1;a=l="only"===h&&!a&&"nextSibling"}return!0}if(a=[v?u.firstChild:u.lastChild],v&&d){for(f=(s=(i=(r=u[D]||(u[D]={}))[h]||[])[0]===N&&i[1])&&i[2],o=s&&u.childNodes[s];o=++s&&o&&o[l]||(f=s=0,a.pop());)if(1===o.nodeType&&++f&&o===e){r[h]=[N,s,f];break}}else if(!1===(f=d?s=(i=(r=e[D]||(e[D]={}))[h]||[])[0]===N&&i[1]:f))for(;(o=++s&&o&&o[l]||(f=s=0,a.pop()))&&((b?!x(o,c):1!==o.nodeType)||!++f||(d&&((r=o[D]||(o[D]={}))[h]=[N,f]),o!==e)););return(f-=m)===p||f%p==0&&0<=f/p}}},PSEUDO:function(e,o){var t,s=k.pseudos[e]||k.setFilters[e.toLowerCase()]||A.error("unsupported pseudo: "+e);return s[D]?s(o):1<s.length?(t=[e,e,"",o],k.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=s(e,o),r=i.length;r--;)e[n=y.call(e,i[r])]=!(t[n]=i[r])}):function(e){return s(e,0,t)}):s}},pseudos:{not:l(function(e){var i=[],r=[],a=Ue(e.replace(ee,"$1"));return a[D]?l(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,n){return i[0]=e,a(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(t){return function(e){return 0<A(t,e).length}}),contains:l(function(t){return t=t.replace(d,h),function(e){return-1<(e.textContent||C.text(e)).indexOf(t)}}),lang:l(function(n){return we.test(n||"")||A.error("unsupported lang: "+n),n=n.replace(d,h).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=_.location&&_.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===ae},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:Re(!1),disabled:Re(!0),checked:function(e){return x(e,"input")&&!!e.checked||x(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return Te.test(e.nodeName)},input:function(e){return ke.test(e.nodeName)},button:function(e){return x(e,"input")&&"button"===e.type||x(e,"button")},text:function(e){return x(e,"input")&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:Oe(function(){return[0]}),last:Oe(function(e,t){return[t-1]}),eq:Oe(function(e,t,n){return[n<0?n+t:n]}),even:Oe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:Oe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:Oe(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:Oe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[ie]=function(t){return function(e){return x(e,"input")&&e.type===t}}(ie);for(ie in{submit:!0,reset:!0})k.pseudos[ie]=function(t){return function(e){return(x(e,"input")||x(e,"button"))&&e.type===t}}(ie);function Me(){}function Fe(e,t){var n,i,r,o,s,a,l,u=fe[e+" "];if(u)return t?0:u.slice(0);for(s=e,a=[],l=k.preFilter;s;){for(o in n&&!(i=be.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=ye.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ee," ")}),s=s.slice(n.length)),k.filter)!(i=Ce[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?A.error(e):fe(e,a).slice(0)}function Le(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function He(s,e,t){var a=e.dir,l=e.next,u=l||a,c=t&&"parentNode"===u,d=ce++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||c)return s(e,t,n);return!1}:function(e,t,n){var i,r,o=[N,d];if(n){for(;e=e[a];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||c)if(r=e[D]||(e[D]={}),l&&x(e,l))e=e[a]||e;else{if((i=r[u])&&i[0]===N&&i[1]===d)return o[2]=i[2];if((r[u]=o)[2]=s(e,t,n))return!0}return!1}}function je(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function ze(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)!(o=e[a])||n&&!n(o,i,r)||(s.push(o),u&&t.push(a));return s}function We(h,p,m,g,v,e){return g&&!g[D]&&(g=We(g)),v&&!v[D]&&(v=We(v,e)),l(function(e,t,n,i){var r,o,s,a,l=[],u=[],c=t.length,d=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)A(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),f=!h||!e&&p?d:ze(d,l,h,n,i);if(m?m(f,a=v||(e?h:c||g)?[]:t,n,i):a=f,g)for(r=ze(a,u),g(r,[],n,i),o=r.length;o--;)(s=r[o])&&(a[u[o]]=!(f[u[o]]=s));if(e){if(v||h){if(v){for(r=[],o=a.length;o--;)(s=a[o])&&r.push(f[o]=s);v(null,a=[],r,i)}for(o=a.length;o--;)(s=a[o])&&-1<(r=v?y.call(e,s):l[o])&&(e[r]=!(t[r]=s))}}else a=ze(a===t?a.splice(c,a.length):a),v?v(null,t,a,i):S.apply(t,a)})}function qe(g,v){function e(e,t,n,i,r){var o,s,a,l=0,u="0",c=e&&[],d=[],f=re,h=e||y&&k.find.TAG("*",r),p=N+=null==f?1:Math.random()||.1,m=h.length;for(r&&(re=t==T||t||r);u!==m&&null!=(o=h[u]);u++){if(y&&o){for(s=0,t||o.ownerDocument==T||(Be(o),n=!E);a=g[s++];)if(a(o,t||T,n)){S.call(i,o);break}r&&(N=p)}b&&((o=!a&&o)&&l--,e&&c.push(o))}if(l+=u,b&&u!==l){for(s=0;a=v[s++];)a(c,d,t,n);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=G.call(i));d=ze(d)}S.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&C.uniqueSort(i)}return r&&(N=p,re=f),c}var b=0<v.length,y=0<g.length;return b?l(e):e}function Ue(e,t){var n,i=[],r=[],o=he[e+" "];if(!o){for(n=(t=t||Fe(e)).length;n--;)((o=function e(t){for(var i,n,r,o=t.length,s=k.relative[t[0].type],a=s||k.relative[" "],l=s?1:0,u=He(function(e){return e===i},a,!0),c=He(function(e){return-1<y.call(i,e)},a,!0),d=[function(e,t,n){return e=!s&&(n||t!=re)||((i=t).nodeType?u:c)(e,t,n),i=null,e}];l<o;l++)if(n=k.relative[t[l].type])d=[He(je(d),n)];else{if((n=k.filter[t[l].type].apply(null,t[l].matches))[D]){for(r=++l;r<o&&!k.relative[t[r].type];r++);return We(1<l&&je(d),1<l&&Le(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(ee,"$1"),n,l<r&&e(t.slice(l,r)),r<o&&e(t=t.slice(r)),r<o&&Le(t))}d.push(n)}return je(d)}(t[n]))[D]?i:r).push(o);(o=he(e,qe(r,i))).selector=e}return o}function Ve(e,t,n,i){var r,o,s,a,l,u="function"==typeof e&&e,c=!i&&Fe(e=u.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&E&&k.relative[o[1].type]){if(!(t=(k.find.ID(s.matches[0].replace(d,h),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=Ce.needsContext.test(e)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(d,h),Se.test(o[0].type)&&Ie(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&Le(o))break;return S.apply(n,i),n}}return(u||Ue(e,c))(i,t,!E,n,!t||Se.test(e)&&Ie(t.parentNode)||t),n}Me.prototype=k.filters=k.pseudos,k.setFilters=new Me,m.sortStable=D.split("").sort(me).join("")===D,Be(),m.sortDetached=Pe(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),C.find=A,C.expr[":"]=C.expr.pseudos,C.unique=C.uniqueSort,A.compile=Ue,A.select=Ve,A.setDocument=Be,A.escape=C.escapeSelector,A.getText=C.text,A.isXML=C.isXMLDoc,A.selectors=C.expr,A.support=C.support,A.uniqueSort=C.uniqueSort;function $e(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&C(e).is(n))break;i.push(e)}return i}function Ye(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var Xe=C.expr.match.needsContext,Qe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ke(e,n,i){return b(n)?C.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?C.grep(e,function(e){return e===n!==i}):"string"!=typeof n?C.grep(e,function(e){return-1<y.call(n,e)!==i}):C.filter(n,e,i)}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,r[t],n);return 1<i?C.uniqueSort(n):n},filter:function(e){return this.pushStack(Ke(this,e||[],!1))},not:function(e){return this.pushStack(Ke(this,e||[],!0))},is:function(e){return!!Ke(this,"string"==typeof e&&Xe.test(e)?C(e):e||[],!1).length}});var Ge,Je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ze=((C.fn.init=function(e,t,n){if(e){if(n=n||Ge,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Je.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:w,!0)),Qe.test(i[1])&&C.isPlainObject(t))for(var i in t)b(this[i])?this[i](t[i]):this.attr(i,t[i])}else(n=w.getElementById(i[2]))&&(this[0]=n,this.length=1)}return this}).prototype=C.fn,Ge=C(w),/^(?:parents|prev(?:Until|All))/),et={children:!0,contents:!0,next:!0,prev:!0};function tt(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&C(e);if(!Xe.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?C.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?y.call(C(e),this[0]):y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return $e(e,"parentNode")},parentsUntil:function(e,t,n){return $e(e,"parentNode",n)},next:function(e){return tt(e,"nextSibling")},prev:function(e){return tt(e,"previousSibling")},nextAll:function(e){return $e(e,"nextSibling")},prevAll:function(e){return $e(e,"previousSibling")},nextUntil:function(e,t,n){return $e(e,"nextSibling",n)},prevUntil:function(e,t,n){return $e(e,"previousSibling",n)},siblings:function(e){return Ye((e.parentNode||{}).firstChild,e)},children:function(e){return Ye(e.firstChild)},contents:function(e){return null!=e.contentDocument&&L(e.contentDocument)?e.contentDocument:(x(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(i,r){C.fn[i]=function(e,t){var n=C.map(this,r,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(et[i]||C.uniqueSort(n),Ze.test(i)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function nt(e){return e}function it(e){throw e}function rt(e,t,n,i){var r;try{e&&b(r=e.promise)?r.call(e).done(t).fail(n):e&&b(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},C.each(e.match(P)||[],function(e,t){n[t]=!0}),n):C.extend({},i);function r(){for(a=a||i.once,s=o=!0;u.length;c=-1)for(t=u.shift();++c<l.length;)!1===l[c].apply(t[0],t[1])&&i.stopOnFalse&&(c=l.length,t=!1);i.memory||(t=!1),o=!1,a&&(l=t?[]:"")}var o,t,s,a,l=[],u=[],c=-1,d={add:function(){return l&&(t&&!o&&(c=l.length-1,u.push(t)),function n(e){C.each(e,function(e,t){b(t)?i.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==X(t)&&n(t)})}(arguments),t&&!o&&r()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=u=[],l=t="",this},disabled:function(){return!l},lock:function(){return a=u=[],t||o||(l=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),o||r()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},C.extend({Deferred:function(e){var o=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var r=arguments;return C.Deferred(function(i){C.each(o,function(e,t){var n=b(r[t[4]])&&r[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var l=0;function u(r,o,s,a){return function(){function e(){var e,t;if(!(r<l)){if((e=s.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,b(t)?a?t.call(e,u(l,o,nt,a),u(l,o,it,a)):(l++,t.call(e,u(l,o,nt,a),u(l,o,it,a),u(l,o,nt,o.notifyWith))):(s!==nt&&(n=void 0,i=[e]),(a||o.resolveWith)(n,i))}}var n=this,i=arguments,t=a?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.error),l<=r+1&&(s!==it&&(n=void 0,i=[e]),o.rejectWith(n,i))}};r?t():(C.Deferred.getErrorHook?t.error=C.Deferred.getErrorHook():C.Deferred.getStackHook&&(t.error=C.Deferred.getStackHook()),_.setTimeout(t))}}return C.Deferred(function(e){o[0][3].add(u(0,e,b(i)?i:nt,e.notifyWith)),o[1][3].add(u(0,e,b(t)?t:nt)),o[2][3].add(u(0,e,b(n)?n:it))}).promise()},promise:function(e){return null!=e?C.extend(e,s):s}},a={};return C.each(o,function(e,t){var n=t[2],i=t[5];s[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){r[t]=this,o[t]=1<arguments.length?a.call(arguments):e,--n||s.resolveWith(r,o)}}var n=arguments.length,i=n,r=Array(i),o=a.call(arguments),s=C.Deferred();if(n<=1&&(rt(e,s.done(t(i)).resolve,s.reject,!n),"pending"===s.state()||b(o[i]&&o[i].then)))return s.then();for(;i--;)rt(o[i],t(i),s.reject);return s.promise()}});var ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,st=(C.Deferred.exceptionHook=function(e,t){_.console&&_.console.warn&&e&&ot.test(e.name)&&_.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){_.setTimeout(function(){throw e})},C.Deferred());function at(){w.removeEventListener("DOMContentLoaded",at),_.removeEventListener("load",at),C.ready()}C.fn.ready=function(e){return st.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||st.resolveWith(w,[C])}}),C.ready.then=st.then,"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?_.setTimeout(C.ready):(w.addEventListener("DOMContentLoaded",at),_.addEventListener("load",at));function c(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===X(n))for(a in r=!0,n)c(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,b(i)||(s=!0),t=u?s?(t.call(e,i),null):(u=t,function(e,t,n){return u.call(C(e),n)}):t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o}var lt=/^-ms-/,ut=/-([a-z])/g;function ct(e,t){return t.toUpperCase()}function R(e){return e.replace(lt,"ms-").replace(ut,ct)}function dt(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function ft(){this.expando=C.expando+ft.uid++}ft.uid=1,ft.prototype={cache:function(e){var t=e[this.expando];return t||(t={},dt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[R(t)]=n;else for(i in t)r[R(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][R(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(R):(t=R(t))in i?[t]:t.match(P)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!C.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var v=new ft,u=new ft,ht=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pt=/[A-Z]/g;function mt(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(pt,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:ht.test(r)?JSON.parse(r):r)}catch(e){}u.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return u.hasData(e)||v.hasData(e)},data:function(e,t,n){return u.access(e,t,n)},removeData:function(e,t){u.remove(e,t)},_data:function(e,t,n){return v.access(e,t,n)},_removeData:function(e,t){v.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,i,r,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){u.set(this,n)}):c(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=u.get(o,n))||void 0!==(t=mt(o,n))?t:void 0;this.each(function(){u.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=u.get(o),1===o.nodeType&&!v.get(o,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&0===(i=s[t].name).indexOf("data-")&&(i=R(i.slice(5)),mt(o,i,r[i]));v.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){u.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return i=v.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=v.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,r=n.shift(),o=C._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){C.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v.get(e,n)||v.access(e,n,{empty:C.Callbacks("once memory").add(function(){v.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||o.resolveWith(s,[s])}var i,r=1,o=C.Deferred(),s=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=v.get(s[a],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(t)}});function gt(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&yt(e)&&"none"===C.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),p=["Top","Right","Bottom","Left"],bt=w.documentElement,yt=function(e){return C.contains(e.ownerDocument,e)},xt={composed:!0};bt.getRootNode&&(yt=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(xt)===e.ownerDocument});function _t(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return C.css(e,t,"")},l=a(),u=n&&n[3]||(C.cssNumber[t]?"":"px"),c=e.nodeType&&(C.cssNumber[t]||"px"!==u&&+l)&&vt.exec(C.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;s--;)C.style(e,t,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;C.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var wt={};function Ct(e,t){for(var n,i,r,o,s,a=[],l=0,u=e.length;l<u;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(a[l]=v.get(i,"display")||null,a[l]||(i.style.display="")),""===i.style.display&&gt(i)&&(a[l]=(s=o=void 0,o=(r=i).ownerDocument,r=r.nodeName,(s=wt[r])||(o=o.body.appendChild(o.createElement(r)),s=C.css(o,"display"),o.parentNode.removeChild(o),wt[r]=s="none"===s?"block":s),s))):"none"!==n&&(a[l]="none",v.set(i,"display",n)));for(l=0;l<u;l++)null!=a[l]&&(e[l].style.display=a[l]);return e}C.fn.extend({show:function(){return Ct(this,!0)},hide:function(){return Ct(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){gt(this)?C(this).show():C(this).hide()})}});var kt=/^(?:checkbox|radio)$/i,Tt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Et=/^$|^module$|\/(?:java|ecma)script/i,g=(r=w.createDocumentFragment().appendChild(w.createElement("div")),(o=w.createElement("input")).setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),r.appendChild(o),m.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML="<option></option>",m.option=!!r.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function O(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&x(e,t)?C.merge([e],n):n}function St(e,t){for(var n=0,i=e.length;n<i;n++)v.set(e[n],"globalEval",!t||v.get(t[n],"globalEval"))}g.tbody=g.tfoot=g.colgroup=g.caption=g.thead,g.th=g.td,m.option||(g.optgroup=g.option=[1,"<select multiple='multiple'>","</select>"]);var Dt=/<|&#?\w+;/;function Nt(e,t,n,i,r){for(var o,s,a,l,u,c=t.createDocumentFragment(),d=[],f=0,h=e.length;f<h;f++)if((o=e[f])||0===o)if("object"===X(o))C.merge(d,o.nodeType?[o]:o);else if(Dt.test(o)){for(s=s||c.appendChild(t.createElement("div")),a=(Tt.exec(o)||["",""])[1].toLowerCase(),a=g[a]||g._default,s.innerHTML=a[1]+C.htmlPrefilter(o)+a[2],u=a[0];u--;)s=s.lastChild;C.merge(d,s.childNodes),(s=c.firstChild).textContent=""}else d.push(t.createTextNode(o));for(c.textContent="",f=0;o=d[f++];)if(i&&-1<C.inArray(o,i))r&&r.push(o);else if(l=yt(o),s=O(c.appendChild(o),"script"),l&&St(s),n)for(u=0;o=s[u++];)Et.test(o.type||"")&&n.push(o);return c}var At=/^([^.]*)(?:\.(.+)|)/;function Pt(){return!0}function Rt(){return!1}function Ot(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Ot(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Rt;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return C().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),e.each(function(){C.event.add(this,t,r,i,n)})}function It(e,i,t){t?(v.set(e,i,!1),C.event.add(e,i,{namespace:!1,handler:function(e){var t,n=v.get(this,i);if(1&e.isTrigger&&this[i]){if(n)(C.event.special[i]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),v.set(this,i,n),this[i](),t=v.get(this,i),v.set(this,i,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(v.set(this,i,C.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Pt)}})):void 0===v.get(e,i)&&C.event.add(e,i,Pt)}C.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,d,f,h,p=v.get(t);if(dt(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&C.find.matchesSelector(bt,r),n.guid||(n.guid=C.guid++),a=(a=p.events)||(p.events=Object.create(null)),s=(s=p.handle)||(p.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;l--;)d=h=(f=At.exec(e[l])||[])[1],f=(f[2]||"").split(".").sort(),d&&(u=C.event.special[d]||{},d=(r?u.delegateType:u.bindType)||d,u=C.event.special[d]||{},h=C.extend({type:d,origType:h,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:f.join(".")},o),(c=a[d])||((c=a[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,f,s)||t.addEventListener&&t.addEventListener(d,s)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,h):c.push(h),C.event.global[d]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,f,h,p,m,g=v.hasData(e)&&v.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(P)||[""]).length;u--;)if(h=m=(a=At.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},f=l[h=(i?d.delegateType:d.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||C.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[u],n,i,!0);C.isEmptyObject(l)&&v.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s=new Array(arguments.length),a=C.event.fix(e),e=(v.get(this,"events")||Object.create(null))[a.type]||[],l=C.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(o=C.event.handlers.call(this,a,e),t=0;(i=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==r.namespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((C.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?-1<C(r,this).index(u):C.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return kt.test(e.type)&&e.click&&x(e,"input")&&It(e,"click",!0),!1},trigger:function(e){e=this||e;return kt.test(e.type)&&e.click&&x(e,"input")&&It(e,"click"),!0},_default:function(e){e=e.target;return kt.test(e.type)&&e.click&&x(e,"input")&&v.get(e,"click")||x(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Pt:Rt,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Rt,isPropagationStopped:Rt,isImmediatePropagationStopped:Rt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Pt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Pt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Pt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(i,r){function o(e){var t,n;w.documentMode?(t=v.get(this,"handle"),(n=C.event.fix(e)).type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)):C.event.simulate(r,e.target,C.event.fix(e))}C.event.special[i]={setup:function(){var e;if(It(this,i,!0),!w.documentMode)return!1;(e=v.get(this,r))||this.addEventListener(r,o),v.set(this,r,(e||0)+1)},trigger:function(){return It(this,i),!0},teardown:function(){var e;if(!w.documentMode)return!1;(e=v.get(this,r)-1)?v.set(this,r,e):(this.removeEventListener(r,o),v.remove(this,r))},_default:function(e){return v.get(e.target,i)},delegateType:r},C.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=w.documentMode?this:e,n=v.get(t,r);n||(w.documentMode?this.addEventListener(r,o):e.addEventListener(i,o,!0)),v.set(t,r,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=w.documentMode?this:e,n=v.get(t,r)-1;n?v.set(t,r,n):(w.documentMode?this.removeEventListener(r,o):e.removeEventListener(i,o,!0),v.remove(t,r))}}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){C.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),C.fn.extend({on:function(e,t,n,i){return Ot(this,e,t,n,i)},one:function(e,t,n,i){return Ot(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Rt),this.each(function(){C.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r])}return this}});var Bt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Lt(e,t){return x(e,"table")&&x(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Ht(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function jt(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function zt(e,t){var n,i,r,o;if(1===t.nodeType){if(v.hasData(e)&&(o=v.get(e).events))for(r in v.remove(t,"handle events"),o)for(n=0,i=o[r].length;n<i;n++)C.event.add(t,r,o[r][n]);u.hasData(e)&&(e=u.access(e),e=C.extend({},e),u.set(t,e))}}function Wt(n,i,r,o){i=H(i);var e,t,s,a,l,u,c=0,d=n.length,f=d-1,h=i[0],p=b(h);if(p||1<d&&"string"==typeof h&&!m.checkClone&&Mt.test(h))return n.each(function(e){var t=n.eq(e);p&&(i[0]=h.call(this,e,t.html())),Wt(t,i,r,o)});if(d&&(t=(e=Nt(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(a=(s=C.map(O(e,"script"),Ht)).length;c<d;c++)l=e,c!==f&&(l=C.clone(l,!0,!0),a&&C.merge(s,O(l,"script"))),r.call(n[c],l,c);if(a)for(u=s[s.length-1].ownerDocument,C.map(s,jt),c=0;c<a;c++)l=s[c],Et.test(l.type||"")&&!v.access(l,"globalEval")&&C.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):Y(l.textContent.replace(Ft,""),l,u))}return n}function qt(e,t,n){for(var i,r=t?C.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||C.cleanData(O(i)),i.parentNode&&(n&&yt(i)&&St(O(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,s,a,l,u,c=e.cloneNode(!0),d=yt(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=O(c),i=0,r=(o=O(e)).length;i<r;i++)a=o[i],l=s[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&kt.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||O(e),s=s||O(c),i=0,r=o.length;i<r;i++)zt(o[i],s[i]);else zt(e,c);return 0<(s=O(c,"script")).length&&St(s,!d&&O(e,"script")),c},cleanData:function(e){for(var t,n,i,r=C.event.special,o=0;void 0!==(n=e[o]);o++)if(dt(n)){if(t=n[v.expando]){if(t.events)for(i in t.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[v.expando]=void 0}n[u.expando]&&(n[u.expando]=void 0)}}}),C.fn.extend({detach:function(e){return qt(this,e,!0)},remove:function(e){return qt(this,e)},text:function(e){return c(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Wt(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,e).appendChild(e)})},prepend:function(){return Wt(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Lt(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Wt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Wt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(O(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return c(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Bt.test(e)&&!g[(Tt.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(O(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Wt(this,arguments,function(e){var t=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(O(this)),t&&t.replaceChild(e,this))},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){C.fn[e]=function(e){for(var t,n=[],i=C(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),C(i[o])[s](t),j.apply(n,t.get());return this.pushStack(n)}});function Ut(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:_).getComputedStyle(e)}function Vt(e,t,n){var i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in n=n.call(e),t)e.style[i]=r[i];return n}var $t,Yt,Xt,Qt,Kt,Gt,Jt,s,Zt=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),en=/^--/,tn=new RegExp(p.join("|"),"i");function nn(){var e;s&&(Jt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",s.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bt.appendChild(Jt).appendChild(s),e=_.getComputedStyle(s),$t="1%"!==e.top,Gt=12===rn(e.marginLeft),s.style.right="60%",Qt=36===rn(e.right),Yt=36===rn(e.width),s.style.position="absolute",Xt=12===rn(s.offsetWidth/3),bt.removeChild(Jt),s=null)}function rn(e){return Math.round(parseFloat(e))}function on(e,t,n){var i,r=en.test(t),o=e.style;return(n=n||Ut(e))&&(i=n.getPropertyValue(t)||n[t],""!==(i=r?i&&(i.replace(ee,"$1")||void 0):i)||yt(e)||(i=C.style(e,t)),!m.pixelBoxStyles()&&Zt.test(i)&&tn.test(t)&&(r=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=i,i=n.width,o.width=r,o.minWidth=e,o.maxWidth=t)),void 0!==i?i+"":i}function sn(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Jt=w.createElement("div"),(s=w.createElement("div")).style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===s.style.backgroundClip,C.extend(m,{boxSizingReliable:function(){return nn(),Yt},pixelBoxStyles:function(){return nn(),Qt},pixelPosition:function(){return nn(),$t},reliableMarginLeft:function(){return nn(),Gt},scrollboxSize:function(){return nn(),Xt},reliableTrDimensions:function(){var e,t,n;return null==Kt&&(e=w.createElement("table"),t=w.createElement("tr"),n=w.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",bt.appendChild(e).appendChild(t).appendChild(n),n=_.getComputedStyle(t),Kt=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,bt.removeChild(e)),Kt}}));var an=["Webkit","Moz","ms"],ln=w.createElement("div").style,un={};function cn(e){var t=C.cssProps[e]||un[e];return t||(e in ln?e:un[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=an.length;n--;)if((e=an[n]+t)in ln)return e}(e)||e)}var dn=/^(none|table(?!-c[ea]).+)/,fn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"};function pn(e,t,n){var i=vt.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function mn(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=C.css(e,n+p[s],!0,r)),i?("content"===n&&(l-=C.css(e,"padding"+p[s],!0,r)),"margin"!==n&&(l-=C.css(e,"border"+p[s]+"Width",!0,r))):(l+=C.css(e,"padding"+p[s],!0,r),"padding"!==n?l+=C.css(e,"border"+p[s]+"Width",!0,r):a+=C.css(e,"border"+p[s]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l+u}function gn(e,t,n){var i=Ut(e),r=(!m.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,i),o=r,s=on(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Zt.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&x(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===C.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+mn(e,t,n||(r?"border":"content"),o,i,s)+"px"}function I(e,t,n,i,r){return new I.prototype.init(e,t,n,i,r)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=on(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=R(t),l=en.test(t),u=e.style;if(l||(t=cn(a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=vt.exec(n))&&r[1]&&(n=_t(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(C.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o=R(t);return en.test(t)||(t=cn(o)),"normal"===(r=void 0===(r=(o=C.cssHooks[t]||C.cssHooks[o])&&"get"in o?o.get(e,!0,n):r)?on(e,t,i):r)&&t in hn&&(r=hn[t]),(""===n||n)&&(o=parseFloat(r),!0===n||isFinite(o))?o||0:r}}),C.each(["height","width"],function(e,s){C.cssHooks[s]={get:function(e,t,n){if(t)return!dn.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?gn(e,s,n):Vt(e,fn,function(){return gn(e,s,n)})},set:function(e,t,n){var i=Ut(e),r=!m.scrollboxSize()&&"absolute"===i.position,o=(r||n)&&"border-box"===C.css(e,"boxSizing",!1,i),n=n?mn(e,s,n,o,i):0;return o&&r&&(n-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(i[s])-mn(e,s,"border",!1,i)-.5)),n&&(o=vt.exec(t))&&"px"!==(o[3]||"px")&&(e.style[s]=t,t=C.css(e,s)),pn(0,t,n)}}}),C.cssHooks.marginLeft=sn(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(on(e,"marginLeft"))||e.getBoundingClientRect().left-Vt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(r,o){C.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+p[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(C.cssHooks[r+o].set=pn)}),C.fn.extend({css:function(e,t){return c(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Ut(e),r=t.length;s<r;s++)o[t[s]]=C.css(e,t[s],!1,i);return o}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=I).prototype={constructor:I,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return(e&&e.get?e:I.propHooks._default).get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:I.propHooks._default).set(this),this}}).init.prototype=I.prototype,(I.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[cn(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=I.prototype.init,C.fx.step={};var vn,bn,yn=/^(?:toggle|show|hide)$/,xn=/queueHooks$/;function _n(){bn&&(!1===w.hidden&&_.requestAnimationFrame?_.requestAnimationFrame(_n):_.setTimeout(_n,C.fx.interval),C.fx.tick())}function wn(){return _.setTimeout(function(){vn=void 0}),vn=Date.now()}function Cn(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=p[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function kn(e,t,n){for(var i,r=(B.tweeners[t]||[]).concat(B.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function B(r,e,t){var n,o,i,s,a,l,u,c=0,d=B.prefilters.length,f=C.Deferred().always(function(){delete h.elem}),h=function(){if(!o){for(var e=vn||wn(),e=Math.max(0,p.startTime+p.duration-e),t=1-(e/p.duration||0),n=0,i=p.tweens.length;n<i;n++)p.tweens[n].run(t);if(f.notifyWith(r,[p,t,e]),t<1&&i)return e;i||f.notifyWith(r,[p,1,0]),f.resolveWith(r,[p])}return!1},p=f.promise({elem:r,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:vn||wn(),duration:t.duration,tweens:[],createTween:function(e,t){t=C.Tween(r,p.opts,e,t,p.opts.specialEasing[e]||p.opts.easing);return p.tweens.push(t),t},stop:function(e){var t=0,n=e?p.tweens.length:0;if(!o){for(o=!0;t<n;t++)p.tweens[t].run(1);e?(f.notifyWith(r,[p,1,0]),f.resolveWith(r,[p,e])):f.rejectWith(r,[p,e])}return this}}),m=p.props,g=m,v=p.opts.specialEasing;for(i in g)if(a=v[s=R(i)],l=g[i],Array.isArray(l)&&(a=l[1],l=g[i]=l[0]),i!==s&&(g[s]=l,delete g[i]),(u=C.cssHooks[s])&&"expand"in u)for(i in l=u.expand(l),delete g[s],l)i in g||(g[i]=l[i],v[i]=a);else v[s]=a;for(;c<d;c++)if(n=B.prefilters[c].call(p,r,m,p.opts))return b(n.stop)&&(C._queueHooks(p.elem,p.opts.queue).stop=n.stop.bind(n)),n;return C.map(m,kn,p),b(p.opts.start)&&p.opts.start.call(r,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),C.fx.timer(C.extend(h,{elem:r,anim:p,queue:p.opts.queue})),p}C.Animation=C.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _t(n.elem,e,vt.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=b(e)?(t=e,["*"]):e.match(P)).length;i<r;i++)n=e[i],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,u,c="width"in t||"height"in t,d=this,f={},h=e.style,p=e.nodeType&&gt(e),m=v.get(e,"fxshow");for(i in n.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],yn.test(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}f[i]=m&&m[i]||C.style(e,i)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(f))for(i in c&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=v.get(e,"display")),"none"===(c=C.css(e,"display"))&&(u?c=u:(Ct([e],!0),u=e.style.display||u,c=C.css(e,"display"),Ct([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===C.css(e,"float")&&(l||(d.done(function(){h.display=u}),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(p=m.hidden):m=v.access(e,"fxshow",{display:u}),o&&(m.hidden=!p),p&&Ct([e],!0),d.done(function(){for(i in p||Ct([e]),v.remove(e,"fxshow"),f)C.style(e,i,f[i])})),l=kn(p?m[i]:0,i,d),i in m||(m[i]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){b(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(gt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=B(this,C.extend({},t),s);(o||v.get(this,"finish"))&&e.stop(!0)}var o=C.isEmptyObject(t),s=C.speed(e,n,i);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(r,e,o){function s(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=C.timers,i=v.get(this);if(t)i[t]&&i[t].stop&&s(i[t]);else for(t in i)i[t]&&i[t].stop&&xn.test(t)&&s(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||C.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=v.get(this),n=t[s+"queue"],i=t[s+"queueHooks"],r=C.timers,o=n?n.length:0;for(t.finish=!0,C.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===s&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var r=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Cn(i,!0),e,t,n)}}),C.each({slideDown:Cn("show"),slideUp:Cn("hide"),slideToggle:Cn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(vn=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),vn=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){bn||(bn=!0,_n())},C.fx.stop=function(){bn=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=_.setTimeout(e,i);t.stop=function(){_.clearTimeout(n)}})},o=w.createElement("input"),r=w.createElement("select").appendChild(w.createElement("option")),o.type="checkbox",m.checkOn=""!==o.value,m.optSelected=r.selected,(o=w.createElement("input")).value="t",o.type="radio",m.radioValue="t"===o.value;var Tn,En=C.expr.attrHandle,Sn=(C.fn.extend({attr:function(e,t){return c(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?C.prop(e,t,n):(1===o&&C.isXMLDoc(e)||(r=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?Tn:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){var n;if(!m.radioValue&&"radio"===t&&x(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(P);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),Tn={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var s=En[t]||C.find.attr;En[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=En[o],En[o]=i,i=null!=s(e,t,n)?o:null,En[o]=r),i}}),/^(?:input|select|textarea|button)$/i),Dn=/^(?:a|area)$/i;function Nn(e){return(e.match(P)||[]).join(" ")}function An(e){return e.getAttribute&&e.getAttribute("class")||""}function Pn(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}C.fn.extend({prop:function(e,t){return c(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(e)||(t=C.propFix[t]||t,r=C.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):Sn.test(e.nodeName)||Dn.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,i,r,o,s;return b(t)?this.each(function(e){C(this).addClass(t.call(this,e,An(this)))}):(e=Pn(t)).length?this.each(function(){if(i=An(this),n=1===this.nodeType&&" "+Nn(i)+" "){for(o=0;o<e.length;o++)r=e[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Nn(n),i!==s&&this.setAttribute("class",s)}}):this},removeClass:function(t){var e,n,i,r,o,s;return b(t)?this.each(function(e){C(this).removeClass(t.call(this,e,An(this)))}):arguments.length?(e=Pn(t)).length?this.each(function(){if(i=An(this),n=1===this.nodeType&&" "+Nn(i)+" "){for(o=0;o<e.length;o++)for(r=e[o];-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");s=Nn(n),i!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,i,r,o,s=typeof t,a="string"==s||Array.isArray(t);return b(t)?this.each(function(e){C(this).toggleClass(t.call(this,e,An(this),n),n)}):"boolean"==typeof n&&a?n?this.addClass(t):this.removeClass(t):(e=Pn(t),this.each(function(){if(a)for(o=C(this),r=0;r<e.length;r++)i=e[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==t&&"boolean"!=s||((i=An(this))&&v.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",!i&&!1!==t&&v.get(this,"__className__")||""))}))},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+Nn(An(t))+" ").indexOf(i))return!0;return!1}});function Rn(e){e.stopPropagation()}var On=/\r/g,In=(C.fn.extend({val:function(t){var n,e,i,r=this[0];return arguments.length?(i=b(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):r?(n=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(On,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:Nn(C.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,r="select-one"===e.type,o=r?null:[],s=r?i+1:n.length,a=i<0?s:r?i:0;a<s;a++)if(((t=n[a]).selected||a===i)&&!(t.disabled||t.parentNode.disabled&&x(t.parentNode,"optgroup"))){if(t=C(t).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,o=C.makeArray(t),s=r.length;s--;)((i=r[s]).selected=-1<C.inArray(C.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},m.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_.location),Bn={guid:Date.now()},Mn=/\?/,Fn=(C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new _.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/^(?:focusinfocus|focusoutblur)$/),Ln=(C.extend(C.event,{trigger:function(e,t,n,i){var r,o,s,a,l,u,c,d=[n||w],f=q.call(e,"type")?e.type:e,h=q.call(e,"namespace")?e.namespace.split("."):[],p=c=o=n=n||w;if(3!==n.nodeType&&8!==n.nodeType&&!Fn.test(f+C.event.triggered)&&(-1<f.indexOf(".")&&(f=(h=f.split(".")).shift(),h.sort()),a=f.indexOf(":")<0&&"on"+f,(e=e[C.expando]?e:new C.Event(f,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),u=C.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!F(n)){for(s=u.delegateType||f,Fn.test(s+f)||(p=p.parentNode);p;p=p.parentNode)d.push(p),o=p;o===(n.ownerDocument||w)&&d.push(o.defaultView||o.parentWindow||_)}for(r=0;(p=d[r++])&&!e.isPropagationStopped();)c=p,e.type=1<r?s:u.bindType||f,(l=(v.get(p,"events")||Object.create(null))[e.type]&&v.get(p,"handle"))&&l.apply(p,t),(l=a&&p[a])&&l.apply&&dt(p)&&(e.result=l.apply(p,t),!1===e.result&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!dt(n)||a&&b(n[f])&&!F(n)&&((o=n[a])&&(n[a]=null),C.event.triggered=f,e.isPropagationStopped()&&c.addEventListener(f,Rn),n[f](),e.isPropagationStopped()&&c.removeEventListener(f,Rn),C.event.triggered=void 0,o&&(n[a]=o)),e.result}},simulate:function(e,t,n){n=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(n,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),/\[\]$/),Hn=/\r?\n/g,jn=/^(?:submit|button|image|reset|file)$/i,zn=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=b(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,o){if(Array.isArray(e))C.each(e,function(e,t){r||Ln.test(i)?o(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==X(e))o(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,o)}(i,e[i],t,n);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&zn.test(this.nodeName)&&!jn.test(e)&&(this.checked||!kt.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(Hn,"\r\n")}}):{name:t.name,value:n.replace(Hn,"\r\n")}}).get()}});var Wn=/%20/g,qn=/#.*$/,Un=/([?&])_=[^&]*/,Vn=/^(.*?):[ \t]*([^\r\n]*)$/gm,$n=/^(?:GET|HEAD)$/,Yn=/^\/\//,Xn={},Qn={},Kn="*/".concat("*"),Gn=w.createElement("a");function Jn(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(P)||[];if(b(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Zn(t,i,r,o){var s={},a=t===Qn;function l(e){var n;return s[e]=!0,C.each(t[e]||[],function(e,t){t=t(i,r,o);return"string"!=typeof t||a||s[t]?a?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!s["*"]&&l("*")}function ei(e,t){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}Gn.href=In.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(In.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ei(ei(e,C.ajaxSettings),t):ei(C.ajaxSettings,e)},ajaxPrefilter:Jn(Xn),ajaxTransport:Jn(Qn),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,u,c,n,d,f,h,i,p=C.ajaxSetup({},t=t||{}),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),b=C.Callbacks("once memory"),y=p.statusCode||{},r={},o={},s="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(f){if(!n)for(n={};t=Vn.exec(c);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return f?c:null},setRequestHeader:function(e,t){return null==f&&(e=o[e.toLowerCase()]=o[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==f&&(p.mimeType=e),this},statusCode:function(e){if(e)if(f)x.always(e[x.status]);else for(var t in e)y[t]=[y[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),a(0,e),this}};if(v.promise(x),p.url=((e||p.url||In.href)+"").replace(Yn,In.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(P)||[""],null==p.crossDomain){e=w.createElement("a");try{e.href=p.url,e.href=e.href,p.crossDomain=Gn.protocol+"//"+Gn.host!=e.protocol+"//"+e.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Zn(Xn,p,t,x),!f){for(i in(h=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!$n.test(p.type),u=p.url.replace(qn,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Wn,"+")):(e=p.url.slice(u.length),p.data&&(p.processData||"string"==typeof p.data)&&(u+=(Mn.test(u)?"&":"?")+p.data,delete p.data),!1===p.cache&&(u=u.replace(Un,"$1"),e=(Mn.test(u)?"&":"?")+"_="+Bn.guid+++e),p.url=u+e),p.ifModified&&(C.lastModified[u]&&x.setRequestHeader("If-Modified-Since",C.lastModified[u]),C.etag[u]&&x.setRequestHeader("If-None-Match",C.etag[u])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Kn+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(m,x,p)||f))return x.abort();if(s="abort",b.add(p.complete),x.done(p.success),x.fail(p.error),l=Zn(Qn,p,t,x)){if(x.readyState=1,h&&g.trigger("ajaxSend",[x,p]),f)return x;p.async&&0<p.timeout&&(d=_.setTimeout(function(){x.abort("timeout")},p.timeout));try{f=!1,l.send(r,a)}catch(e){if(f)throw e;a(-1,e)}}else a(-1,"No Transport")}return x;function a(e,t,n,i){var r,o,s,a=t;f||(f=!0,d&&_.clearTimeout(d),l=void 0,c=i||"",x.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s=s||r}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,x,n)),!i&&-1<C.inArray("script",p.dataTypes)&&C.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),s=function(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,s,x,i),i?(p.ifModified&&((n=x.getResponseHeader("Last-Modified"))&&(C.lastModified[u]=n),(n=x.getResponseHeader("etag"))&&(C.etag[u]=n)),204===e||"HEAD"===p.type?a="nocontent":304===e?a="notmodified":(a=s.state,r=s.data,i=!(o=s.error))):(o=a,!e&&a||(a="error",e<0&&(e=0))),x.status=e,x.statusText=(t||a)+"",i?v.resolveWith(m,[r,a,x]):v.rejectWith(m,[x,a,o]),x.statusCode(y),y=void 0,h&&g.trigger(i?"ajaxSuccess":"ajaxError",[x,p,i?r:o]),b.fireWith(m,[x,a]),h&&(g.trigger("ajaxComplete",[x,p]),--C.active||C.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,r){C[r]=function(e,t,n,i){return b(t)&&(i=i||n,n=t,t=void 0),C.ajax(C.extend({url:e,type:r,dataType:i,data:t,success:n},C.isPlainObject(e)&&e))}}),C.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){return this[0]&&(b(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=b(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch(e){}};var ti={0:200,1223:204},ni=C.ajaxSettings.xhr(),ii=(m.cors=!!ni&&"withCredentials"in ni,m.ajax=ni=!!ni,C.ajaxTransport(function(r){var o,s;if(m.cors||ni&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(ti[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&_.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var i,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=C("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),w.head.appendChild(i[0])},abort:function(){r&&r()}}}),[]),ri=/(=)\?(?=&|$)|\?\?/,oi=(C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ii.pop()||C.expando+"_"+Bn.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,s=!1!==e.jsonp&&(ri.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ri.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ri,"$1"+i):!1!==e.jsonp&&(e.url+=(Mn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||C.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=_[i],_[i]=function(){o=arguments},n.always(function(){void 0===r?C(_).removeProp(i):_[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,ii.push(i)),o&&b(r)&&r(o[0]),o=r=void 0}),"script"}),m.createHTMLDocument=((e=w.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),C.parseHTML=function(e,t,n){var i;return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=w.implementation.createHTMLDocument("")).createElement("base")).href=w.location.href,t.head.appendChild(i)):t=w),i=!n&&[],(n=Qe.exec(e))?[t.createElement(n[1])]:(n=Nt([e],t,i),i&&i.length&&C(i).remove(),C.merge([],n.childNodes)))},C.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return-1<a&&(i=Nn(e.slice(a)),e=e.slice(0,a)),b(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<s.length&&C.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,n){var i,r,o,s,a=C.css(e,"position"),l=C(e),u={};"static"===a&&(e.style.position="relative"),o=l.offset(),i=C.css(e,"top"),s=C.css(e,"left"),a=("absolute"===a||"fixed"===a)&&-1<(i+s).indexOf("auto")?(r=(a=l.position()).top,a.left):(r=parseFloat(i)||0,parseFloat(s)||0),null!=(t=b(t)?t.call(e,n,C.extend({},o)):t).top&&(u.top=t.top-o.top+r),null!=t.left&&(u.left=t.left-o.left+a),"using"in t?t.using.call(e,u):l.css(u)}},C.fn.extend({offset:function(t){var e,n;return arguments.length?void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),r.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-C.css(i,"marginTop",!0),left:t.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||bt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;C.fn[t]=function(e){return c(this,function(e,t,n){var i;if(F(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=sn(m.pixelPosition,function(e,t){if(t)return t=on(e,n),Zt.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(s,a){C.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,o){C.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return c(this,function(e,t,n){var i;return F(e)?0===o.indexOf("outer")?e["inner"+s]:e.document.documentElement["client"+s]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+s],i["scroll"+s],e.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?C.css(e,t,r):C.style(e,t,n,r)},a,n?e:void 0,n)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),si=(C.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),b(e))return n=a.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=x,C.isFunction=b,C.isWindow=F,C.camelCase=R,C.type=X,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(oi,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C}),_.jQuery),ai=_.$;return C.noConflict=function(e){return _.$===C&&(_.$=ai),e&&_.jQuery===C&&(_.jQuery=si),C},void 0===M&&(_.jQuery=_.$=C),C}),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(a,i){"use strict";function e(e){return 0<=function(e,t){for(var n=/^(\d+)\.(\d+)\.(\d+)/,i=n.exec(e)||[],r=n.exec(t)||[],o=1;o<=3;o++){if(+r[o]<+i[o])return 1;if(+i[o]<+r[o])return-1}return 0}(a.fn.jquery,e)}a.migrateVersion="3.4.1";var t=Object.create(null),r=(a.migrateDisablePatches=function(){for(var e=0;e<arguments.length;e++)t[arguments[e]]=!0},a.migrateEnablePatches=function(){for(var e=0;e<arguments.length;e++)delete t[arguments[e]]},a.migrateIsPatchEnabled=function(e){return!t[e]},i.console&&i.console.log&&(a&&e("3.0.0")&&!e("5.0.0")||i.console.log("JQMIGRATE: jQuery 3.x-4.x REQUIRED"),a.migrateWarnings&&i.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),i.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion)),{});function s(e,t){var n=i.console;!a.migrateIsPatchEnabled(e)||a.migrateDeduplicateWarnings&&r[t]||(r[t]=!0,a.migrateWarnings.push(t+" ["+e+"]"),n&&n.warn&&!a.migrateMute&&(n.warn("JQMIGRATE: "+t),a.migrateTrace&&n.trace&&n.trace()))}function n(e,t,n,i,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return s(i,r),n},set:function(e){s(i,r),n=e}})}function o(e,t,n,i,r){var o=e[t];e[t]=function(){return r&&s(i,r),(a.migrateIsPatchEnabled(i)?n:o||a.noop).apply(this,arguments)}}function l(e,t,n,i,r){if(!r)throw new Error("No warning message provided");o(e,t,n,i,r)}function u(e,t,n,i){o(e,t,n,i)}a.migrateDeduplicateWarnings=!0,a.migrateWarnings=[],void 0===a.migrateTrace&&(a.migrateTrace=!0),a.migrateReset=function(){r={},a.migrateWarnings.length=0},"BackCompat"===i.document.compatMode&&s("quirks","jQuery is not compatible with Quirks Mode");var c,d,f,h={},p=a.fn.init,m=a.find,g=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,b=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;for(c in u(a.fn,"init",function(e){var t=Array.prototype.slice.call(arguments);return a.migrateIsPatchEnabled("selector-empty-id")&&"string"==typeof e&&"#"===e&&(s("selector-empty-id","jQuery( '#' ) is not a valid selector"),t[0]=[]),p.apply(this,t)},"selector-empty-id"),a.fn.init.prototype=a.fn,u(a,"find",function(t){var n=Array.prototype.slice.call(arguments);if("string"==typeof t&&g.test(t))try{i.document.querySelector(t)}catch(e){t=t.replace(v,function(e,t,n,i){return"["+t+n+'"'+i+'"]'});try{i.document.querySelector(t),s("selector-hash","Attribute selector with '#' must be quoted: "+n[0]),n[0]=t}catch(e){s("selector-hash","Attribute selector with '#' was not fixed: "+n[0])}}return m.apply(this,n)},"selector-hash"),m)Object.prototype.hasOwnProperty.call(m,c)&&(a.find[c]=m[c]);l(a.fn,"size",function(){return this.length},"size","jQuery.fn.size() is deprecated and removed; use the .length property"),l(a,"parseJSON",function(){return JSON.parse.apply(null,arguments)},"parseJSON","jQuery.parseJSON is deprecated; use JSON.parse"),l(a,"holdReady",a.holdReady,"holdReady","jQuery.holdReady is deprecated"),l(a,"unique",a.uniqueSort,"unique","jQuery.unique is deprecated; use jQuery.uniqueSort"),n(a.expr,"filters",a.expr.pseudos,"expr-pre-pseudos","jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),n(a.expr,":",a.expr.pseudos,"expr-pre-pseudos","jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),e("3.1.1")&&l(a,"trim",function(e){return null==e?"":(e+"").replace(b,"$1")},"trim","jQuery.trim is deprecated; use String.prototype.trim"),e("3.2.0")&&(l(a,"nodeName",function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"nodeName","jQuery.nodeName is deprecated"),l(a,"isArray",Array.isArray,"isArray","jQuery.isArray is deprecated; use Array.isArray")),e("3.3.0")&&(l(a,"isNumeric",function(e){var t=typeof e;return("number"==t||"string"==t)&&!isNaN(e-parseFloat(e))},"isNumeric","jQuery.isNumeric() is deprecated"),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()}),l(a,"type",function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[Object.prototype.toString.call(e)]||"object":typeof e},"type","jQuery.type is deprecated"),l(a,"isFunction",function(e){return"function"==typeof e},"isFunction","jQuery.isFunction() is deprecated"),l(a,"isWindow",function(e){return null!=e&&e===e.window},"isWindow","jQuery.isWindow() is deprecated")),a.ajax&&(d=a.ajax,f=/(=)\?(?=&|$)|\?\?/,u(a,"ajax",function(){var e=d.apply(this,arguments);return e.promise&&(l(e,"success",e.done,"jqXHR-methods","jQXHR.success is deprecated and removed"),l(e,"error",e.fail,"jqXHR-methods","jQXHR.error is deprecated and removed"),l(e,"complete",e.always,"jqXHR-methods","jQXHR.complete is deprecated and removed")),e},"jqXHR-methods"),e("4.0.0")||a.ajaxPrefilter("+json",function(e){!1!==e.jsonp&&(f.test(e.url)||"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&f.test(e.data))&&s("jsonp-promotion","JSON-to-JSONP auto-promotion is deprecated")}));var y=a.fn.removeAttr,x=a.fn.toggleClass,_=/\S+/g;function w(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}u(a.fn,"removeAttr",function(e){var n=this,i=!1;return a.each(e.match(_),function(e,t){a.expr.match.bool.test(t)&&n.each(function(){if(!1!==a(this).prop(t))return!(i=!0)}),i&&(s("removeAttr-bool","jQuery.fn.removeAttr no longer sets boolean properties: "+t),n.prop(t,!1))}),y.apply(this,arguments)},"removeAttr-bool"),u(a.fn,"toggleClass",function(t){return void 0!==t&&"boolean"!=typeof t?x.apply(this,arguments):(s("toggleClass-bool","jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var e=this.getAttribute&&this.getAttribute("class")||"";e&&a.data(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==t&&a.data(this,"__className__")||"")}))},"toggleClass-bool");var C,k,T=!1,M=/^[a-z]/,F=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;a.swap&&a.each(["height","width","reliableMarginRight"],function(e,t){var n=a.cssHooks[t]&&a.cssHooks[t].get;n&&(a.cssHooks[t].get=function(){var e;return T=!0,e=n.apply(this,arguments),T=!1,e})}),u(a,"swap",function(e,t,n,i){var r,o={};for(r in T||s("swap","jQuery.swap() is undocumented and deprecated"),t)o[r]=e.style[r],e.style[r]=t[r];for(r in n=n.apply(e,i||[]),t)e.style[r]=o[r];return n},"swap"),e("3.4.0")&&"undefined"!=typeof Proxy&&(a.cssProps=new Proxy(a.cssProps||{},{set:function(){return s("cssProps","jQuery.cssProps is deprecated"),Reflect.set.apply(this,arguments)}})),e("4.0.0")?(k={animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},"undefined"!=typeof Proxy?a.cssNumber=new Proxy(k,{get:function(){return s("css-number","jQuery.cssNumber is deprecated"),Reflect.get.apply(this,arguments)},set:function(){return s("css-number","jQuery.cssNumber is deprecated"),Reflect.set.apply(this,arguments)}}):a.cssNumber=k):k=a.cssNumber,C=a.fn.css,u(a.fn,"css",function(e,t){var n,i=this;return e&&"object"==typeof e&&!Array.isArray(e)?(a.each(e,function(e,t){a.fn.css.call(i,e,t)}),this):("number"==typeof t&&(t=w(e),M.test(n=t)&&F.test(n[0].toUpperCase()+n.slice(1))||k[t]||s("css-number",'Number-typed values are deprecated for jQuery.fn.css( "'+e+'", value )')),C.apply(this,arguments))},"css-number");var E,S,D,N,A=a.data,L=(u(a,"data",function(e,t,n){var i,r,o;if(t&&"object"==typeof t&&2===arguments.length){for(o in i=a.hasData(e)&&A.call(this,e),r={},t)o!==w(o)?(s("data-camelCase","jQuery.data() always sets/gets camelCased names: "+o),i[o]=t[o]):r[o]=t[o];return A.call(this,e,r),t}return t&&"string"==typeof t&&t!==w(t)&&(i=a.hasData(e)&&A.call(this,e))&&t in i?(s("data-camelCase","jQuery.data() always sets/gets camelCased names: "+t),2<arguments.length&&(i[t]=n),i[t]):A.apply(this,arguments)},"data-camelCase"),a.fx&&(D=a.Tween.prototype.run,N=function(e){return e},u(a.Tween.prototype,"run",function(){1<a.easing[this.easing].length&&(s("easing-one-arg","'jQuery.easing."+this.easing.toString()+"' should use only one argument"),a.easing[this.easing]=N),D.apply(this,arguments)},"easing-one-arg"),E=a.fx.interval,S="jQuery.fx.interval is deprecated",i.requestAnimationFrame&&Object.defineProperty(a.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return i.document.hidden||s("fx-interval",S),a.migrateIsPatchEnabled("fx-interval")&&void 0===E?13:E},set:function(e){s("fx-interval",S),E=e}})),a.fn.load),H=a.event.add,j=a.event.fix;function P(e){var t=i.document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body&&t.body.innerHTML}a.event.props=[],a.event.fixHooks={},n(a.event.props,"concat",a.event.props.concat,"event-old-patch","jQuery.event.props.concat() is deprecated and removed"),u(a.event,"fix",function(e){var t=e.type,n=this.fixHooks[t],i=a.event.props;if(i.length)for(s("event-old-patch","jQuery.event.props are deprecated and removed: "+i.join());i.length;)a.event.addProp(i.pop());if(n&&!n._migrated_&&(n._migrated_=!0,s("event-old-patch","jQuery.event.fixHooks are deprecated and removed: "+t),(i=n.props)&&i.length))for(;i.length;)a.event.addProp(i.pop());return t=j.call(this,e),n&&n.filter?n.filter(t,e):t},"event-old-patch"),u(a.event,"add",function(e,t){return e===i&&"load"===t&&"complete"===i.document.readyState&&s("load-after-event","jQuery(window).on('load'...) called after load event occurred"),H.apply(this,arguments)},"load-after-event"),a.each(["load","unload","error"],function(e,t){u(a.fn,t,function(){var e=Array.prototype.slice.call(arguments,0);return"load"===t&&"string"==typeof e[0]?L.apply(this,e):(s("shorthand-removed-v3","jQuery.fn."+t+"() is deprecated"),e.splice(0,0,t),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))},"shorthand-removed-v3")}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){l(a.fn,n,function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)},"shorthand-deprecated-v3","jQuery.fn."+n+"() event shorthand is deprecated")}),a(function(){a(i.document).triggerHandler("ready")}),a.event.special.ready={setup:function(){this===i.document&&s("ready-event","'ready' event is deprecated")}},l(a.fn,"bind",function(e,t,n){return this.on(e,null,t,n)},"pre-on-methods","jQuery.fn.bind() is deprecated"),l(a.fn,"unbind",function(e,t){return this.off(e,null,t)},"pre-on-methods","jQuery.fn.unbind() is deprecated"),l(a.fn,"delegate",function(e,t,n,i){return this.on(t,e,n,i)},"pre-on-methods","jQuery.fn.delegate() is deprecated"),l(a.fn,"undelegate",function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},"pre-on-methods","jQuery.fn.undelegate() is deprecated"),l(a.fn,"hover",function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)},"pre-on-methods","jQuery.fn.hover() is deprecated");var R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi;a.UNSAFE_restoreLegacyHtmlPrefilter=function(){a.migrateEnablePatches("self-closed-tags")},u(a,"htmlPrefilter",function(e){var t,n;return(n=(t=e).replace(R,"<$1></$2>"))!==t&&P(t)!==P(n)&&s("self-closed-tags","HTML tags must be properly nested and closed: "+t),e.replace(R,"<$1></$2>")},"self-closed-tags"),a.migrateDisablePatches("self-closed-tags");var O,I,B,z=a.fn.offset;return u(a.fn,"offset",function(){var e=this[0];return!e||e.nodeType&&e.getBoundingClientRect?z.apply(this,arguments):(s("offset-valid-elem","jQuery.fn.offset() requires a valid DOM element"),arguments.length?this:void 0)},"offset-valid-elem"),a.ajax&&(O=a.param,u(a,"param",function(e,t){var n=a.ajaxSettings&&a.ajaxSettings.traditional;return void 0===t&&n&&(s("param-ajax-traditional","jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),t=n),O.call(this,e,t)},"param-ajax-traditional")),l(a.fn,"andSelf",a.fn.addBack,"andSelf","jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),a.Deferred&&(I=a.Deferred,B=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]],u(a,"Deferred",function(e){var o=I(),s=o.promise();function t(){var r=arguments;return a.Deferred(function(i){a.each(B,function(e,t){var n="function"==typeof r[e]&&r[e];o[t[1]](function(){var e=n&&n.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===s?i.promise():this,n?[e]:arguments)})}),r=null}).promise()}return l(o,"pipe",t,"deferred-pipe","deferred.pipe() is deprecated"),l(s,"pipe",t,"deferred-pipe","deferred.pipe() is deprecated"),e&&e.call(o,o),o},"deferred-pipe"),a.Deferred.exceptionHook=I.exceptionHook),a}),!function(vt){var e,bt=this||(0,eval)("this"),yt=bt.document,xt=bt.navigator,_t=bt.jQuery,wt=bt.JSON;_t||"undefined"==typeof jQuery||(_t=jQuery),e=function(e,M){function n(e,t){return(null===e||typeof e in se)&&e===t}function F(e,t){var n;return function(){n=n||D.a.setTimeout(function(){n=vt,e()},t)}}function L(e,t){var n;return function(){clearTimeout(n),n=D.a.setTimeout(e,t)}}function H(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function j(e,t){null!==t&&t.s&&t.s()}function z(e,t){var n=this.qd,i=n[T];i.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):i.I[t]||n.uc(t,e,i.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var W,o,q,U,V,i,s,$,Y,X,r,Q,a,l,K,u,G,D=void 0!==e?e:{};function J(e,t){for(var n in e)o.call(e,n)&&t(n,e[n])}function Z(e,t){if(t)for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e}function ee(e,t){return e.__proto__=t,e}function te(e,t,n,i){var r=e[t].match(s)||[];D.a.D(n.match(s),function(e){D.a.Na(r,e,i)}),e[t]=r.join(" ")}function ne(){if(l)for(var e,t=l,n=0;u<l;)if(e=a[u++]){if(t<u){if(5e3<=++n){u=l,D.a.Gc(Error("'Too much recursion' after processing "+n+" task groups."));break}t=l}try{e()}catch(e){D.a.Gc(e)}}}function ie(){ne(),u=l=a.length=0}D.b=function(e,t){for(var n=e.split("."),i=D,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=t},D.L=function(e,t,n){e[t]=n},D.version="3.5.1",D.b("version",D.version),D.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},D.a=(o=Object.prototype.hasOwnProperty,e={__proto__:[]}instanceof Array,q="function"==typeof Symbol,U={},(O={})[xt&&/Firefox\/2/i.test(xt.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],O.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),J(O,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)U[t[n]]=e}),V={propertychange:!0},i=yt&&function(){for(var e=3,t=yt.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:vt}(),s=/\S+/g,{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i];return vt},Pa:function(e,t){t=D.a.A(e,t);0<t?e.splice(t,1):0===t&&e.shift()},wc:function(e){var t=[];return e&&D.a.D(e,function(e){D.a.A(t,e)<0&&t.push(e)}),t},Mb:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r));return i},jb:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)t.call(n,e[r],r)&&i.push(e[r]);return i},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Na:function(e,t,n){var i=D.a.A(D.a.bc(e),t);i<0?n&&e.push(t):n||e.splice(i,1)},Ba:e,extend:Z,setPrototypeOf:ee,Ab:e?ee:Z,P:J,Ga:function(e,t,n){if(!e)return e;var i,r={};for(i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},Tb:function(e){for(;e.firstChild;)D.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=D.a.la(e))[0]&&e[0].ownerDocument||yt).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(D.oa(e[n]));return t},Ca:function(e,t){for(var n=0,i=e.length,r=[];n<i;n++){var o=e[n].cloneNode(!0);r.push(t?D.oa(o):o)}return r},va:function(e,t){if(D.a.Tb(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],r=i.parentNode,o=0,s=t.length;o<s;o++)r.insertBefore(t[o],i);for(o=0,s=n.length;o<s;o++)D.removeNode(n[o])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},Zc:function(e,t){i<7?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===vt?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return!(t.length>(e=e||"").length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return D.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!D.a.Lb(e,D.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return D.onError?function(){try{return e.apply(this,arguments)}catch(e){throw D.onError&&D.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(D.a.Ac(e),t)},Gc:function(e){setTimeout(function(){throw D.onError&&D.onError(e),e},0)},B:function(t,e,n){var i=D.a.Ac(n);if(n=V[e],D.options.useOnlyNativeEvents||n||!_t)if(n||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");function r(e){i.call(t,e)}var o="on"+e;t.attachEvent(o,r),D.a.K.za(t,function(){t.detachEvent(o,r)})}else t.addEventListener(e,i,!1);else W=W||("function"==typeof _t(t).on?"on":"bind"),_t(t)[W](e,i)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n=!("input"!==D.a.R(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(n=e.type)||"radio"==n);if(D.options.useOnlyNativeEvents||!_t||n)if("function"==typeof yt.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=yt.createEvent(U[t]||"HTMLEvents")).initEvent(t,!0,!0,bt,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else _t(e).trigger(t)},f:function(e){return D.O(e)?e():e},bc:function(e){return D.O(e)?e.v():e},Eb:function(t,e,n){var i;e&&("object"==typeof t.classList?(i=t.classList[n?"add":"remove"],D.a.D(e.match(s),function(e){i.call(t.classList,e)})):"string"==typeof t.className.baseVal?te(t.className,"baseVal",e,n):te(t,"className",e,n))},Bb:function(e,t){var t=D.a.f(t),n=(null!==t&&t!==vt||(t=""),D.h.firstChild(e));!n||3!=n.nodeType||D.h.nextSibling(n)?D.h.va(e,[e.ownerDocument.createTextNode(t)]):n.data=t,D.a.Ad(e)},Yc:function(e,t){if(e.name=t,i<=7)try{var n=e.name.replace(/[&<>'"]/g,function(e){return"&#"+e.charCodeAt(0)+";"});e.mergeAttributes(yt.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=i&&((e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom))},wd:function(e){var t;i&&(t=e.style.width,e.style.width=0,e.style.width=t)},Pd:function(e,t){e=D.a.f(e),t=D.a.f(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},la:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},Da:function(e){return q?Symbol(e):e},Zd:6===i,$d:7===i,W:i,Lc:function(e,t){for(var n=D.a.la(e.getElementsByTagName("input")).concat(D.a.la(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],o=n.length-1;0<=o;o--)i(n[o])&&r.push(n[o]);return r},Nd:function(e){return"string"==typeof e&&(e=D.a.Db(e))?wt&&wt.parse?wt.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(wt&&wt.stringify)return wt.stringify(D.a.f(e),t,n);throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")},Od:function(e,t,n){var i=(n=n||{}).params||{},r=n.includeFields||this.Jc,o=e;if("object"==typeof e&&"form"===D.a.R(e))for(var o=e.action,s=r.length-1;0<=s;s--)for(var a=D.a.Lc(e,r[s]),l=a.length-1;0<=l;l--)i[a[l].name]=a[l].value;t=D.a.f(t);var u,c=yt.createElement("form");for(u in c.style.display="none",c.action=o,c.method="post",t)e=yt.createElement("input"),e.type="hidden",e.name=u,e.value=D.a.hc(D.a.f(t[u])),c.appendChild(e);J(i,function(e,t){var n=yt.createElement("input");n.type="hidden",n.name=e,n.value=t,c.appendChild(n)}),yt.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}),D.b("utils",D.a),D.b("utils.arrayForEach",D.a.D),D.b("utils.arrayFirst",D.a.Lb),D.b("utils.arrayFilter",D.a.jb),D.b("utils.arrayGetDistinctValues",D.a.wc),D.b("utils.arrayIndexOf",D.a.A),D.b("utils.arrayMap",D.a.Mb),D.b("utils.arrayPushAll",D.a.Nb),D.b("utils.arrayRemoveItem",D.a.Pa),D.b("utils.cloneNodes",D.a.Ca),D.b("utils.createSymbolOrString",D.a.Da),D.b("utils.extend",D.a.extend),D.b("utils.fieldsIncludedWithJsonPost",D.a.Jc),D.b("utils.getFormFields",D.a.Lc),D.b("utils.objectMap",D.a.Ga),D.b("utils.peekObservable",D.a.bc),D.b("utils.postJson",D.a.Od),D.b("utils.parseJson",D.a.Nd),D.b("utils.registerEventHandler",D.a.B),D.b("utils.stringifyJson",D.a.hc),D.b("utils.range",D.a.Pd),D.b("utils.toggleDomNodeCssClass",D.a.Eb),D.b("utils.triggerEvent",D.a.Fb),D.b("utils.unwrapObservable",D.a.f),D.b("utils.objectForEach",D.a.P),D.b("utils.addOrRemoveItem",D.a.Na),D.b("utils.setTextContent",D.a.Bb),D.b("unwrap",D.a.f),Function.prototype.bind||(Function.prototype.bind=function(t){var n,i=this;return 1===arguments.length?function(){return i.apply(t,arguments)}:(n=Array.prototype.slice.call(arguments,1),function(){var e=n.slice(0);return e.push.apply(e,arguments),i.apply(t,e)})}),D.a.g=new function(){var i,r=0,o="__ko__"+(new Date).getTime(),s={},e=D.a.W?(i=function(e,t){var n=e[o];if(!n||"null"===n||!s[n]){if(!t)return vt;n=e[o]="ko"+r++,s[n]={}}return s[n]},function(e){var t=e[o];return!!t&&(delete s[t],!(e[o]=null))}):(i=function(e,t){var n=e[o];return n=!n&&t?e[o]={}:n},function(e){return!!e[o]&&(delete e[o],!0)});return{get:function(e,t){e=i(e,!1);return e&&e[t]},set:function(e,t,n){(e=i(e,n!==vt))&&(e[t]=n)},Ub:function(e,t,n){return(e=i(e,!0))[t]||(e[t]=n)},clear:e,Z:function(){return r+++o}}},D.b("utils.domData",D.a.g),D.b("utils.domData.clear",D.a.g.clear),D.a.K=new function(){function i(e,t){var n=D.a.g.get(e,s);return n===vt&&t&&D.a.g.set(e,s,n=[]),n}function o(e){if(t=i(e,!1))for(var t=t.slice(0),n=0;n<t.length;n++)t[n](e);D.a.g.clear(e),D.a.K.cleanExternalData(e),a[e.nodeType]&&r(e.childNodes,!0)}function r(e,t){for(var n,i=[],r=0;r<e.length;r++)if((!t||8===e[r].nodeType)&&(o(i[i.length]=n=e[r]),e[r]!==n))for(;r--&&-1==D.a.A(i,e[r]););}var s=D.a.g.Z(),t={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{za:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");i(e,!0).push(t)},yb:function(e,t){var n=i(e,!1);n&&(D.a.Pa(n,t),0==n.length&&D.a.g.set(e,s,vt))},oa:function(e){return D.u.G(function(){t[e.nodeType]&&(o(e),a[e.nodeType]&&r(e.getElementsByTagName("*")))}),e},removeNode:function(e){D.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){_t&&"function"==typeof _t.cleanData&&_t.cleanData([e])}}},D.oa=D.a.K.oa,D.removeNode=D.a.K.removeNode,D.b("cleanNode",D.oa),D.b("removeNode",D.removeNode),D.b("utils.domNodeDisposal",D.a.K),D.b("utils.domNodeDisposal.addDisposeCallback",D.a.K.za),D.b("utils.domNodeDisposal.removeDisposeCallback",D.a.K.yb),$=[0,"",""],Y={thead:O=[1,"<table>","</table>"],tbody:O,tfoot:O,tr:[2,"<table><tbody>","</tbody></table>"],td:e=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:e,option:O=[1,"<select multiple='multiple'>","</select>"],optgroup:O},X=D.a.W<=8,D.a.ua=function(e,t){if(_t){if(_t.parseHTML)i=_t.parseHTML(e,t)||[];else if((i=_t.clean([e],t))&&i[0]){for(var n=i[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{var i,n=(i=(i=t)||yt).parentWindow||i.defaultView||bt,r=D.a.Db(e).toLowerCase(),o=i.createElement("div"),t=(r=r.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&Y[r[1]]||$,r=t[0];for(t="ignored<div>"+t[1]+e+t[2]+"</div>","function"==typeof n.innerShiv?o.appendChild(n.innerShiv(t)):(X&&i.body.appendChild(o),o.innerHTML=t,X&&o.parentNode.removeChild(o));r--;)o=o.lastChild;i=D.a.la(o.lastChild.childNodes)}return i},D.a.Md=function(e,t){e=D.a.ua(e,t);return e.length&&e[0].parentElement||D.a.Yb(e)},D.a.fc=function(e,t){if(D.a.Tb(e),null!==(t=D.a.f(t))&&t!==vt)if("string"!=typeof t&&(t=t.toString()),_t)_t(e).html(t);else for(var n=D.a.ua(t,e.ownerDocument),i=0;i<n.length;i++)e.appendChild(n[i])},D.b("utils.parseHtmlFragment",D.a.ua),D.b("utils.setHtml",D.a.fc),D.aa=(r={},{Xb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return r[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},bd:function(e,t){var n=r[e];if(n===vt)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return n.apply(null,t||[]),!0}finally{delete r[e]}},cd:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(i=D.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:i});else if(1==t.nodeType)for(var i=0,r=t.childNodes,o=r.length;i<o;i++)e(r[i],n)}(e,n);for(var i=0,r=n.length;i<r;i++){var o=n[i].ud,s=[o];t&&D.a.Nb(s,t),D.aa.bd(n[i].Kd,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}),D.b("memoization",D.aa),D.b("memoization.memoize",D.aa.Xb),D.b("memoization.unmemoize",D.aa.bd),D.b("memoization.parseMemoText",D.aa.Uc),D.b("memoization.unmemoizeDomNodeAndDescendants",D.aa.cd),D.na=(a=[],K=1,u=l=0,{scheduler:G=bt.MutationObserver?(G=ie,Q=yt.createElement("div"),new MutationObserver(G).observe(Q,{attributes:!0}),function(){Q.classList.toggle("foo")}):yt&&"onreadystatechange"in yt.createElement("script")?function(e){var t=yt.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,yt.documentElement.removeChild(t),t=null,e()},yt.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},zb:function(e){return l||D.na.scheduler(ie),a[l++]=e,K++},cancel:function(e){u<=(e-=K-l)&&e<l&&(a[e]=null)},resetForTesting:function(){var e=l-u;return u=l=a.length=0,e},Sd:ne}),D.b("tasks",D.na),D.b("tasks.schedule",D.na.zb),D.b("tasks.runEarly",D.na.Sd),D.Ta={throttle:function(t,n){t.throttleEvaluation=n;var i=null;return D.$({read:t,write:function(e){clearTimeout(i),i=D.a.setTimeout(function(){t(e)},n)}})},rateLimit:function(e,t){var n,i,r;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e.Hb=!1,r="function"==typeof i?i:"notifyWhenChangesStop"==i?L:F,e.ub(function(e){return r(e,n,t)})},deferred:function(i,e){if(!0!==e)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");i.Hb||(i.Hb=!0,i.ub(function(e){var t,n=!1;return function(){if(!n){D.na.cancel(t),t=D.na.zb(e);try{n=!0,i.notifySubscribers(vt,"dirty")}finally{n=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var t,re,oe,se={undefined:1,boolean:1,number:1,string:1},c=(D.b("extenders",D.Ta),D.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,D.L(this,"dispose",this.s),D.L(this,"disposeWhenNodeIsRemoved",this.l)},D.ic.prototype.s=function(){this.Ib||(this.fb&&D.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},D.ic.prototype.l=function(e){this.Jb=e,D.a.K.za(e,this.fb=this.s.bind(this))},D.T=function(){D.a.Ab(this,c),c.qb(this)},{qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var i=this,r=(n=n||"change",new D.ic(i,t?e.bind(t):e,function(){D.a.Pa(i.U[n],r),i.hb&&i.hb(n)}));return i.Qa&&i.Qa(n),i.U[n]||(i.U[n]=[]),i.U[n].push(r),r},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{D.u.xc();for(var i,r=0;i=n[r];++r)i.Ib||i.lc(e)}finally{D.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var n,t,i,r,o,s=this,a=D.O(s),l=(s.gb||(s.gb=s.notifySubscribers,s.notifySubscribers=H),e(function(){s.Ja=!1,a&&r===s&&(r=s.nc?s.nc():s());var e=t||o&&s.sb(i,r);o=t=n=!1,e&&s.gb(i=r)}));s.qc=function(e,t){t&&s.Ja||(o=!t),s.ed=s.U.change.slice(0),s.Ja=n=!0,r=e,l()},s.pc=function(e){n||(i=e,s.gb(e,"beforeChange"))},s.rc=function(){o=!0},s.gd=function(){s.sb(i,s.v(!0))&&(t=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){var n;return e?this.U[e]&&this.U[e].length||0:(n=0,D.a.P(this.U,function(e,t){"dirty"!==e&&(n+=t.length)}),n)},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var n=this;return e&&D.a.P(e,function(e,t){e=D.Ta[e];"function"==typeof e&&(n=e(n,t)||n)}),n}});function ae(e){re.push(t),t=e}function le(){t=re.pop()}D.L(c,"init",c.qb),D.L(c,"subscribe",c.subscribe),D.L(c,"extend",c.extend),D.L(c,"getSubscriptionsCount",c.Bd),D.a.Ba&&D.a.setPrototypeOf(c,Function.prototype),D.T.fn=c,D.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},D.b("subscribable",D.T),D.b("isSubscribable",D.Qc),D.S=D.u=(re=[],oe=0,{xc:ae,end:le,cc:function(e){if(t){if(!D.Qc(e))throw Error("Only subscribable things can act as dependencies");t.od.call(t.pd,e,e.fd||(e.fd=++oe))}},G:function(e,t,n){try{return ae(),e.apply(t,n||[])}finally{le()}},qa:function(){if(t)return t.o.qa()},Va:function(){if(t)return t.o.Va()},Ya:function(){if(t)return t.Ya},o:function(){if(t)return t.o}}),D.b("computedContext",D.S),D.b("computedContext.getDependenciesCount",D.S.qa),D.b("computedContext.getDependencies",D.S.Va),D.b("computedContext.isInitial",D.S.Ya),D.b("computedContext.registerDependency",D.S.cc),D.b("ignoreDependencies",D.Yd=D.u.G);var ue,ce,de,fe,he,d,f,pe,me,ge,ve,v,h,b,be,p,y,ye,m,g,x,_,xe,_e,we,Ce,w=D.a.Da("_latestValue"),C=(D.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[w],arguments[0])&&(t.ya(),t[w]=arguments[0],t.xa()),this):(D.u.cc(t),t[w])}return t[w]=e,D.a.Ba||D.a.extend(t,D.T.fn),D.T.fn.qb(t),D.a.Ab(t,C),D.options.deferUpdates&&D.Ta.deferred(t,!0),t},{equalityComparer:n,v:function(){return this[w]},xa:function(){this.notifySubscribers(this[w],"spectate"),this.notifySubscribers(this[w])},ya:function(){this.notifySubscribers(this[w],"beforeChange")}}),k=(D.a.Ba&&D.a.setPrototypeOf(C,D.T.fn),D.ta.Ma="__ko_proto__"),T=(C[k]=D.ta,D.O=function(e){if((e="function"==typeof e&&e[k])&&e!==C[k]&&e!==D.o.fn[k])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},D.Za=function(e){return"function"==typeof e&&(e[k]===C[k]||e[k]===D.o.fn[k]&&e.Nc)},D.b("observable",D.ta),D.b("isObservable",D.O),D.b("isWriteableObservable",D.Za),D.b("isWritableObservable",D.Za),D.b("observable.fn",C),D.L(C,"peek",C.v),D.L(C,"valueHasMutated",C.xa),D.L(C,"valueWillMutate",C.ya),D.Ha=function(e){if("object"==typeof(e=e||[])&&"length"in e)return e=D.ta(e),D.a.Ab(e,D.Ha.fn),e.extend({trackArrayChanges:!0});throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},D.Ha.fn={remove:function(t){for(var e=this.v(),n=[],i="function"!=typeof t||D.O(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var o=e[r];if(i(o)){if(0===n.length&&this.ya(),e[r]!==o)throw Error("Array modified during remove; cannot remove item");n.push(o),e.splice(r,1),r--}}return n.length&&this.xa(),n},removeAll:function(t){var e,n;return t===vt?(n=(e=this.v()).slice(0),this.ya(),e.splice(0,e.length),this.xa(),n):t?this.remove(function(e){return 0<=D.a.A(t,e)}):[]},destroy:function(t){var e=this.v(),n="function"!=typeof t||D.O(t)?function(e){return e===t}:t;this.ya();for(var i=e.length-1;0<=i;i--){var r=e[i];n(r)&&(r._destroy=!0)}this.xa()},destroyAll:function(t){return t===vt?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=D.a.A(t,e)}):[]},indexOf:function(e){var t=this();return D.a.A(t,e)},replace:function(e,t){e=this.indexOf(e);0<=e&&(this.ya(),this.v()[e]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},D.a.Ba&&D.a.setPrototypeOf(D.Ha.fn,D.ta.fn),D.a.D("pop push reverse shift sort splice unshift".split(" "),function(n){D.Ha.fn[n]=function(){var e=this.v(),t=(this.ya(),this.zc(e,n,arguments),e[n].apply(e,arguments));return this.xa(),t===e?this:t}}),D.a.D(["slice"],function(t){D.Ha.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),D.Pc=function(e){return D.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},D.b("observableArray",D.Ha),D.b("isObservableArray",D.Pc),D.Ta.trackArrayChanges=function(n,e){var d,f,i,r,h,o,s,t;n.Ob={},e&&"object"==typeof e&&D.a.extend(n.Ob,e),n.Ob.sparse=!0,n.zc||(d=!1,f=null,h=0,s=n.Qa,t=n.hb,n.Qa=function(e){function t(){var e,t;h&&(e=[].concat(n.v()||[]),n.Wa("arrayChange")&&(t=f=!f||1<h?D.a.Pb(o,e,n.Ob):f),o=e,f=null,h=0,t&&t.length&&n.notifySubscribers(t,"arrayChange"))}s&&s.call(n,e),"arrayChange"===e&&(d?t():(d=!0,r=n.subscribe(function(){++h},null,"spectate"),o=[].concat(n.v()||[]),f=null,i=n.subscribe(t)))},n.hb=function(e){t&&t.call(n,e),"arrayChange"!==e||n.Wa("arrayChange")||(i&&i.s(),r&&r.s(),r=i=null,d=!1,o=vt)},n.zc=function(e,t,n){function i(e,t,n){return r[r.length]={status:e,value:t,index:n}}if(d&&!h){var r=[],o=e.length,s=n.length,a=0;switch(t){case"push":a=o;case"unshift":for(t=0;t<s;t++)i("added",n[t],a+t);break;case"pop":a=o-1;case"shift":o&&i("deleted",e[a],a);break;case"splice":t=Math.min(Math.max(0,n[0]<0?o+n[0]:n[0]),o);for(var o=1===s?o:Math.min(t+(n[1]||0),o),s=t+s-2,a=Math.max(o,s),l=[],u=[],c=2;t<a;++t,++c)t<o&&u.push(i("deleted",e[t],t)),t<s&&l.push(i("added",n[c],t));D.a.Kc(u,l);break;default:return}f=r}})},D.a.Da("_state")),E=(D.o=D.$=function(e,t,n){function i(){if(0<arguments.length){if("function"!=typeof r)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return r.apply(o.nb,arguments),this}return o.ra||D.u.cc(i),(o.ka||o.J&&i.Xa())&&i.ha(),o.X}if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var r=n.write,o={X:vt,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:n.read,nb:t||n.owner,l:n.disposeWhenNodeIsRemoved||n.l||null,Sa:n.disposeWhen||n.Sa,Rb:null,I:{},V:0,Ic:null};return i[T]=o,i.Nc="function"==typeof r,D.a.Ba||D.a.extend(i,D.T.fn),D.T.fn.qb(i),D.a.Ab(i,E),n.pure?(o.wb=!0,o.J=!0,D.a.extend(i,ke)):n.deferEvaluation&&D.a.extend(i,Te),D.options.deferUpdates&&D.Ta.deferred(i,!0),o.l&&(o.jc=!0,o.l.nodeType||(o.l=null)),o.J||n.deferEvaluation||i.ha(),o.l&&i.ja()&&D.a.K.za(o.l,o.Rb=function(){i.s()}),i},{equalityComparer:n,qa:function(){return this[T].V},Va:function(){var n=[];return D.a.P(this[T].I,function(e,t){n[t.Ka]=t.da}),n},Vb:function(t){var e;return!!this[T].V&&(e=this.Va(),-1!==D.a.A(e,t)||!!D.a.Lb(e,function(e){return e.Vb&&e.Vb(t)}))},uc:function(e,t,n){if(this[T].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");(this[T].I[e]=n).Ka=this[T].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[T].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[T].rb&&this.Ia(!1)},ja:function(){var e=this[T];return e.ka||0<e.V},Rd:function(){this.Ja?this[T].ka&&(this[T].sa=!0):this.Hc()},$c:function(e){var t,n;return e.Hb?(t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this),{da:e,s:function(){t.s(),n.s()}}):e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[T].Ic),this[T].Ic=D.a.setTimeout(function(){e.ha(!0)},t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[T],n=t.Sa,i=!1;if(!t.rb&&!t.ra){if(t.l&&!D.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{i=this.zd(e)}finally{t.rb=!1}return i}},zd:function(e){var t=this[T],n=!1,i=t.wb?vt:!t.V,n={qd:this,mb:t.I,Qb:t.V},r=(D.u.xc({pd:n,od:z,o:this,Ya:i}),t.I={},t.V=0,this.yd(t,n));return(n=t.V?this.sb(t.X,r):(this.s(),!0))&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=r,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),i&&this.notifySubscribers(t.X,"awake"),n},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{D.u.end(),t.Qb&&!e.J&&D.a.P(t.mb,j),e.sa=e.ka=!1}},v:function(e){var t=this[T];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){D.T.fn.ub.call(this,e),this.nc=function(){return this[T].J||(this[T].sa?this.ha():this[T].ka=!1),this[T].X},this.Ia=function(e){this.pc(this[T].X),this[T].ka=!0,e&&(this[T].sa=!0),this.qc(this,!e)}},s:function(){var e=this[T];!e.J&&e.I&&D.a.P(e.I,function(e,t){t.s&&t.s()}),e.l&&e.Rb&&D.a.K.yb(e.l,e.Rb),e.I=vt,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=vt,e.Sa=vt,e.Wc=vt,this.Nc||(e.nb=vt)}}),ke={Qa:function(e){var n,r=this,o=r[T];!o.ra&&o.J&&"change"==e&&(o.J=!1,o.sa||r.Xa()?(o.I=null,o.V=0,r.ha()&&r.Gb()):(n=[],D.a.P(o.I,function(e,t){n[t.Ka]=e}),D.a.D(n,function(e,t){var n=o.I[e],i=r.$c(n.da);i.Ka=t,i.La=n.La,o.I[e]=i}),r.Xa()&&r.ha()&&r.Gb()),o.ra||r.notifySubscribers(o.X,"awake"))},hb:function(e){var n=this[T];n.ra||"change"!=e||this.Wa("change")||(D.a.P(n.I,function(e,t){t.s&&(n.I[e]={da:t.da,Ka:t.Ka,La:t.La},t.s())}),n.J=!0,this.notifySubscribers(vt,"asleep"))},ob:function(){var e=this[T];return e.J&&(e.sa||this.Xa())&&this.ha(),D.T.fn.ob.call(this)}},Te={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}},Ee=(D.a.Ba&&D.a.setPrototypeOf(E,D.T.fn),D.ta.Ma);function Se(i,r,o){if(o=o||new De,"object"!=typeof(i=r(i))||null===i||i===vt||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var s=i instanceof Array?[]:{},e=(o.save(i,s),i),t=function(e){var t=r(i[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":s[e]=t;break;case"object":case"undefined":var n=o.get(t);s[e]=n!==vt?n:Se(t,r,o)}};if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n);return s}function De(){this.keys=[],this.values=[]}function Ne(e){123===(e=D.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],i=(e+="\n,").match(de),r=[],o=0;if(1<i.length){for(var s,a=0;s=i[a];++a){var l=s.charCodeAt(0);if(44===l){if(o<=0){n.push(t&&r.length?{key:t,value:r.join("")}:{unknown:t||r.join("")}),t=o=0,r=[];continue}}else if(58===l){if(!o&&!t&&1===r.length){t=r.pop();continue}}else{if(47===l&&1<s.length&&(47===s.charCodeAt(1)||42===s.charCodeAt(1)))continue;47===l&&a&&1<s.length?(l=i[a-1].match(fe))&&!he[l[0]]&&(i=(e=e.substr(e.indexOf(s)+1)).match(de),a=-1,s="/"):40===l||123===l||91===l?++o:41===l||125===l||93===l?--o:t||r.length||34!==l&&39!==l||(s=s.slice(1,-1))}r.push(s)}if(0<o)throw Error("Unbalanced parentheses, braces, or brackets")}return n}function S(e){return 8==e.nodeType&&pe.test(f?e.text:e.nodeValue)}function N(e){return 8==e.nodeType&&me.test(f?e.text:e.nodeValue)}function Ae(e,t){for(var n=e,i=1,r=[];n=n.nextSibling;){if(N(n)&&(D.a.g.set(n,ve,!0),0===--i))return r;r.push(n),S(n)&&i++}if(t)return null;throw Error("Cannot find closing comment tag to match: "+e.nodeValue)}function Pe(e,t){t=Ae(e,t);return t?(0<t.length?t[t.length-1]:e).nextSibling:null}function Re(e){var t=(e=D.a.g.get(e,y))&&e.N;t&&(e.N=null,t.Tc())}function A(e,t,n){this.node=e,this.yc=t,this.kb=[],this.H=!1,t.N||D.a.K.za(e,Re),n&&n.N&&(n.N.kb.push(e),this.Kb=n)}function Oe(e){return function(){return e}}function Ie(e){return e()}function Be(n){return D.a.Ga(D.u.G(n),function(e,t){return function(){return n()[t]}})}function Me(e,t){return Be(this.getBindings.bind(this,e,t))}function Fe(e,t){var n=D.h.firstChild(t);if(n){var i,r=D.ga.instance,o=r.preprocessNode;if(o){for(;i=n;)n=D.h.nextSibling(i),o.call(r,i);n=D.h.firstChild(t)}for(;i=n;)n=D.h.nextSibling(i),Le(e,i)}D.i.ma(t,D.i.H)}function Le(e,t){var n=e,i=1===t.nodeType;i&&D.h.Sc(t),(n=i||D.ga.instance.nodeHasBindings(t)?He(t,null,e).bindingContextForDescendants:n)&&!be[D.a.R(t)]&&Fe(n,t)}function He(r,e,t){var o,n,i,s,a=D.a.g.Ub(r,y,{}),l=a.hd;if(!e){if(l)throw Error("You cannot apply bindings multiple times to the same element.");a.hd=!0}l||(a.context=t),a.Zb||(a.Zb={}),e&&"function"!=typeof e?o=e:(n=D.ga.instance,i=n.getBindingAccessors||Me,s=D.$(function(){return(o=e?e(t,r):i.call(n,r,t))&&(t[v]&&t[v](),t[b]&&t[b]()),o},null,{l:r}),o&&s.ja()||(s=null));var u,c,d,f,h,p,m,g=t;return o&&(d=s?function(e){return function(){return Ie(s()[e])}}:function(e){return o[e]},(c=function(){return D.a.Ga(s?s():o,Ie)}).get=function(e){return o[e]&&d(e)()},c.has=function(e){return e in o},D.i.H in o&&D.i.subscribe(r,D.i.H,function(){var e,t=(0,o[D.i.H])();t&&(e=D.h.childNodes(r)).length&&t(e,D.Ec(e[0]))}),D.i.pa in o&&(g=D.i.Cb(r,t),D.i.subscribe(r,D.i.pa,function(){var e=(0,o[D.i.pa])();e&&D.h.firstChild(r)&&e(r)})),f=o,h=[],p={},m=[],D.a.P(f,function t(e){var n;p[e]||((n=D.getBindingHandler(e))&&(n.after&&(m.push(e),D.a.D(n.after,function(e){if(f[e]){if(-1!==D.a.A(m,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+m.join(", "));t(e)}}),m.length--),h.push({key:e,Mc:n})),p[e]=!0)}),a=h,D.a.D(a,function(e){var t=e.Mc.init,n=e.Mc.update,i=e.key;if(8===r.nodeType&&!D.h.ea[i])throw Error("The binding '"+i+"' cannot be used with virtual elements");try{"function"==typeof t&&D.u.G(function(){var e=t(r,d(i),c,g.$data,g);if(e&&e.controlsDescendantBindings){if(u!==vt)throw Error("Multiple bindings ("+u+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=i}}),"function"==typeof n&&D.$(function(){n(r,d(i),c,g.$data,g)},null,{l:r})}catch(e){throw e.message='Unable to process binding "'+i+": "+o[i]+'"\nMessage: '+e.message,e}})),{shouldBindDescendants:a=u===vt,bindingContextForDescendants:a&&g}}function P(e,t){return e&&e instanceof D.fa?e:new D.fa(e,vt,vt,t)}function je(n,e){var i,r,o,s=Object.prototype.hasOwnProperty.call(m,n)?m[n]:ye;s?s.subscribe(e):((s=m[n]=new D.T).subscribe(e),o=function(e,t){t=!(!t||!t.synchronous);g[n]={definition:e,Gd:t},delete m[n],i||t?s.notifySubscribers(e):D.na.zb(function(){s.notifySubscribers(e)})},R("getConfig",[r=n],function(t){t?R("loadComponent",[r,t],function(e){o(e,t)}):o(null,null)}),i=!0)}function R(t,n,i,r){var e=(r=r||D.j.loaders.slice(0)).shift();if(e){var o=e[t];if(o){var s=!1;if(o.apply(e,n.concat(function(e){s?i(null):null!==e?i(e):R(t,n,i,r)}))!==ye&&(s=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else R(t,n,i,r)}else i(null)}function ze(e){switch(D.a.R(e)){case"script":return D.a.ua(e.text);case"textarea":return D.a.ua(e.value);case"template":if(We(e.content))return D.a.Ca(e.content.childNodes)}return D.a.Ca(e.childNodes)}function We(e){return bt.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function qe(e,t,n){"string"==typeof t.require?M||bt.require?(M||bt.require)([t.require],function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),n(e)}):e("Uses require, but no AMD loader is present"):n(t)}function Ue(t){return function(e){throw Error("Component '"+t+"': "+e)}}E[Ee]=D.o,D.Oc=function(e){return"function"==typeof e&&e[Ee]===E[Ee]},D.Fd=function(e){return D.Oc(e)&&e[T]&&e[T].wb},D.b("computed",D.o),D.b("dependentObservable",D.o),D.b("isComputed",D.Oc),D.b("isPureComputed",D.Fd),D.b("computed.fn",E),D.L(E,"peek",E.v),D.L(E,"dispose",E.s),D.L(E,"isActive",E.ja),D.L(E,"getDependenciesCount",E.qa),D.L(E,"getDependencies",E.Va),D.xb=function(e,t){return"function"==typeof e?D.o(e,t,{pure:!0}):((e=D.a.extend({},e)).pure=!0,D.o(e,t))},D.b("pureComputed",D.xb),D.ad=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return Se(e,function(e){for(var t=0;D.O(e)&&t<10;t++)e=e();return e})},D.toJSON=function(e,t,n){return e=D.ad(e),D.a.hc(e,t,n)},De.prototype={constructor:De,save:function(e,t){var n=D.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=D.a.A(this.keys,e))?this.values[e]:vt}},D.b("toJS",D.ad),D.b("toJSON",D.toJSON),D.Wd=function(i,e,r){function t(t){var e=D.xb(i,r).extend({ma:"always"}),n=e.subscribe(function(e){e&&(n.s(),t(e))});return e.notifySubscribers(e.v()),n}return"function"!=typeof Promise||e?t(e.bind(r)):new Promise(t)},D.b("when",D.Wd),D.w={M:function(e){switch(D.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?D.a.g.get(e,D.c.options.$b):!(D.a.W<=7)||e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text;case"select":return 0<=e.selectedIndex?D.w.M(e.options[e.selectedIndex]):vt;default:return e.value}},cb:function(e,t,n){switch(D.a.R(e)){case"option":"string"==typeof t?(D.a.g.set(e,D.c.options.$b,vt),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(D.a.g.set(e,D.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=vt);for(var i,r=-1,o=0,s=e.options.length;o<s;++o)if((i=D.w.M(e.options[o]))==t||""===i&&t===vt){r=o;break}(n||0<=r||t===vt&&1<e.size)&&(e.selectedIndex=r,6===D.a.W&&D.a.setTimeout(function(){e.selectedIndex=r},0));break;default:e.value=t=null!==t&&t!==vt?t:""}}},D.b("selectExtensions",D.w),D.b("selectExtensions.readValue",D.w.M),D.b("selectExtensions.writeValue",D.w.cb),D.m=(ue=["true","false","null","undefined"],ce=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,de=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),fe=/[\])"'A-Za-z0-9_$]+$/,he={in:1,return:1,typeof:1},{Ra:[],wa:d={},ac:Ne,vb:function(e,t){function r(e,t){var n;if(!l){var i=D.getBindingHandler(e);if(i&&i.preprocess&&!(t=i.preprocess(t,e,r)))return;(i=d[e])&&(n=t,i=n=!(0<=D.a.A(ue,n))&&(null!==(i=n.match(ce))&&(i[1]?"Object("+i[1]+")"+i[2]:n))),i&&s.push("'"+("string"==typeof d[e]?d[e]:e)+"':function(_z){"+n+"=_z}")}o.push("'"+e+"':"+(t=a?"function(){return "+t+" }":t))}var o=[],s=[],a=(t=t||{}).valueAccessors,l=t.bindingParams,t="string"==typeof e?Ne(e):e;return D.a.D(t,function(e){r(e.key||e.unknown,e.value)}),s.length&&r("_ko_property_writers","{"+s.join(",")+" }"),o.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,i,r){e&&D.O(e)?!D.Za(e)||r&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}),D.b("expressionRewriting",D.m),D.b("expressionRewriting.bindingRewriteValidators",D.m.Ra),D.b("expressionRewriting.parseObjectLiteral",D.m.ac),D.b("expressionRewriting.preProcessBindings",D.m.vb),D.b("expressionRewriting._twoWayBindings",D.m.wa),D.b("jsonExpressionRewriting",D.m),D.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",D.m.vb),f=yt&&"\x3c!--test--\x3e"===yt.createComment("test").text,pe=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,me=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,ge={ul:!0,ol:!0},ve="__ko_matchedEndComment__",D.h={ea:{},childNodes:function(e){return S(e)?Ae(e):e.childNodes},Ea:function(e){if(S(e))for(var t=0,n=(e=D.h.childNodes(e)).length;t<n;t++)D.removeNode(e[t]);else D.a.Tb(e)},va:function(e,t){if(S(e)){D.h.Ea(e);for(var n=e.nextSibling,i=0,r=t.length;i<r;i++)n.parentNode.insertBefore(t[i],n)}else D.a.va(e,t)},Vc:function(e,t){var n;S(e)?(n=e.nextSibling,e=e.parentNode):n=e.firstChild,n?t!==n&&e.insertBefore(t,n):e.appendChild(t)},Wb:function(e,t,n){n?(n=n.nextSibling,S(e)&&(e=e.parentNode),n?t!==n&&e.insertBefore(t,n):e.appendChild(t)):D.h.Vc(e,t)},firstChild:function(e){if(S(e))return!e.nextSibling||N(e.nextSibling)?null:e.nextSibling;if(e.firstChild&&N(e.firstChild))throw Error("Found invalid end comment, as the first child of "+e);return e.firstChild},nextSibling:function(e){if((e=S(e)?Pe(e):e).nextSibling&&N(e.nextSibling)){var t=e.nextSibling;if(N(t)&&!D.a.g.get(t,ve))throw Error("Found end comment without a matching opening comment, as child of "+e);return null}return e.nextSibling},Cd:S,Vd:function(e){return(e=(f?e.text:e.nodeValue).match(pe))?e[1]:null},Sc:function(e){if(ge[D.a.R(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n,i=t.firstChild,r=null;if(i)do{}while(r?r.push(i):S(i)?(n=Pe(i,!0))?i=n:r=[i]:N(i)&&(r=[i]),i=i.nextSibling);if(i=r)for(r=t.nextSibling,n=0;n<i.length;n++)r?e.insertBefore(i[n],r):e.appendChild(i[n])}}while(t=t.nextSibling)}}},D.b("virtualElements",D.h),D.b("virtualElements.allowedBindings",D.h.ea),D.b("virtualElements.emptyNode",D.h.Ea),D.b("virtualElements.insertAfter",D.h.Wb),D.b("virtualElements.prepend",D.h.Vc),D.b("virtualElements.setDomNodeChildren",D.h.va),D.ga=function(){this.nd={}},D.a.extend(D.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||D.j.getComponentNameForNode(e);case 8:return D.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return D.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return D.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return D.h.Vd(e);default:return null}},parseBindingsString:function(t,e,n,i){try{var r,o,s,a=this.nd,l=t+(i&&i.valueAccessors||"");return(s=a[l])||(r="with($context){with($data||{}){return{"+D.m.vb(t,i)+"}}}",o=new Function("$context","$element",r),s=a[l]=o),s(e,n)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),D.ga.instance=new D.ga,D.b("bindingProvider",D.ga),v=D.a.Da("_subscribable"),h=D.a.Da("_ancestorBindingInfo"),b=D.a.Da("_dataDependency"),D.c={},be={script:!0,textarea:!0,template:!0},D.getBindingHandler=function(e){return D.c[e]},p={},D.fa=function(e,n,i,r,t){function o(){var e=c?u():u,t=D.a.f(e);return n?(D.a.extend(a,n),h in n&&(a[h]=n[h])):(a.$parents=[],a.$root=t,a.ko=D),a[v]=s,l?t=a.$data:(a.$rawData=e,a.$data=t),i&&(a[i]=t),r&&r(a,n,t),n&&n[v]&&!D.S.o().Vb(n[v])&&n[v](),d&&(a[b]=d),a.$data}var s,a=this,l=e===p,u=l?vt:e,c="function"==typeof u&&!D.O(u),d=t&&t.dataDependency;t&&t.exportDependencies?o():((s=D.xb(o)).v(),s.ja()?s.equalityComparer=null:a[v]=vt)},D.fa.prototype.createChildContext=function(t,n,i,e){var r;return!e&&n&&"object"==typeof n&&(n=(e=n).as,i=e.extend),n&&e&&e.noChildContext?(r="function"==typeof t&&!D.O(t),new D.fa(p,this,null,function(e){i&&i(e),e[n]=r?t():t},e)):new D.fa(t,this,n,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)},e)},D.fa.prototype.extend=function(t,e){return new D.fa(p,this,null,function(e){D.a.extend(e,"function"==typeof t?t(e):t)},e)},y=D.a.g.Z(),A.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},A.prototype.sd=function(e){D.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},A.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,D.a.K.yb(this.node,Re),D.i.ma(this.node,D.i.pa),this.Tc())},D.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,i,r){var o=D.a.g.Ub(e,y,{});return o.Fa||(o.Fa=new D.T),r&&r.notifyImmediately&&o.Zb[t]&&D.u.G(n,i,[e]),o.Fa.subscribe(n,i,t)},ma:function(e,t){var n=D.a.g.get(e,y);if(n&&(n.Zb[t]=!0,n.Fa&&n.Fa.notifySubscribers(e,t),t==D.i.H))if(n.N)n.N.Cc();else if(n.N===vt&&n.Fa&&n.Fa.Wa(D.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,t){var n=D.a.g.Ub(e,y,{});return n.N||(n.N=new A(e,n,t[h])),t[h]==n?t:t.extend(function(e){e[h]=n})}},D.Td=function(e){return(e=D.a.g.get(e,y))&&e.context},D.ib=function(e,t,n){return 1===e.nodeType&&D.h.Sc(e),He(e,t,P(n))},D.ld=function(e,t,n){return n=P(n),D.ib(e,(i=n,e=e,"function"==typeof(t=t)?Be(t.bind(null,i,e)):D.a.Ga(t,Oe)),n);var i},D.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||Fe(P(e),t)},D.vc=function(e,t,n){if(!_t&&bt.jQuery&&(_t=bt.jQuery),arguments.length<2){if(!(t=yt.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");Le(P(e,n),t)},D.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?vt:D.Td(e)},D.Ec=function(e){return(e=D.Dc(e))?e.$data:vt},D.b("bindingHandlers",D.c),D.b("bindingEvent",D.i),D.b("bindingEvent.subscribe",D.i.subscribe),D.b("bindingEvent.startPossiblyAsyncContentBinding",D.i.Cb),D.b("applyBindings",D.vc),D.b("applyBindingsToDescendants",D.Oa),D.b("applyBindingAccessorsToNode",D.ib),D.b("applyBindingsToNode",D.ld),D.b("contextFor",D.Dc),D.b("dataFor",D.Ec),m={},g={},D.j={get:function(e,t){var n=Object.prototype.hasOwnProperty.call(g,e)?g[e]:ye;n?n.Gd?D.u.G(function(){t(n.definition)}):D.na.zb(function(){t(n.definition)}):je(e,t)},Bc:function(e){delete g[e]},oc:R},D.j.loaders=[],D.b("components",D.j),D.b("components.get",D.j.get),D.b("components.clearCachedDefinition",D.j.Bc),x={},D.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(D.j.tb(e))throw Error("Component "+e+" is already registered");x[e]=t},D.j.tb=function(e){return Object.prototype.hasOwnProperty.call(x,e)},D.j.unregister=function(e){delete x[e],D.j.Bc(e)},D.j.Fc={getConfig:function(e,t){t(D.j.tb(e)?x[e]:null)},loadComponent:function(l,e,u){var c=Ue(l);qe(c,e,function(e){function t(){0==--s&&r(o)}var n,i,r,o,s,a;n=l,i=c,r=u,o={},s=2,a=(e=e).template,e=e.viewModel,a?qe(i,a,function(e){D.j.oc("loadTemplate",[n,e],function(e){o.template=e,t()})}):t(),e?qe(i,e,function(e){D.j.oc("loadViewModel",[n,e],function(e){o[_]=e,t()})}):t()})},loadTemplate:function(e,t,n){var i;e=Ue(e),"string"==typeof t?n(D.a.ua(t)):t instanceof Array?n(t):We(t)?n(D.a.la(t.childNodes)):t.element?(t=t.element,(bt.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)?n(ze(t)):"string"==typeof t?(i=yt.getElementById(t))?n(ze(i)):e("Cannot find element with ID "+t):e("Unknown element type: "+t)):e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function e(t,n,i){var r;"function"==typeof n?i(function(e){return new n(e)}):"function"==typeof n[_]?i(n[_]):"instance"in n?(r=n.instance,i(function(){return r})):"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(Ue(e),t,n)}},_="createViewModel",D.b("components.register",D.j.register),D.b("components.isRegistered",D.j.tb),D.b("components.unregister",D.j.unregister),D.b("components.defaultLoader",D.j.Fc),D.j.loaders.push(D.j.Fc),D.j.dd=x,D.j.getComponentNameForNode=function(e){var t=D.a.R(e);if(D.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||D.a.W<=8&&e.tagName===t))return t},D.j.tc=function(e,t,n,i){if(1===t.nodeType){var r=D.j.getComponentNameForNode(t);if(r){if((e=e||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:r,params:(r=n,(n=(s=t).getAttribute("params"))?(n=we.parseBindingsString(n,r,s,{valueAccessors:!0,bindingParams:!0}),n=D.a.Ga(n,function(e){return D.o(e,null,{l:s})}),r=D.a.Ga(n,function(t){var e=t.v();return t.ja()?D.o({read:function(){return D.a.f(t())},write:D.Za(e)&&function(e){t()(e)},l:s}):e}),Object.prototype.hasOwnProperty.call(r,"$raw")||(r.$raw=n),r):{$raw:{}})};e.component=i?function(){return o}:o}}var s;return e},we=new D.ga,D.a.W<9&&(D.j.register=(_e=D.j.register,function(e){return _e.apply(this,arguments)}),yt.createDocumentFragment=(xe=yt.createDocumentFragment,function(){var e=xe();D.j.dd;return e})),Ce=0,D.c.component={init:function(c,t,e,n,i){function d(){var e=f&&f.dispose;"function"==typeof e&&e.call(f),p&&p.s(),h=f=p=null}var f,h,p,m=D.a.la(D.h.childNodes(c));return D.h.Ea(c),D.a.K.za(c,d),D.o(function(){var s,a,e=D.a.f(t());if("string"==typeof e?s=e:(s=D.a.f(e.name),a=D.a.f(e.params)),!s)throw Error("No component name specified");var l=D.i.Cb(c,i),u=h=++Ce;D.j.get(s,function(e){if(h===u){if(d(),!e)throw Error("Unknown component '"+s+"'");var t=s,n=e,i=c;if(!(n=n.template))throw Error("Component '"+t+"' has no template");t=D.a.Ca(n),D.h.va(i,t);n=a,i={element:c,templateNodes:m};var r=(o=(t=e).createViewModel)?o.call(t,n,i):n;e=l.createChildContext(r,{extend:function(e){e.$component=r,e.$componentTemplateNodes=m}}),r&&r.koDescendantsComplete&&(p=D.i.subscribe(c,D.i.pa,r.koDescendantsComplete,r)),f=r,D.Oa(e,c)}var o})},null,{l:c}),{controlsDescendantBindings:!0}}},D.h.ea.component=!0;var Ve={class:"className",for:"htmlFor"};function $e(e,h,p){D.c[e]={init:function(r,o,e,t,s){var a,l,u,c,n,d,f={};return h&&(t=e.get("as"),n=e.get("noChildContext"),f={as:t,noChildContext:n,exportDependencies:d=!(t&&n)}),c=(u="render"==e.get("completeOn"))||e.has(D.i.pa),D.o(function(){var e,t=D.a.f(o()),n=!p!=!t,i=!l;!d&&n===a||(c&&(s=D.i.Cb(r,s)),n&&(h&&!d||(f.dataDependency=D.S.o()),e=h?s.createChildContext("function"==typeof t?t:o,f):D.S.qa()?s.extend(null,f):s),i&&D.S.qa()&&(l=D.a.Ca(D.h.childNodes(r),!0)),n?(i||D.h.va(r,D.a.Ca(l)),D.Oa(e,r)):(D.h.Ea(r),u||D.i.ma(r,D.i.H)),a=n)},null,{l:r}),{controlsDescendantBindings:!0}}},D.m.Ra[e]=!1,D.h.ea[e]=!0}D.c.attr={update:function(r,e){e=D.a.f(e())||{};D.a.P(e,function(e,t){t=D.a.f(t);var n=e.indexOf(":"),n="lookupNamespaceURI"in r&&0<n&&r.lookupNamespaceURI(e.substr(0,n)),i=!1===t||null===t||t===vt;i?n?r.removeAttributeNS(n,e):r.removeAttribute(e):t=t.toString(),D.a.W<=8&&e in Ve?(e=Ve[e],i?r.removeAttribute(e):r[e]=t):i||(n?r.setAttributeNS(n,e,t):r.setAttribute(e,t)),"name"===e&&D.a.Yc(r,i?"":t)})}},D.c.checked={after:["value","attr"],init:function(o,s,a){function e(){var e,t,n,i=o.checked,r=d();D.S.Ya()||!i&&(h||D.S.qa())||(e=D.u.G(s),l?(t=u?e.v():e,(n=c)!==(c=r)?i&&(D.a.Na(t,r,!0),D.a.Na(t,n,!1)):D.a.Na(t,r,i),u&&D.Za(e)&&e(t)):(f&&(r===vt?r=i:i||(r=vt)),D.m.eb(e,a,"checked",r,!0)))}var t,l,u,n,c,d=D.xb(function(){return a.has("checkedValue")?D.a.f(a.get("checkedValue")):n?a.has("value")?D.a.f(a.get("value")):o.value:void 0}),f="checkbox"==o.type,h="radio"==o.type;(f||h)&&(t=s(),l=f&&D.a.f(t)instanceof Array,u=!(l&&t.push&&t.splice),n=h||l,c=l?d():vt,h&&!o.name&&D.c.uniqueName.init(o,function(){return!0}),D.o(e,null,{l:o}),D.a.B(o,"click",e),D.o(function(){var e=D.a.f(s()),t=d();l?(o.checked=0<=D.a.A(e,t),c=t):o.checked=f&&t===vt?!!e:d()===e},null,{l:o}))}},D.m.wa.checked=!0,D.c.checkedValue={update:function(e,t){e.value=D.a.f(t())}},D.c.class={update:function(e,t){t=D.a.Db(D.a.f(t()));D.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,D.a.Eb(e,t,!0)}},D.c.css={update:function(n,e){var t=D.a.f(e());null!==t&&"object"==typeof t?D.a.P(t,function(e,t){t=D.a.f(t),D.a.Eb(n,e,t)}):D.c.class.update(n,e)}},D.c.enable={update:function(e,t){t=D.a.f(t());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},D.c.disable={update:function(e,t){D.c.enable.update(e,function(){return!D.a.f(t())})}},D.c.event={init:function(e,o,s,a,l){var t=o()||{};D.a.P(t,function(r){"string"==typeof r&&D.a.B(e,r,function(e){var t,n=o()[r];if(n){try{var i=D.a.la(arguments);a=l.$data,i.unshift(a),t=n.apply(a,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===s.get(r+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},D.c.foreach={Rc:function(n){return function(){var e=n(),t=D.a.bc(e);return t&&"number"!=typeof t.length?(D.a.f(e),{foreach:t.data,as:t.as,noChildContext:t.noChildContext,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:D.ba.Ma}):{foreach:e,templateEngine:D.ba.Ma}}},init:function(e,t){return D.c.template.init(e,D.c.foreach.Rc(t))},update:function(e,t,n,i,r){return D.c.template.update(e,D.c.foreach.Rc(t),n,i,r)}},D.m.Ra.foreach=!1,D.h.ea.foreach=!0,D.c.hasfocus={init:function(i,r,o){function e(e){i.__ko_hasfocusUpdating=!0;var t,n=i.ownerDocument;if("activeElement"in n){try{t=n.activeElement}catch(e){t=n.body}e=t===i}n=r(),D.m.eb(n,o,"hasfocus",e,!0),i.__ko_hasfocusLastValue=e,i.__ko_hasfocusUpdating=!1}var t=e.bind(null,!0),n=e.bind(null,!1);D.a.B(i,"focus",t),D.a.B(i,"focusin",t),D.a.B(i,"blur",n),D.a.B(i,"focusout",n),i.__ko_hasfocusLastValue=!1},update:function(e,t){t=!!D.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),!t&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),D.u.G(D.a.Fb,null,[e,t?"focusin":"focusout"]))}},D.m.wa.hasfocus=!0,D.c.hasFocus=D.c.hasfocus,D.m.wa.hasFocus="hasfocus",D.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){D.a.fc(e,t())}},$e("if"),$e("ifnot",!1,!0),$e("with",!0),D.c.let={init:function(e,t,n,i,r){return t=r.extend(t),D.Oa(t,e),{controlsDescendantBindings:!0}}},D.h.ea.let=!0;var O,Ye,Xe,Qe,I,Ke,Ge,Je,Ze,et,tt,nt,it,B,rt,ot,st,at,lt,ut={};function ct(e,t,n,i){e=D.m.ac(e);for(var r=D.m.Ra,o=0;o<e.length;o++){var s=e[o].key;if(Object.prototype.hasOwnProperty.call(r,s)){var a=r[s];if("function"==typeof a){if(s=a(e[o].value))throw Error(s)}else if(!a)throw Error("This template engine does not support the '"+s+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+D.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}function dt(e,t,n){var i;for(t=D.h.nextSibling(t);e&&(i=e)!==t;)n(i,e=D.h.nextSibling(i))}function ft(e,t){if(e.length){var r=e[0],o=e[e.length-1],n=r.parentNode,s=D.ga.instance,a=s.preprocessNode;if(a){if(dt(r,o,function(e,t){var n=e.previousSibling,i=a.call(s,e);i&&(e===r&&(r=i[0]||t),e===o&&(o=i[i.length-1]||n))}),e.length=0,!r)return;r===o?e.push(r):(e.push(r,o),D.a.Ua(e,n))}dt(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||D.vc(t,e)}),dt(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||D.aa.cd(e,[t])}),D.a.Ua(e,n)}}function ht(e){return e.nodeType?e:0<e.length?e[0]:null}function pt(e,t,n,i,r){var o=(e&&ht(e)||n||{}).ownerDocument,s=(r=r||{}).templateEngine||rt;if(D.kc.xd(n,s,o),"number"!=typeof(n=s.renderTemplate(n,i,r,o)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(o=!1,t){case"replaceChildren":D.h.va(e,n),o=!0;break;case"replaceNode":D.a.Xc(e,n),o=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return o&&(ft(n,i),r.afterRender&&D.u.G(r.afterRender,null,[n,i[r.as||"$data"]]),"replaceChildren"==t&&D.i.ma(e,D.i.H)),n}function mt(e,t,n){return D.O(e)?e():"function"==typeof e?e(t,n):e}function gt(e,t,n,i,r){for(var o,s,a,l,u=Math.min,c=Math.max,d=[],f=e.length,h=t.length,p=h-f||1,m=f+h+1,g=0;g<=f;g++)for(a=s,d.push(s=[]),l=u(h,g+p),o=c(0,g-1);o<=l;o++)s[o]=o?g?e[g-1]===t[o-1]?a[o-1]:u(a[o]||m,s[o-1]||m)+1:o+1:g+1;for(u=[],c=[],p=[],g=f,o=h;g||o;)h=d[g][o]-1,o&&h===d[g][o-1]?c.push(u[u.length]={status:n,value:t[--o],index:o}):g&&h===d[g-1][o]?p.push(u[u.length]={status:i,value:e[--g],index:g}):(--o,--g,r.sparse||u.push({status:"retained",value:t[o]}));return D.a.Kc(p,c,!r.dontLimitMoves&&10*f),u.reverse()}D.c.options={init:function(e){if("select"!==D.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(i,e,r){function t(){return D.a.jb(i.options,function(e){return e.selected})}function o(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function n(e,t){var n;h&&u?D.i.ma(i,D.i.H):f.length&&(n=0<=D.a.A(f,D.w.M(t[0])),D.a.Zc(t[0],n),h&&!n&&D.u.G(D.a.Fb,null,[i,"change"]))}var s=i.multiple,a=0!=i.length&&s?i.scrollTop:null,l=D.a.f(e()),u=r.get("valueAllowUnset")&&r.has("value"),c=r.get("optionsIncludeDestroyed");e={};var d,f=[],h=(u||(s?f=D.a.Mb(t(),D.w.M):0<=i.selectedIndex&&f.push(D.w.M(i.options[i.selectedIndex]))),l&&(void 0===l.length&&(l=[l]),d=D.a.jb(l,function(e){return c||e===vt||null===e||!D.a.f(e._destroy)}),r.has("optionsCaption")&&(null!==(l=D.a.f(r.get("optionsCaption")))&&l!==vt&&d.unshift(ut))),!1);e.beforeRemove=function(e){i.removeChild(e)},l=n,r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(l=function(e,t){n(0,t),D.u.G(r.get("optionsAfterRender"),null,[t[0],e!==ut?e:vt])}),D.a.ec(i,d,function(e,t,n){return n.length&&(f=!u&&n[0].selected?[D.w.M(n[0])]:[],h=!0),t=i.ownerDocument.createElement("option"),e===ut?(D.a.Bb(t,r.get("optionsCaption")),D.w.cb(t,vt)):(n=o(e,r.get("optionsValue"),e),D.w.cb(t,D.a.f(n)),e=o(e,r.get("optionsText"),n),D.a.Bb(t,e)),[t]},e,l),u||(s?f.length&&t().length<f.length:f.length&&0<=i.selectedIndex?D.w.M(i.options[i.selectedIndex])!==f[0]:f.length||0<=i.selectedIndex)&&D.u.G(D.a.Fb,null,[i,"change"]),(u||D.S.Ya())&&D.i.ma(i,D.i.H),D.a.wd(i),a&&20<Math.abs(a-i.scrollTop)&&(i.scrollTop=a)}},D.c.options.$b=D.a.g.Z(),D.c.selectedOptions={init:function(i,r,n){function e(){var e=r(),t=[];D.a.D(i.getElementsByTagName("option"),function(e){e.selected&&t.push(D.w.M(e))}),D.m.eb(e,n,"selectedOptions",t)}function t(){var n=D.a.f(r()),e=i.scrollTop;n&&"number"==typeof n.length&&D.a.D(i.getElementsByTagName("option"),function(e){var t=0<=D.a.A(n,D.w.M(e));e.selected!=t&&D.a.Zc(e,t)}),i.scrollTop=e}if("select"!=D.a.R(i))throw Error("selectedOptions binding applies only to SELECT elements");var o;D.i.subscribe(i,D.i.H,function(){o?e():(D.a.B(i,"change",e),o=D.o(t,null,{l:i}))},null,{notifyImmediately:!0})},update:function(){}},D.m.wa.selectedOptions=!0,D.c.style={update:function(i,e){e=D.a.f(e()||{});D.a.P(e,function(e,t){var n;null!==(t=D.a.f(t))&&t!==vt&&!1!==t||(t=""),_t?_t(i).css(e,t):/^--/.test(e)?i.style.setProperty(e,t):(e=e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),n=i.style[e],(i.style[e]=t)===n||i.style[e]!=n||isNaN(t)||(i.style[e]=t+"px"))})}},D.c.submit={init:function(i,r,e,t,o){if("function"!=typeof r())throw Error("The value for a submit binding must be a function");D.a.B(i,"submit",function(e){var t,n=r();try{t=n.call(o.$data,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},D.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){D.a.Bb(e,t())}},D.h.ea.text=!0,bt&&bt.navigator&&(e=function(e){if(e)return parseFloat(e[1])},O=bt.navigator.userAgent,(Ye=bt.opera&&bt.opera.version&&parseInt(bt.opera.version()))||(Ke=e(O.match(/Edge\/([^ ]+)$/)))||e(O.match(/Chrome\/([^ ]+)/))||(Xe=e(O.match(/Version\/([^ ]+) Safari/)))||(Qe=e(O.match(/Firefox\/([^ ]+)/)))||(I=(I=D.a.W||e(O.match(/MSIE ([^ ]+)/)))||e(O.match(/rv:([^ )]+)/)))),8<=I&&I<10&&(Ge=D.a.g.Z(),Je=D.a.g.Z(),Ze=function(e){var t=this.activeElement;(t=t&&D.a.g.get(t,Je))&&t(e)},et=function(e,t){var n=e.ownerDocument;D.a.g.get(n,Ge)||(D.a.g.set(n,Ge,!0),D.a.B(n,"selectionchange",Ze)),D.a.g.set(e,Je,t)}),D.c.textInput={init:function(n,i,t){function e(e,t){D.a.B(n,e,t)}function r(){s||(a=n.value,s=D.a.setTimeout(o,4))}function o(){clearTimeout(s),a=s=vt;var e=n.value;l!==e&&(l=e,D.m.eb(i(),t,"textInput",e))}var s,a,l=n.value,u=9==D.a.W?r:o,c=!1;I&&e("keypress",o),I<11&&e("propertychange",function(e){c||"value"!==e.propertyName||u(e)}),8==I&&(e("keyup",o),e("keydown",o)),et&&(et(n,u),e("dragend",r)),(!I||9<=I)&&e("input",u),Xe<5&&"textarea"===D.a.R(n)?(e("keydown",r),e("paste",r),e("cut",r)):Ye<11?e("keydown",r):Qe<4?(e("DOMAutoComplete",o),e("dragdrop",o),e("drop",o)):Ke&&"number"===n.type&&e("keydown",r),e("change",o),e("blur",o),D.o(function e(){var t=D.a.f(i());null!==t&&t!==vt||(t=""),a!==vt&&t===a?D.a.setTimeout(e,4):n.value!==t&&(c=!0,n.value=t,c=!1,l=n.value)},null,{l:n})}},D.m.wa.textInput=!0,D.c.textinput={preprocess:function(e,t,n){n("textInput",e)}},D.c.uniqueName={init:function(e,t){t()&&(t="ko_unique_"+ ++D.c.uniqueName.rd,D.a.Yc(e,t))}},D.c.uniqueName.rd=0,D.c.using={init:function(e,t,n,i,r){var o;return n.has("as")&&(o={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=r.createChildContext(t,o),D.Oa(t,e),{controlsDescendantBindings:!0}}},D.h.ea.using=!0,D.c.value={init:function(n,i,r){var e,t,o,s,a,l,u,c=D.a.R(n),d="input"==c;!d||"checkbox"!=n.type&&"radio"!=n.type?(e=[],t=r.get("valueUpdate"),o=!1,s=null,t&&(e="string"==typeof t?[t]:D.a.wc(t),D.a.Pa(e,"change")),a=function(){s=null,o=!1;var e=i(),t=D.w.M(n);D.m.eb(e,r,"value",t)},!D.a.W||!d||"text"!=n.type||"off"==n.autocomplete||n.form&&"off"==n.form.autocomplete||-1!=D.a.A(e,"propertychange")||(D.a.B(n,"propertychange",function(){o=!0}),D.a.B(n,"focus",function(){o=!1}),D.a.B(n,"blur",function(){o&&a()})),D.a.D(e,function(e){var t=a;D.a.Ud(e,"after")&&(t=function(){s=D.w.M(n),D.a.setTimeout(a,0)},e=e.substring(5)),D.a.B(n,e,t)}),l=d&&"file"==n.type?function(){var e=D.a.f(i());null===e||e===vt||""===e?n.value="":D.u.G(a)}:function(){var e=D.a.f(i()),t=D.w.M(n);null!==s&&e===s?D.a.setTimeout(l,0):e===t&&t!==vt||("select"===c?(t=r.get("valueAllowUnset"),D.w.cb(n,e,t),t||e===D.w.M(n)||D.u.G(a)):D.w.cb(n,e))},"select"===c?D.i.subscribe(n,D.i.H,function(){u?(r.get("valueAllowUnset")?l:a)():(D.a.B(n,"change",a),u=D.o(l,null,{l:n}))},null,{notifyImmediately:!0}):(D.a.B(n,"change",a),D.o(l,null,{l:n}))):D.ib(n,{checkedValue:i})},update:function(){}},D.m.wa.value=!0,D.c.visible={update:function(e,t){var t=D.a.f(t()),n="none"!=e.style.display;t&&!n?e.style.display="":!t&&n&&(e.style.display="none")}},D.c.hidden={update:function(e,t){D.c.visible.update(e,function(){return!D.a.f(t())})}},D.c.click={init:function(e,t,n,i,r){return D.c.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,i,r)}},D.ca=function(){},D.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},D.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},D.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=(t=t||yt).getElementById(e);if(t)return new D.C.F(t);throw Error("Cannot find template with ID "+e)}if(1==e.nodeType||8==e.nodeType)return new D.C.ia(e);throw Error("Unknown template type: "+e)},D.ca.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},D.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},D.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},D.b("templateEngine",D.ca),D.kc=(tt=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,nt=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return D.kc.Ld(e,t)},n)},Ld:function(e,o){return e.replace(tt,function(e,t,n,i,r){return ct(r,t,n,o)}).replace(nt,function(e,t){return ct(t,"\x3c!-- ko --\x3e","#comment",o)})},md:function(n,i){return D.aa.Xb(function(e,t){e=e.nextSibling;e&&e.nodeName.toLowerCase()===i&&D.ib(e,n,t)})}}),D.b("__tr_ambtns",D.kc.md),D.C={},D.C.F=function(e){var t;(this.F=e)&&(t=D.a.R(e),this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4)},D.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"==e?D.a.fc(this.F,t):this.F[e]=t},it=D.a.g.Z()+"_",D.C.F.prototype.data=function(e){if(1===arguments.length)return D.a.g.get(this.F,it+e);D.a.g.set(this.F,it+e,arguments[1])},B=D.a.g.Z(),D.C.F.prototype.nodes=function(){var e,t,n,i=this.F;if(0==arguments.length)return(t=(e=D.a.g.get(i,B)||{}).lb||(3===this.ab?i.content:4===this.ab?i:vt))&&!e.jd||(n=this.text())&&n!==e.bb&&(t=D.a.Md(n,i.ownerDocument),D.a.g.set(i,B,{lb:t,bb:n,jd:!0})),t;e=arguments[0],this.ab!==vt&&this.text(""),D.a.g.set(i,B,{lb:e})},D.C.ia=function(e){this.F=e},D.C.ia.prototype=new D.C.F,D.C.ia.prototype.constructor=D.C.ia,D.C.ia.prototype.text=function(){var e;if(0==arguments.length)return(e=D.a.g.get(this.F,B)||{}).bb===vt&&e.lb&&(e.bb=e.lb.innerHTML),e.bb;D.a.g.set(this.F,B,{bb:arguments[0]})},D.b("templateSources",D.C),D.b("templateSources.domElement",D.C.F),D.b("templateSources.anonymousTemplate",D.C.ia),D.gc=function(e){if(e!=vt&&!(e instanceof D.ca))throw Error("templateEngine must inherit from ko.templateEngine");rt=e},D.dc=function(n,i,r,o,s){if(((r=r||{}).templateEngine||rt)==vt)throw Error("Set a template engine before calling renderTemplate");var a;return s=s||"replaceChildren",o?(a=ht(o),D.$(function(){var e=i&&i instanceof D.fa?i:new D.fa(i,null,null,null,{exportDependencies:!0}),t=mt(n,e.$data,e),e=pt(o,s,t,e,r);"replaceNode"==s&&(a=ht(o=e))},null,{Sa:function(){return!a||!D.a.Sb(a)},l:a&&"replaceNode"==s?a.parentNode:a})):D.aa.Xb(function(e){D.dc(n,i,r,e,"replaceNode")})},D.Qd=function(n,t,i,r,o){function s(e,t){D.u.G(D.a.ec,null,[r,e,l,i,a,t]),D.i.ma(r,D.i.H)}function a(e,t){ft(t,u),i.afterRender&&i.afterRender(t,e),u=null}function l(e,t){u=o.createChildContext(e,{as:c,noChildContext:i.noChildContext,extend:function(e){e.$index=t,c&&(e[c+"Index"]=t)}});e=mt(n,e,u);return pt(r,"ignoreTargetNode",e,u,i)}var u,c=i.as,d=!1===i.includeDestroyed||D.options.foreachHidesDestroyed&&!i.includeDestroyed;if(d||i.beforeRemove||!D.Pc(t))return D.$(function(){var e=D.a.f(t)||[];void 0===e.length&&(e=[e]),s(e=d?D.a.jb(e,function(e){return e===vt||null===e||!D.a.f(e._destroy)}):e)},null,{l:r});s(t.v());var e=t.subscribe(function(e){s(t(),e)},null,"arrayChange");return e.l(r),e},ot=D.a.g.Z(),st=D.a.g.Z(),D.c.template={init:function(e,t){t=D.a.f(t());if("string"==typeof t||"name"in t)D.h.Ea(e);else{if("nodes"in t){if(t=t.nodes||[],D.O(t))throw Error('The "nodes" option must be a plain, non-observable array.');var n=t[0]&&t[0].parentNode;n&&D.a.g.get(n,st)||(n=D.a.Yb(t),D.a.g.set(n,st,!0))}else{if(!(0<(t=D.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");n=D.a.Yb(t)}new D.C.ia(e).nodes(n)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,r){var o=t();n=!0,i=null,"string"==typeof(t=D.a.f(o))?t={}:(o="name"in t?t.name:e,(n=(n="if"in t?D.a.f(t.if):n)&&"ifnot"in t?!D.a.f(t.ifnot):n)&&!o&&(n=!1)),"foreach"in t?i=D.Qd(o,n&&t.foreach||[],t,e,r):n?(n=r,"data"in t&&(n=r.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),i=D.dc(o,n,t,e)):D.h.Ea(e),r=i,(t=D.a.g.get(e,ot))&&"function"==typeof t.s&&t.s(),D.a.g.set(e,ot,!r||r.ja&&!r.ja()?vt:r)}},D.m.Ra.template=function(e){return 1==(e=D.m.ac(e)).length&&e[0].unknown||D.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},D.h.ea.template=!0,D.b("setTemplateEngine",D.gc),D.b("renderTemplate",D.dc),D.a.Kc=function(e,t,n){if(e.length&&t.length)for(var i,r,o,s,a=i=0;(!n||a<n)&&(o=e[i]);++i){for(r=0;s=t[r];++r)if(o.value===s.value){o.moved=s.index,s.moved=o.index,t.splice(r,1),a=r=0;break}a+=r}},D.a.Pb=function(e,t,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},(e=e||[]).length<(t=t||[]).length?gt(e,t,"added","deleted",n):gt(t,e,"deleted","added",n)},D.b("utils.compareArrays",D.a.Pb),at=D.a.g.Z(),lt=D.a.g.Z(),D.a.ec=function(t,e,n,i,r,o){function s(e){u={Aa:e,pb:D.ta(v++)},m.push(u),p||w.push(u)}function a(e){u=h[e],v!==u.pb.v()&&_.push(u),u.pb(v++),D.a.Ua(u.Y,t),m.push(u)}function l(t,n){if(t)for(var i=0,e=n.length;i<e;i++)D.a.D(n[i].Y,function(e){t(e,i,n[i].Aa)})}void 0===(e=e||[]).length&&(e=[e]),i=i||{};var u,c,d,f,h=D.a.g.get(t,at),p=!h,m=[],g=0,v=0,b=[],y=[],x=[],_=[],w=[],C=0;if(p)D.a.D(e,s);else{(!o||h&&h._countWaitingForRemove)&&(S=D.a.Mb(h,function(e){return e.Aa}),o=D.a.Pb(S,e,{dontLimitMoves:i.dontLimitMoves,sparse:!0}));for(var k,T,E,S=0;k=o[S];S++)switch(T=k.moved,E=k.index,k.status){case"deleted":for(;g<E;)a(g++);T===vt&&((u=h[g]).$&&(u.$.s(),u.$=vt),D.a.Ua(u.Y,t).length&&(i.beforeRemove&&(m.push(u),C++,u.Aa===lt?u=null:x.push(u)),u&&b.push.apply(b,u.Y))),g++;break;case"added":for(;v<E;)a(g++);T!==vt?(y.push(m.length),a(T)):s(k.value)}for(;v<e.length;)a(g++);m._countWaitingForRemove=C}D.a.g.set(t,at,m),l(i.beforeMove,_),D.a.D(b,i.beforeRemove?D.oa:D.removeNode);try{f=t.ownerDocument.activeElement}catch(e){}if(y.length)for(;(S=y.shift())!=vt;){for(u=m[S],c=vt;S;)if((d=m[--S].Y)&&d.length){c=d[d.length-1];break}for(e=0;g=u.Y[e];c=g,e++)D.h.Wb(t,g,c)}for(S=0;u=m[S];S++){for(u.Y||D.a.extend(u,function(t,n,i,r,o){var s=[],e=D.$(function(){var e=n(i,o,D.a.Ua(s,t))||[];0<s.length&&(D.a.Xc(s,e),r&&D.u.G(r,null,[i,e,o])),s.length=0,D.a.Nb(s,e)},null,{l:t,Sa:function(){return!D.a.kd(s)}});return{Y:s,$:e.ja()?e:vt}}(t,n,u.Aa,r,u.pb)),e=0;g=u.Y[e];c=g,e++)D.h.Wb(t,g,c);!u.Ed&&r&&(r(u.Aa,u.Y,u.pb),u.Ed=!0,c=u.Y[u.Y.length-1])}for(f&&t.ownerDocument.activeElement!=f&&f.focus(),l(i.beforeRemove,x),S=0;S<x.length;++S)x[S].Aa=lt;l(i.afterMove,_),l(i.afterAdd,w)},D.b("utils.setDomNodeChildrenFromArrayMapping",D.a.ec),D.ba=function(){this.allowTemplateRewriting=!1},D.ba.prototype=new D.ca,D.ba.prototype.constructor=D.ba,D.ba.prototype.renderTemplateSource=function(e,t,n,i){return(t=D.a.W<9||!e.nodes?null:e.nodes())?D.a.la(t.cloneNode(!0).childNodes):(e=e.text(),D.a.ua(e,i))},D.ba.Ma=new D.ba,D.gc(D.ba.Ma),D.b("nativeTemplateEngine",D.ba),D.$a=function(){var o=this.Hd=function(){if(!_t||!_t.tmpl)return 0;try{if(0<=_t.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,t,n,i){if(i=i||yt,n=n||{},o<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var r=e.data("precompiled");return r||(r=e.text()||"",r=_t.template(null,"{{ko_with $item.koBindingContext}}"+r+"{{/ko_with}}"),e.data("precompiled",r)),e=[t.$data],t=_t.extend({koBindingContext:t},n.templateOptions),(t=_t.tmpl(r,e,t)).appendTo(i.createElement("div")),_t.fragments={},t},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){yt.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<o&&(_t.tmpl.tag.ko_code={open:"__.push($1 || '');"},_t.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},D.$a.prototype=new D.ca,D.$a.prototype.constructor=D.$a,0<(e=new D.$a).Hd&&D.gc(e),D.b("jqueryTmplTemplateEngine",D.$a)},"function"==typeof define&&define.amd?define(["exports","require"],e):"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):e(bt.ko={})}(),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(w){var e,t,n,i;function r(e,t){var n,i,r=e.nodeName.toLowerCase();return"area"===r?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(i=w("img[usemap='#"+n+"']")[0])&&o(i))):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r&&e.href||t)&&o(e)}function o(e){return w.expr.filters.visible(e)&&!w(e).parents().addBack().filter(function(){return"hidden"===w.css(this,"visibility")}).length}w.ui=w.ui||{},w.extend(w.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),w.fn.extend({scrollParent:function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var e=w(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&e.length?e:w(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&w(this).removeAttr("id")})}}),w.extend(w.expr[":"],{data:w.expr.createPseudo?w.expr.createPseudo(function(t){return function(e){return!!w.data(e,t)}}):function(e,t,n){return!!w.data(e,n[3])},focusable:function(e){return r(e,!isNaN(w.attr(e,"tabindex")))},tabbable:function(e){var t=w.attr(e,"tabindex"),n=isNaN(t);return(n||0<=t)&&r(e,!n)}}),w("<a>").outerWidth(1).jquery||w.each(["Width","Height"],function(e,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:w.fn.innerWidth,innerHeight:w.fn.innerHeight,outerWidth:w.fn.outerWidth,outerHeight:w.fn.outerHeight};function s(e,t,n,i){return w.each(r,function(){t-=parseFloat(w.css(e,"padding"+this))||0,n&&(t-=parseFloat(w.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat(w.css(e,"margin"+this))||0)}),t}w.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){w(this).css(i,s(this,e)+"px")})},w.fn["outer"+n]=function(e,t){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){w(this).css(i,s(this,e,!0,t)+"px")})}}),w.fn.addBack||(w.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),w("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(w.fn.removeData=(t=w.fn.removeData,function(e){return arguments.length?t.call(this,w.camelCase(e)):t.call(this)})),w.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),w.fn.extend({focus:(i=w.fn.focus,function(t,n){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){w(e).focus(),n&&n.call(e)},t)}):i.apply(this,arguments)}),disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(n+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,n=w(this[0]);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(t=parseInt(n.css("zIndex"),10),!isNaN(t)&&0!==t))return t;n=n.parent()}return 0}}),w.ui.plugin={add:function(e,t,n){var i,r=w.ui[e].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([t,n[i]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var s,M=0,F=Array.prototype.slice,a=(w.cleanData=(s=w.cleanData,function(e){for(var t,n,i=0;null!=(n=e[i]);i++)try{(t=w._data(n,"events"))&&t.remove&&w(n).triggerHandler("remove")}catch(e){}s(e)}),w.widget=function(e,n,t){var i,r,o,s,a={},l=e.split(".")[0];return e=e.split(".")[1],i=l+"-"+e,t||(t=n,n=w.Widget),w.expr[":"][i.toLowerCase()]=function(e){return!!w.data(e,i)},w[l]=w[l]||{},r=w[l][e],o=w[l][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},w.extend(o,r,{version:t.version,_proto:w.extend({},t),_childConstructors:[]}),(s=new n).options=w.widget.extend({},s.options),w.each(t,function(t,i){function r(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}w.isFunction(i)?a[t]=function(){var e,t=this._super,n=this._superApply;return this._super=r,this._superApply=o,e=i.apply(this,arguments),this._super=t,this._superApply=n,e}:a[t]=i}),o.prototype=w.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:i}),r?(w.each(r._childConstructors,function(e,t){var n=t.prototype;w.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete r._childConstructors):n._childConstructors.push(o),w.widget.bridge(e,o),o},w.widget.extend=function(e){for(var t,n,i=F.call(arguments,1),r=0,o=i.length;r<o;r++)for(t in i[r])n=i[r][t],i[r].hasOwnProperty(t)&&void 0!==n&&(w.isPlainObject(n)?e[t]=w.isPlainObject(e[t])?w.widget.extend({},e[t],n):w.widget.extend({},n):e[t]=n);return e},w.widget.bridge=function(o,t){var s=t.prototype.widgetFullName||o;w.fn[o]=function(n){var e="string"==typeof n,i=F.call(arguments,1),r=this;return e?this.each(function(){var e,t=w.data(this,s);return"instance"===n?(r=t,!1):t?w.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&void 0!==e?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:w.error("no such method '"+n+"' for "+o+" widget instance"):w.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):(i.length&&(n=w.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=w.data(this,s);e?(e.option(n||{}),e._init&&e._init()):w.data(this,s,new t(n,this))})),r}},w.Widget=function(){},w.Widget._childConstructors=[],w.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=w(t||this.defaultElement||this)[0],this.element=w(t),this.uuid=M++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=w(),this.hoverable=w(),this.focusable=w(),t!==this&&(w.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=w(t.style?t.ownerDocument:t.document||t),this.window=w(this.document[0].defaultView||this.document[0].parentWindow)),this.options=w.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:w.noop,_getCreateEventData:w.noop,_create:w.noop,_init:w.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(w.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:w.noop,widget:function(){return this.element},option:function(e,t){var n,i,r,o=e;if(0===arguments.length)return w.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(i=o[e]=w.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(e=n.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){for(var t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(r,o,e){var s,a=this;"boolean"!=typeof r&&(e=o,o=r,r=!1),e?(o=s=w(o),this.bindings=this.bindings.add(o)):(e=o,o=this.element,s=this.widget()),w.each(e,function(e,t){function n(){if(r||!0!==a.options.disabled&&!w(this).hasClass("ui-state-disabled"))return("string"==typeof t?a[t]:t).apply(a,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||w.guid++);var e=e.match(/^([\w:-]*)\s*(.*)$/),i=e[1]+a.eventNamespace,e=e[2];e?s.delegate(e,i,n):o.bind(i,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=w(this.bindings.not(e).get()),this.focusable=w(this.focusable.not(e).get()),this.hoverable=w(this.hoverable.not(e).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){w(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){w(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){w(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){w(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var i,r,o=this.options[e];if(n=n||{},(t=w.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!(w.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},w.each({show:"fadeIn",hide:"fadeOut"},function(o,s){w.Widget.prototype["_"+o]=function(t,e,n){var i=(e="string"==typeof e?{effect:e}:e)?!0!==e&&"number"!=typeof e&&e.effect||s:o,r=!w.isEmptyObject(e="number"==typeof(e=e||{})?{duration:e}:e);e.complete=n,e.delay&&t.delay(e.delay),r&&w.effects&&w.effects.effect[i]?t[o](e):i!==o&&t[i]?t[i](e.duration,e.easing,n):t.queue(function(e){w(this)[o](),n&&n.call(t[0]),e()})}}),w.widget,!1);w(document).mouseup(function(){a=!1}),w.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===w.data(e.target,t.widgetName+".preventClickEvent"))return w.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){var t,n,i;if(!a)return this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),n=1===(this._mouseDownEvent=e).which,i=!("string"!=typeof(t=this).options.cancel||!e.target.nodeName)&&w(e.target).closest(this.options.cancel).length,n&&!i&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?e.preventDefault():(!0===w.data(e.target,this.widgetName+".preventClickEvent")&&w.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0)),!0},_mouseMove:function(e){if(this._mouseMoved){if(w.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&w.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),a=!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});w.ui=w.ui||{};var l,L,C=Math.max,k=Math.abs,H=Math.round,j=/left|center|right/,z=/top|center|bottom/,W=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,U=/%$/,V=w.fn.position;function $(e,t,n){return[parseFloat(e[0])*(U.test(e[0])?t/100:1),parseFloat(e[1])*(U.test(e[1])?n/100:1)]}function T(e,t){return parseInt(w.css(e,t),10)||0}w.position={scrollbarWidth:function(){var e,t,n;return void 0!==l?l:(n=(t=w("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>")).children()[0],w("body").append(t),e=n.offsetWidth,t.css("overflow","scroll"),e===(n=n.offsetWidth)&&(n=t[0].clientWidth),t.remove(),l=e-n)},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),t="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?w.position.scrollbarWidth():0,height:t?w.position.scrollbarWidth():0}},getWithinInfo:function(e){var e=w(e||window),t=w.isWindow(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:t,isDocument:n,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:t||n?e.width():e.outerWidth(),height:t||n?e.height():e.outerHeight()}}},w.fn.position=function(d){if(!d||!d.of)return V.apply(this,arguments);d=w.extend({},d);var f,h,p,m,g,e,v=w(d.of),b=w.position.getWithinInfo(d.within),y=w.position.getScrollInfo(b),x=(d.collision||"flip").split(" "),_={},t=9===(t=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:w.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};return v[0].preventDefault&&(d.at="left top"),h=t.width,p=t.height,g=w.extend({},m=t.offset),w.each(["my","at"],function(){var e,t,n=(d[this]||"").split(" ");(n=1===n.length?j.test(n[0])?n.concat(["center"]):z.test(n[0])?["center"].concat(n):["center","center"]:n)[0]=j.test(n[0])?n[0]:"center",n[1]=z.test(n[1])?n[1]:"center",e=W.exec(n[0]),t=W.exec(n[1]),_[this]=[e?e[0]:0,t?t[0]:0],d[this]=[q.exec(n[0])[0],q.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===d.at[0]?g.left+=h:"center"===d.at[0]&&(g.left+=h/2),"bottom"===d.at[1]?g.top+=p:"center"===d.at[1]&&(g.top+=p/2),f=$(_.at,h,p),g.left+=f[0],g.top+=f[1],this.each(function(){var n,e,s=w(this),a=s.outerWidth(),l=s.outerHeight(),t=T(this,"marginLeft"),i=T(this,"marginTop"),r=a+t+T(this,"marginRight")+y.width,o=l+i+T(this,"marginBottom")+y.height,u=w.extend({},g),c=$(_.my,s.outerWidth(),s.outerHeight());"right"===d.my[0]?u.left-=a:"center"===d.my[0]&&(u.left-=a/2),"bottom"===d.my[1]?u.top-=l:"center"===d.my[1]&&(u.top-=l/2),u.left+=c[0],u.top+=c[1],L||(u.left=H(u.left),u.top=H(u.top)),n={marginLeft:t,marginTop:i},w.each(["left","top"],function(e,t){w.ui.position[x[e]]&&w.ui.position[x[e]][t](u,{targetWidth:h,targetHeight:p,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[f[0]+c[0],f[1]+c[1]],my:d.my,at:d.at,within:b,elem:s})}),d.using&&(e=function(e){var t=m.left-u.left,n=t+h-a,i=m.top-u.top,r=i+p-l,o={target:{element:v,left:m.left,top:m.top,width:h,height:p},element:{element:s,left:u.left,top:u.top,width:a,height:l},horizontal:n<0?"left":0<t?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};h<a&&k(t+n)<h&&(o.horizontal="center"),p<l&&k(i+r)<p&&(o.vertical="middle"),C(k(t),k(n))>C(k(i),k(r))?o.important="horizontal":o.important="vertical",d.using.call(this,e,o)}),s.offset(w.extend(u,{using:e}))})},w.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,i=i.width,o=e.left-t.collisionPosition.marginLeft,s=r-o,a=o+t.collisionWidth-i-r;t.collisionWidth>i?0<s&&a<=0?(n=e.left+s+t.collisionWidth-i-r,e.left+=s-n):e.left=!(0<a&&s<=0)&&a<s?r+i-t.collisionWidth:r:0<s?e.left+=s:0<a?e.left-=a:e.left=C(e.left-o,e.left)},top:function(e,t){var n,i=t.within,i=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,o=e.top-t.collisionPosition.marginTop,s=i-o,a=o+t.collisionHeight-r-i;t.collisionHeight>r?0<s&&a<=0?(n=e.top+s+t.collisionHeight-r-i,e.top+=s-n):e.top=!(0<a&&s<=0)&&a<s?i+r-t.collisionHeight:i:0<s?e.top+=s:0<a?e.top-=a:e.top=C(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,i=n.offset.left+n.scrollLeft,r=n.width,n=n.isWindow?n.scrollLeft:n.offset.left,o=e.left-t.collisionPosition.marginLeft,s=o-n,o=o+t.collisionWidth-r-n,a="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,l="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,u=-2*t.offset[0];s<0?((r=e.left+a+l+u+t.collisionWidth-r-i)<0||r<k(s))&&(e.left+=a+l+u):0<o&&(0<(i=e.left-t.collisionPosition.marginLeft+a+l+u-n)||k(i)<o)&&(e.left+=a+l+u)},top:function(e,t){var n=t.within,i=n.offset.top+n.scrollTop,r=n.height,n=n.isWindow?n.scrollTop:n.offset.top,o=e.top-t.collisionPosition.marginTop,s=o-n,o=o+t.collisionHeight-r-n,a="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,l="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,u=-2*t.offset[1];s<0?((r=e.top+a+l+u+t.collisionHeight-r-i)<0||r<k(s))&&(e.top+=a+l+u):0<o&&(0<(i=e.top-t.collisionPosition.marginTop+a+l+u-n)||k(i)<o)&&(e.top+=a+l+u)}},flipfit:{left:function(){w.ui.position.flip.left.apply(this,arguments),w.ui.position.fit.left.apply(this,arguments)},top:function(){w.ui.position.flip.top.apply(this,arguments),w.ui.position.fit.top.apply(this,arguments)}}};var u,c=document.getElementsByTagName("body")[0],d=document.createElement("div"),f=document.createElement(c?"div":"body"),h={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(u in c&&w.extend(h,{position:"absolute",left:"-1000px",top:"-1000px"}),h)f.style[u]=h[u];f.appendChild(d),(c=c||document.documentElement).insertBefore(f,c.firstChild),d.style.cssText="position: absolute; left: 10.7432222px;",d=w(d).offset().left,L=10<d&&d<11,f.innerHTML="",c.removeChild(f);w.ui.position,w.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=w(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():w()}},_createIcons:function(){var e=this.options.icons;e&&(w("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"===e?this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=w.ui.keyCode,n=this.headers.length,i=this.headers.index(e.target),r=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:r=this.headers[(i+1)%n];break;case t.LEFT:case t.UP:r=this.headers[(i-1+n)%n];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:r=this.headers[0];break;case t.END:r=this.headers[n-1]}r&&(w(e.target).attr("tabIndex",-1),w(r).attr("tabIndex",0),r.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===w.ui.keyCode.UP&&e.ctrlKey&&w(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=w()):!1===e.active?this._activate(0):this.active.length&&!w.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=w()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var n,e=this.options,t=e.heightStyle,i=this.element.parent();this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=w(this),t=e.uniqueId().attr("id"),n=e.next(),i=n.uniqueId().attr("id");e.attr("aria-controls",i),n.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(n=i.height(),this.element.siblings(":visible").each(function(){var e=w(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.headers.each(function(){n-=w(this).outerHeight(!0)}),this.headers.next().each(function(){w(this).height(Math.max(0,n-w(this).innerHeight()+w(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.headers.next().each(function(){n=Math.max(n,w(this).css("height","").height())}).height(n))},_activate:function(e){e=this._findActive(e)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:w.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):w()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&w.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t=this.options,n=this.active,i=w(e.currentTarget),r=i[0]===n[0],o=r&&t.collapsible,s=o?w():i.next(),a=n.next(),a={oldHeader:n,oldPanel:a,newHeader:o?w():i,newPanel:s};e.preventDefault(),r&&!t.collapsible||!1===this._trigger("beforeActivate",e,a)||(t.active=!o&&this.headers.index(i),this.active=r?w():i,this._toggle(a),n.removeClass("ui-accordion-header-active ui-state-active"),t.icons&&n.children(".ui-accordion-header-icon").removeClass(t.icons.activeHeader).addClass(t.icons.header),r||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),t.icons&&i.children(".ui-accordion-header-icon").removeClass(t.icons.header).addClass(t.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=n,this.options.animate?this._animate(t,n,e):(n.hide(),t.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(w(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,n,t){function i(){o._toggleComplete(t)}var r,o=this,s=0,a=e.css("box-sizing"),l=e.length&&(!n.length||e.index()<n.index()),u=this.options.animate||{},l=l&&u.down||u,c=(c="string"==typeof l?l:c)||l.easing||u.easing,d=(d="number"==typeof l?l:d)||l.duration||u.duration;return n.length?e.length?(r=e.show().outerHeight(),n.animate(this.hideProps,{duration:d,easing:c,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:d,easing:c,complete:i,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===a&&(s+=t.now):"content"!==o.options.heightStyle&&(t.now=Math.round(r-n.outerHeight()-s),s=0)}})):n.animate(this.hideProps,d,c,i):e.animate(this.showProps,d,c,i)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),w.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=w(e.target);!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&w(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var t;this.previousFilter||((t=w(e.currentTarget)).siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,t))},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(e){this._delay(function(){w.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=w(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var t,n,i,r=!0;switch(e.keyCode){case w.ui.keyCode.PAGE_UP:this.previousPage(e);break;case w.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case w.ui.keyCode.HOME:this._move("first","first",e);break;case w.ui.keyCode.END:this._move("last","last",e);break;case w.ui.keyCode.UP:this.previous(e);break;case w.ui.keyCode.DOWN:this.next(e);break;case w.ui.keyCode.LEFT:this.collapse(e);break;case w.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case w.ui.keyCode.ENTER:case w.ui.keyCode.SPACE:this._activate(e);break;case w.ui.keyCode.ESCAPE:this.collapse(e);break;default:r=!1,t=this.previousFilter||"",n=String.fromCharCode(e.keyCode),i=!1,clearTimeout(this.filterTimer),n===t?i=!0:n=t+n,t=this._filterMenuItems(n),(t=i&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(n=String.fromCharCode(e.keyCode),t=this._filterMenuItems(n)),t.length?(this.focus(e,t),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t=this,i=this.options.icons.submenu,e=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=w(this),t=e.parent(),n=w("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",t.attr("id"))}),(e=e.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=w(this);t._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!w.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,n,i;this._hasScroll()&&(t=parseFloat(w.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(w.css(this.activeMenu[0],"paddingTop"))||0,t=e.offset().top-this.activeMenu.offset().top-t-n,n=this.activeMenu.scrollTop(),i=this.activeMenu.height(),e=e.outerHeight(),t<0?this.activeMenu.scrollTop(n+t):i<t+e&&this.activeMenu.scrollTop(n+t-i+e))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=w.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var e=n?this.element:w(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this.activeMenu=e},this.delay)},_close:function(e){(e=e||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!w(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;(i=this.active?"first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0):i)&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(e){var t,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=w(this)).offset().top-n-i<0}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=w(this)).offset().top-n+i}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||w(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var e=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),t=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return t.test(w.trim(w(this).text()))})}}),w.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,e="input"===e;this.isMultiLine=t||!e&&this.element.prop("isContentEditable"),this.valueMethod=this.element[t||e?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var t=w.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:n=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:n=!0,this._move("nextPage",e);break;case t.UP:n=!0,this._keyEvent("previous",e);break;case t.DOWN:n=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(n=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:i=!0,this._searchTimeout(e)}}},keypress:function(e){if(n)n=!1,this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault();else if(!i){var t=w.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){r?(r=!1,e.preventDefault()):this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=w("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];w(e.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(e){e.target===t.element[0]||e.target===n||w.contains(n,e.target)||t.close()})})},menufocus:function(e,t){var n;this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){w(e.target).trigger(e.originalEvent)})):(n=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(t=t.item.attr("aria-label")||n.value)&&w.trim(t).length&&(this.liveRegion.children().hide(),w("<div>").text(t).appendTo(this.liveRegion)))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=w("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e=(e=(e=e&&(e.jquery||e.nodeType?w(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front")).length?e:this.document[0].body},_initSource:function(){var n,i,r=this;w.isArray(this.options.source)?(n=this.options.source,this.source=function(e,t){t(w.ui.autocomplete.filter(n,e.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,t){r.xhr&&r.xhr.abort(),r.xhr=w.ajax({url:i,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;e&&(t||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return w.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e=e&&this._normalize(e),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:w.map(e,function(e){return"string"==typeof e?{label:e,value:e}:w.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(w.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;w.each(e,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return w("<li>").text(t.label).appendTo(e)},_move:function(e,t){this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur()):this.menu[e](t):this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),w.extend(w.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(w.ui.autocomplete.escapeRegex(t),"i");return w.grep(e,function(e){return n.test(e.label||e.value||e)})}}),w.widget("ui.autocomplete",w.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),w("<div>").text(t).appendTo(this.liveRegion))}}),w.ui.autocomplete;function Y(){var e=w(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)}function X(e){var t=e.name,n=e.form,i=w([]);return t&&(t=t.replace(/'/g,"\\'"),i=n?w(n).find("[name='"+t+"'][type=radio]"):w("[name='"+t+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),i}var p,m,Q="ui-button ui-widget ui-state-default ui-corner-all",K="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only";w.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,Y),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,e="checkbox"===this.type||"radio"===this.type,i=e?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(Q).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===p&&w(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||w(this).removeClass(i)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),e&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;w(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var e=t.element[0];X(e).not(e).map(function(){return w(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;w(this).addClass("ui-state-active"),p=this,t.document.one("mouseup",function(){p=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;w(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(n.disabled)return!1;e.keyCode!==w.ui.keyCode.SPACE&&e.keyCode!==w.ui.keyCode.ENTER||w(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){w(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===w.ui.keyCode.SPACE&&w(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=(t.length?t:this.element).siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(t=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",t)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(Q+" ui-state-active "+K).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active"))):this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?X(this.element[0]).each(function(){w(this).is(":checked")?w(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):w(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){var e,t,n,i,r;"input"===this.type?this.options.label&&this.element.val(this.options.label):(e=this.buttonElement.removeClass(K),t=w("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=(n=this.options.icons).primary&&n.secondary,r=[],n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",w.trim(t)))):r.push("ui-button-text-only"),e.addClass(r.join(" ")))}}),w.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var e="rtl"===this.element.css("direction"),t=this.element.find(this.options.items),n=t.filter(":ui-button");t.not(":ui-button").button(),n.button("refresh"),this.buttons=t.map(function(){return w(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return w(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),w.ui.button;function G(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},w.extend(this._defaults,this.regional[""]),this.regional.en=w.extend(!0,{},this.regional[""]),this.regional["en-US"]=w.extend(!0,{},this.regional.en),this.dpDiv=J(w("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function J(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){w(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&w(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&w(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",Z)}function Z(){w.datepicker._isDisabledDatepicker((m.inline?m.dpDiv.parent():m.input)[0])||(w(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),w(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&w(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&w(this).addClass("ui-datepicker-next-hover"))}function g(e,t){for(var n in w.extend(e,t),t)null==t[n]&&(e[n]=t[n])}w.extend(w.ui,{datepicker:{version:"1.11.4"}}),w.extend(G.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return g(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var n,i=e.nodeName.toLowerCase(),r="div"===i||"span"===i;e.id||(this.uuid+=1,e.id="dp"+this.uuid),(n=this._newInst(w(e),r)).settings=w.extend({},t||{}),"input"===i?this._connectDatepicker(e,n):r&&this._inlineDatepicker(e,n)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?J(w("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var n=w(e);t.append=w([]),t.trigger=w([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(t),w.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n,i=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=w("<span class='"+this._appendClass+"'>"+i+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(i=this._get(t,"showOn"))&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(i=this._get(t,"buttonText"),n=this._get(t,"buttonImage"),t.trigger=w(this._get(t,"buttonImageOnly")?w("<img/>").addClass(this._triggerClass).attr({src:n,alt:i,title:i}):w("<button type='button'></button>").addClass(this._triggerClass).html(n?w("<img/>").attr({src:n,alt:i,title:i}):i)),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return w.datepicker._datepickerShowing&&w.datepicker._lastInput===e[0]?w.datepicker._hideDatepicker():(w.datepicker._datepickerShowing&&w.datepicker._lastInput!==e[0]&&w.datepicker._hideDatepicker(),w.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){var t,n,i,r,o,s;this._get(e,"autoSize")&&!e.inline&&(o=new Date(2009,11,20),(s=this._get(e,"dateFormat")).match(/[DM]/)&&(o.setMonth((t=function(e){for(r=i=n=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i})(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length))},_inlineDatepicker:function(e,t){var n=w(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv),w.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,r){var o,s=this._dialogInst;return s||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=w("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),w("body").append(this._dialogInput),(s=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},w.data(this._dialogInput[0],"datepicker",s)),g(s.settings,i||{}),t=t&&t.constructor===Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(o=document.documentElement.clientWidth,i=document.documentElement.clientHeight,t=document.documentElement.scrollLeft||document.body.scrollLeft,r=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+t,i/2-150+r]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),w.blockUI&&w.blockUI(this.dpDiv),w.data(this._dialogInput[0],"datepicker",s),this},_destroyDatepicker:function(e){var t,n=w(e),i=w.data(e,"datepicker");n.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),w.removeData(e,"datepicker"),"input"===t?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||n.removeClass(this.markerClassName).empty(),m===i&&(m=null))},_enableDatepicker:function(t){var e,n=w(t),i=w.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=w.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,n=w(t),i=w.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=w.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(e)for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return w.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i,r,o,s,a=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?w.extend({},w.datepicker._defaults):a?"all"===t?w.extend({},a.settings):this._get(a,t):null;i=t||{},"string"==typeof t&&((i={})[t]=n),a&&(this._curInst===a&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(a,"min"),s=this._getMinMaxDate(a,"max"),g(a.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(a.settings.minDate=this._formatDate(a,o)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(a.settings.maxDate=this._formatDate(a,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(w(e),a),this._autoSize(a),this._setDate(a,r),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){e=this._getInst(e);e&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){e=this._getInst(e);e&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){e=this._getInst(e);return e&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t,n,i=w.datepicker._getInst(e.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,w.datepicker._datepickerShowing)switch(e.keyCode){case 9:w.datepicker._hideDatepicker(),r=!1;break;case 13:return(n=w("td."+w.datepicker._dayOverClass+":not(."+w.datepicker._currentClass+")",i.dpDiv))[0]&&w.datepicker._selectDay(e.target,i.selectedMonth,i.selectedYear,n[0]),(n=w.datepicker._get(i,"onSelect"))?(t=w.datepicker._formatDate(i),n.apply(i.input?i.input[0]:null,[t,i])):w.datepicker._hideDatepicker(),!1;case 27:w.datepicker._hideDatepicker();break;case 33:w.datepicker._adjustDate(e.target,e.ctrlKey?-w.datepicker._get(i,"stepBigMonths"):-w.datepicker._get(i,"stepMonths"),"M");break;case 34:w.datepicker._adjustDate(e.target,e.ctrlKey?+w.datepicker._get(i,"stepBigMonths"):+w.datepicker._get(i,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&w.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&w.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&w.datepicker._adjustDate(e.target,o?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&w.datepicker._adjustDate(e.target,e.ctrlKey?-w.datepicker._get(i,"stepBigMonths"):-w.datepicker._get(i,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&w.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&w.datepicker._adjustDate(e.target,o?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&w.datepicker._adjustDate(e.target,e.ctrlKey?+w.datepicker._get(i,"stepBigMonths"):+w.datepicker._get(i,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&w.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?w.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,n=w.datepicker._getInst(e.target);if(w.datepicker._get(n,"constrainInput"))return n=w.datepicker._possibleChars(w.datepicker._get(n,"dateFormat")),t=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||t<" "||!n||-1<n.indexOf(t)},_doKeyUp:function(e){e=w.datepicker._getInst(e.target);if(e.input.val()!==e.lastVal)try{w.datepicker.parseDate(w.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,w.datepicker._getFormatConfig(e))&&(w.datepicker._setDateFromField(e),w.datepicker._updateAlternate(e),w.datepicker._updateDatepicker(e))}catch(e){}return!0},_showDatepicker:function(e){var t,n,i,r;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=w("input",e.parentNode)[0]),w.datepicker._isDisabledDatepicker(e)||w.datepicker._lastInput===e||(r=w.datepicker._getInst(e),w.datepicker._curInst&&w.datepicker._curInst!==r&&(w.datepicker._curInst.dpDiv.stop(!0,!0),r&&w.datepicker._datepickerShowing&&w.datepicker._hideDatepicker(w.datepicker._curInst.input[0])),!1!==(n=(n=w.datepicker._get(r,"beforeShow"))?n.apply(e,[e,r]):{})&&(g(r.settings,n),r.lastVal=null,w.datepicker._lastInput=e,w.datepicker._setDateFromField(r),w.datepicker._inDialog&&(e.value=""),w.datepicker._pos||(w.datepicker._pos=w.datepicker._findPos(e),w.datepicker._pos[1]+=e.offsetHeight),t=!1,w(e).parents().each(function(){return!(t|="fixed"===w(this).css("position"))}),n={left:w.datepicker._pos[0],top:w.datepicker._pos[1]},w.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),w.datepicker._updateDatepicker(r),n=w.datepicker._checkOffset(r,n,t),r.dpDiv.css({position:w.datepicker._inDialog&&w.blockUI?"static":t?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),r.inline||(n=w.datepicker._get(r,"showAnim"),i=w.datepicker._get(r,"duration"),r.dpDiv.css("z-index",function(e){for(var t;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(t=parseInt(e.css("zIndex"),10),!isNaN(t)&&0!==t))return t;e=e.parent()}return 0}(w(e))+1),w.datepicker._datepickerShowing=!0,w.effects&&w.effects.effect[n]?r.dpDiv.show(n,w.datepicker._get(r,"showOptions"),i):r.dpDiv[n||"show"](n?i:null),w.datepicker._shouldFocusInput(r)&&r.input.focus(),w.datepicker._curInst=r)))},_updateDatepicker:function(e){this.maxRows=4,(m=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,n=this._getNumberOfMonths(e),i=n[1],r=e.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&Z.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===w.datepicker._curInst&&w.datepicker._datepickerShowing&&w.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:w(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:w(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-o:0,t.left-=n&&t.left===e.input.offset().left?w(document).scrollLeft():0,t.top-=n&&t.top===e.input.offset().top+s?w(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>a&&i<a?Math.abs(t.left+i-a):0),t.top-=Math.min(t.top,t.top+r>l&&r<l?Math.abs(r+s):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||w.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(t=w(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,n,i=this._curInst;!i||e&&i!==w.data(e,"datepicker")||this._datepickerShowing&&(e=this._get(i,"showAnim"),n=this._get(i,"duration"),t=function(){w.datepicker._tidyDialog(i)},w.effects&&(w.effects.effect[e]||w.effects[e])?i.dpDiv.hide(e,w.datepicker._get(i,"showOptions"),n,t):i.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?n:null,t),e||t(),this._datepickerShowing=!1,(n=this._get(i,"onClose"))&&n.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),w.blockUI&&(w.unblockUI(),w("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){var t;w.datepicker._curInst&&(e=w(e.target),t=w.datepicker._getInst(e[0]),(!(e[0].id===w.datepicker._mainDivId||0!==e.parents("#"+w.datepicker._mainDivId).length||e.hasClass(w.datepicker.markerClassName)||e.closest("."+w.datepicker._triggerClass).length||!w.datepicker._datepickerShowing||w.datepicker._inDialog&&w.blockUI)||e.hasClass(w.datepicker.markerClassName)&&w.datepicker._curInst!==t)&&w.datepicker._hideDatepicker())},_adjustDate:function(e,t,n){var e=w(e),i=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(i,t+("M"===n?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i))},_gotoToday:function(e){var t,e=w(e),n=this._getInst(e[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(t=new Date,n.selectedDay=t.getDate(),n.drawMonth=n.selectedMonth=t.getMonth(),n.drawYear=n.selectedYear=t.getFullYear()),this._notifyChange(n),this._adjustDate(e)},_selectMonthYear:function(e,t,n){var e=w(e),i=this._getInst(e[0]);i["selected"+("M"===n?"Month":"Year")]=i["draw"+("M"===n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(e)},_selectDay:function(e,t,n,i){var r=w(e);w(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((r=this._getInst(r[0])).selectedDay=r.currentDay=w("a",i).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){e=w(e);this._selectDate(e,"")},_selectDate:function(e,t){var n,e=w(e),e=this._getInst(e[0]);t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e),(n=this._get(e,"onSelect"))?n.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,n,i,r=this._get(e,"altField");r&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),i=this.formatDate(t,n,this._getFormatConfig(e)),w(r).each(function(){w(this).val(i)}))},noWeekends:function(e){e=e.getDay();return[0<e&&e<6,""]},iso8601Week:function(e){var t,e=new Date(e.getTime());return e.setDate(e.getDate()+4-(e.getDay()||7)),t=e.getTime(),e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(t,r,e){if(null==t||null==r)throw"Invalid arguments";if(""===(r="object"==typeof r?r.toString():r+""))return null;function n(e){var t=y(e),t="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,e=new RegExp("^\\d{"+("y"===e?t:1)+","+t+"}");if(t=r.substring(l).match(e))return l+=t[0].length,parseInt(t[0],10);throw"Missing number at position "+l}function i(e,t,n){var i=-1,e=w.map(y(e)?n:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(w.each(e,function(e,t){var n=t[1];if(r.substr(l,n.length).toLowerCase()===n.toLowerCase())return i=t[0],l+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+l}function o(){if(r.charAt(l)!==t.charAt(x))throw"Unexpected literal at position "+l;l++}for(var s,a,l=0,u=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),c=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,d=(e?e.dayNames:null)||this._defaults.dayNames,f=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,h=(e?e.monthNames:null)||this._defaults.monthNames,p=-1,m=-1,g=-1,v=-1,b=!1,y=function(e){e=x+1<t.length&&t.charAt(x+1)===e;return e&&x++,e},x=0;x<t.length;x++)if(b)"'"!==t.charAt(x)||y("'")?o():b=!1;else switch(t.charAt(x)){case"d":g=n("d");break;case"D":i("D",c,d);break;case"o":v=n("o");break;case"m":m=n("m");break;case"M":m=i("M",f,h);break;case"y":p=n("y");break;case"@":p=(a=new Date(n("@"))).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"!":p=(a=new Date((n("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"'":y("'")?o():b=!0;break;default:o()}if(l<r.length&&(e=r.substr(l),!/^\s+/.test(e)))throw"Extra/unparsed characters found in date: "+e;if(-1===p?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=u?0:-100)),-1<v)for(m=1,g=v;;){if(g<=(s=this._getDaysInMonth(p,m-1)))break;m++,g-=s}if((a=this._daylightSavingAdjust(new Date(p,m-1,g))).getFullYear()!==p||a.getMonth()+1!==m||a.getDate()!==g)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";function i(e,t,n){var i=""+t;if(c(e))for(;i.length<n;)i="0"+i;return i}function r(e,t,n,i){return(c(e)?i:n)[t]}var o,s=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,l=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,c=function(e){e=o+1<t.length&&t.charAt(o+1)===e;return e&&o++,e},d="",f=!1;if(e)for(o=0;o<t.length;o++)if(f)"'"!==t.charAt(o)||c("'")?d+=t.charAt(o):f=!1;else switch(t.charAt(o)){case"d":d+=i("d",e.getDate(),2);break;case"D":d+=r("D",e.getDay(),s,a);break;case"o":d+=i("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=i("m",e.getMonth()+1,2);break;case"M":d+=r("M",e.getMonth(),l,u);break;case"y":d+=c("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?d+="'":f=!0;break;default:d+=t.charAt(o)}return d},_possibleChars:function(t){function e(e){return(e=r+1<t.length&&t.charAt(r+1)===e)&&r++,e}for(var n="",i=!1,r=0;r<t.length;r++)if(i)"'"!==t.charAt(r)||e("'")?n+=t.charAt(r):i=!1;else switch(t.charAt(r)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":e("'")?n+="'":i=!0;break;default:n+=t.charAt(r)}return n},_get:function(e,t){return(void 0!==e.settings[t]?e.settings:this._defaults)[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(n,i,s)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(a,e,t){var n,i=null==e||""===e?t:"string"==typeof e?function(e){try{return w.datepicker.parseDate(w.datepicker._get(a,"dateFormat"),e,w.datepicker._getFormatConfig(a))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?w.datepicker._getDate(a):null)||new Date,n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(e);s;){switch(s[2]||"d"){case"d":case"D":r+=parseInt(s[1],10);break;case"w":case"W":r+=7*parseInt(s[1],10);break;case"m":case"M":i+=parseInt(s[1],10),r=Math.min(r,w.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(s[1],10),r=Math.min(r,w.datepicker._getDaysInMonth(n,i))}s=o.exec(e)}return new Date(n,i,r)}(e):"number"==typeof e?isNaN(e)?t:(i=e,(n=new Date).setDate(n.getDate()+i),n):new Date(e.getTime());return(i=i&&"Invalid Date"===i.toString()?t:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,t=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){w.datepicker._adjustDate(n,-t,"M")},next:function(){w.datepicker._adjustDate(n,+t,"M")},hide:function(){w.datepicker._hideDatepicker()},today:function(){w.datepicker._gotoToday(n)},selectDay:function(){return w.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return w.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return w.datepicker._selectMonthYear(n,this,"Y"),!1}};w(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,M,F,L,H,s,a,j,l,u,c,d,f,h,p,m,g,v,z,b,y,x,_,W,q,w,C,k,T=new Date,U=this._daylightSavingAdjust(new Date(T.getFullYear(),T.getMonth(),T.getDate())),E=this._get(e,"isRTL"),T=this._get(e,"showButtonPanel"),S=this._get(e,"hideIfNoPrevNext"),D=this._get(e,"navigationAsDateFormat"),N=this._getNumberOfMonths(e),A=this._get(e,"showCurrentAtPos"),P=this._get(e,"stepMonths"),V=1!==N[0]||1!==N[1],$=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),R=this._getMinMaxDate(e,"min"),O=this._getMinMaxDate(e,"max"),I=e.drawMonth-A,B=e.drawYear;if(I<0&&(I+=12,B--),O)for(t=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth()-N[0]*N[1]+1,O.getDate())),t=R&&t<R?R:t;this._daylightSavingAdjust(new Date(B,I,1))>t;)--I<0&&(I=11,B--);for(e.drawMonth=I,e.drawYear=B,A=this._get(e,"prevText"),A=D?this.formatDate(A,this._daylightSavingAdjust(new Date(B,I-P,1)),this._getFormatConfig(e)):A,n=this._canAdjustMonth(e,-1,B,I)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+A+"'><span class='ui-icon ui-icon-circle-triangle-"+(E?"e":"w")+"'>"+A+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+A+"'><span class='ui-icon ui-icon-circle-triangle-"+(E?"e":"w")+"'>"+A+"</span></a>",A=this._get(e,"nextText"),A=D?this.formatDate(A,this._daylightSavingAdjust(new Date(B,I+P,1)),this._getFormatConfig(e)):A,i=this._canAdjustMonth(e,1,B,I)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+A+"'><span class='ui-icon ui-icon-circle-triangle-"+(E?"w":"e")+"'>"+A+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+A+"'><span class='ui-icon ui-icon-circle-triangle-"+(E?"w":"e")+"'>"+A+"</span></a>",P=this._get(e,"currentText"),S=this._get(e,"gotoCurrent")&&e.currentDay?$:U,P=D?this.formatDate(P,S,this._getFormatConfig(e)):P,A=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",D=T?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(E?A:"")+(this._isInRange(e,S)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+P+"</button>":"")+(E?"":A)+"</div>":"",r=parseInt(this._get(e,"firstDay"),10),r=isNaN(r)?0:r,o=this._get(e,"showWeek"),M=this._get(e,"dayNames"),F=this._get(e,"dayNamesMin"),L=this._get(e,"monthNames"),H=this._get(e,"monthNamesShort"),s=this._get(e,"beforeShowDay"),a=this._get(e,"showOtherMonths"),j=this._get(e,"selectOtherMonths"),l=this._getDefaultDate(e),u="",d=0;d<N[0];d++){for(f="",this.maxRows=4,h=0;h<N[1];h++){if(p=this._daylightSavingAdjust(new Date(B,I,e.selectedDay)),m=" ui-corner-all",g="",V){if(g+="<div class='ui-datepicker-group",1<N[1])switch(h){case 0:g+=" ui-datepicker-group-first",m=" ui-corner-"+(E?"right":"left");break;case N[1]-1:g+=" ui-datepicker-group-last",m=" ui-corner-"+(E?"left":"right");break;default:g+=" ui-datepicker-group-middle",m=""}g+="'>"}for(g+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+m+"'>"+(/all|left/.test(m)&&0===d?E?i:n:"")+(/all|right/.test(m)&&0===d?E?n:i:"")+this._generateMonthYearHeader(e,I,B,R,O,0<d||0<h,L,H)+"</div><table class='ui-datepicker-calendar'><thead><tr>",v=o?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",c=0;c<7;c++)v+="<th scope='col'"+(5<=(c+r+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+M[z=(c+r)%7]+"'>"+F[z]+"</span></th>";for(g+=v+"</tr></thead><tbody>",y=this._getDaysInMonth(B,I),B===e.selectedYear&&I===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,y)),b=(this._getFirstDayOfMonth(B,I)-r+7)%7,y=Math.ceil((b+y)/7),x=V&&this.maxRows>y?this.maxRows:y,this.maxRows=x,_=this._daylightSavingAdjust(new Date(B,I,1-b)),W=0;W<x;W++){for(g+="<tr>",q=o?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(_)+"</td>":"",c=0;c<7;c++)w=s?s.apply(e.input?e.input[0]:null,[_]):[!0,""],k=(C=_.getMonth()!==I)&&!j||!w[0]||R&&_<R||O&&O<_,q+="<td class='"+(5<=(c+r+6)%7?" ui-datepicker-week-end":"")+(C?" ui-datepicker-other-month":"")+(_.getTime()===p.getTime()&&I===e.selectedMonth&&e._keyEvent||l.getTime()===_.getTime()&&l.getTime()===p.getTime()?" "+this._dayOverClass:"")+(k?" "+this._unselectableClass+" ui-state-disabled":"")+(C&&!a?"":" "+w[1]+(_.getTime()===$.getTime()?" "+this._currentClass:"")+(_.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(C&&!a||!w[2]?"":" title='"+w[2].replace(/'/g,"&#39;")+"'")+(k?"":" data-handler='selectDay' data-event='click' data-month='"+_.getMonth()+"' data-year='"+_.getFullYear()+"'")+">"+(C&&!a?"&#xa0;":k?"<span class='ui-state-default'>"+_.getDate()+"</span>":"<a class='ui-state-default"+(_.getTime()===U.getTime()?" ui-state-highlight":"")+(_.getTime()===$.getTime()?" ui-state-active":"")+(C?" ui-priority-secondary":"")+"' href='#'>"+_.getDate()+"</a>")+"</td>",_.setDate(_.getDate()+1),_=this._daylightSavingAdjust(_);g+=q+"</tr>"}11<++I&&(I=0,B++),f+=g+="</tbody></table>"+(V?"</div>"+(0<N[0]&&h===N[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}u+=f}return u+=D,e._keyEvent=!1,u},_generateMonthYearHeader:function(e,t,n,i,r,o,s,a){var l,u,c,d,f,h,p,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(y+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+a[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(s=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),h=(f=function(e){e=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(e)?d:e})(s[0]),p=Math.max(h,f(s[1]||"")),h=i?Math.max(h,i.getFullYear()):h,p=r?Math.min(p,r.getFullYear()):p,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";h<=p;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),v&&(b+=(!o&&m&&g?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),t=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),i=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,t)));e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),e=this._getMinMaxDate(e,"max"),n=n&&t<n?n:t;return e&&e<n?e:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){e=this._get(e,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var n,i=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),o=null,s=null,e=this._get(e,"yearRange");return e&&(e=e.split(":"),n=(new Date).getFullYear(),o=parseInt(e[0],10),s=parseInt(e[1],10),e[0].match(/[+\-].*/)&&(o+=n),e[1].match(/[+\-].*/)&&(s+=n)),(!i||t.getTime()>=i.getTime())&&(!r||t.getTime()<=r.getTime())&&(!o||t.getFullYear()>=o)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:"string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),w.fn.datepicker=function(e){if(!this.length)return this;w.datepicker.initialized||(w(document).mousedown(w.datepicker._checkExternalClick),w.datepicker.initialized=!0),0===w("#"+w.datepicker._mainDivId).length&&w("body").append(w.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"==typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e)||"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?w.datepicker["_"+e+"Datepicker"].apply(w.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?w.datepicker["_"+e+"Datepicker"].apply(w.datepicker,[this].concat(t)):w.datepicker._attachDatepicker(this,e)})},w.datepicker=new G,w.datepicker.initialized=!1,w.datepicker.uuid=(new Date).getTime(),w.datepicker.version="1.11.4";w.datepicker,w.widget("ui.draggable",w.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return this._blurActiveElement(e),!(this.helper||t.disabled||0<w(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=w(this);return w("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=this.document[0];if(this.handleElement.is(e.target))try{t.activeElement&&"body"!==t.activeElement.nodeName.toLowerCase()&&w(t.activeElement).blur()}catch(e){}},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),w.ui.ddmanager&&(w.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===w(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),w.ui.ddmanager&&!t.dropBehaviour&&w.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),w.ui.ddmanager&&w.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){t=this._uiHash();if(!1===this._trigger("drag",e,t))return this._mouseUp({}),!1;this.position=t.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",w.ui.ddmanager&&w.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return w.ui.ddmanager&&!this.options.dropBehaviour&&(n=w.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||w.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?w(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),w.ui.ddmanager&&w.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),w.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!w(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=w.isFunction(t.helper),e=n?w(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&e[0]===this.element[0]&&this._setPositionRelative(),e[0]===this.element[0]||/(fixed|absolute)/.test(e.css("position"))||e.css("position","absolute"),e},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=w.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&w.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var e,t;return"relative"!==this.cssPosition?{top:0,left:0}:(e=this.element.position(),t=this._isRootNode(this.scrollParent[0]),{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())})},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t=this.options,n=this.document[0];this.relativeContainer=null,t.containment?"window"===t.containment?this.containment=[w(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,w(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,w(window).scrollLeft()+w(window).width()-this.helperProportions.width-this.margins.left,w(window).scrollTop()+(w(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:"document"===t.containment?this.containment=[0,0,w(n).width()-this.helperProportions.width-this.margins.left,(w(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:t.containment.constructor===Array?this.containment=t.containment:("parent"===t.containment&&(t.containment=this.helper[0].parentNode),(t=(n=w(t.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=null},_convertPositionTo:function(e,t){t=t||this.position;var e="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*e,left:t.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*e}},_generatePosition:function(e,t){var n,i=this.options,r=this._isRootNode(this.scrollParent[0]),o=e.pageX,s=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(n=this.relativeContainer?(t=this.relativeContainer.offset(),[this.containment[0]+t.left,this.containment[1]+t.top,this.containment[2]+t.left,this.containment[3]+t.top]):this.containment,e.pageX-this.offset.click.left<n[0]&&(o=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(s=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(o=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(s=n[3]+this.offset.click.top)),i.grid&&(t=i.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY,s=!n||t-this.offset.click.top>=n[1]||t-this.offset.click.top>n[3]?t:t-this.offset.click.top>=n[1]?t-i.grid[1]:t+i.grid[1],e=i.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX,o=!n||e-this.offset.click.left>=n[0]||e-this.offset.click.left>n[2]?e:e-this.offset.click.left>=n[0]?e-i.grid[0]:e+i.grid[0]),"y"===i.axis&&(o=this.originalPageX),"x"===i.axis&&(s=this.originalPageY)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,t,n){return n=n||this._uiHash(),w.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),w.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),w.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=w.extend({},e,{item:n.element});n.sortables=[],w(n.options.connectToSortable).each(function(){var e=w(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,i))})},stop:function(t,e,n){var i=w.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,w.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(n,i,r){w.each(r.sortables,function(){var e=!1,t=this;t.positionAbs=r.positionAbs,t.helperProportions=r.helperProportions,t.offset.click=r.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,w.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,e=this!==t&&this._intersectsWith(this.containerCache)&&w.contains(t.element[0],this.element[0])?!1:e})),e?(t.isOver||(t.isOver=1,r._parent=i.helper.parent(),t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return i.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=r.offset.click.top,t.offset.click.left=r.offset.click.left,t.offset.parent.left-=r.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=r.offset.parent.top-t.offset.parent.top,r._trigger("toSortable",n),r.dropped=t.element,w.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,t.fromOutside=r),t.currentItem&&(t._mouseDrag(n),i.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(n),i.position=r._generatePosition(n,!0),r._trigger("fromSortable",n),r.dropped=!1,w.each(r.sortables,function(){this.refreshPositions()}))})}}),w.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=w("body"),n=n.options;i.css("cursor")&&(n._cursor=i.css("cursor")),i.css("cursor",n.cursor)},stop:function(e,t,n){n=n.options;n._cursor&&w("body").css("cursor",n._cursor)}}),w.ui.plugin.add("draggable","opacity",{start:function(e,t,n){t=w(t.helper),n=n.options;t.css("opacity")&&(n._opacity=t.css("opacity")),t.css("opacity",n.opacity)},stop:function(e,t,n){n=n.options;n._opacity&&w(t.helper).css("opacity",n._opacity)}}),w.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],s=n.document[0];o!==s&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-w(s).scrollTop()<i.scrollSensitivity?r=w(s).scrollTop(w(s).scrollTop()-i.scrollSpeed):w(window).height()-(e.pageY-w(s).scrollTop())<i.scrollSensitivity&&(r=w(s).scrollTop(w(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-w(s).scrollLeft()<i.scrollSensitivity?r=w(s).scrollLeft(w(s).scrollLeft()-i.scrollSpeed):w(window).width()-(e.pageX-w(s).scrollLeft())<i.scrollSensitivity&&(r=w(s).scrollLeft(w(s).scrollLeft()+i.scrollSpeed)))),!1!==r&&w.ui.ddmanager&&!i.dropBehaviour&&w.ui.ddmanager.prepareOffsets(n,e)}}),w.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[],w(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=w(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){for(var i,r,o,s,a,l,u,c,d,f=n.options,h=f.snapTolerance,p=t.offset.left,m=p+n.helperProportions.width,g=t.offset.top,v=g+n.helperProportions.height,b=n.snapElements.length-1;0<=b;b--)l=(a=n.snapElements[b].left-n.margins.left)+n.snapElements[b].width,c=(u=n.snapElements[b].top-n.margins.top)+n.snapElements[b].height,m<a-h||l+h<p||v<u-h||c+h<g||!w.contains(n.snapElements[b].item.ownerDocument,n.snapElements[b].item)?(n.snapElements[b].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,w.extend(n._uiHash(),{snapItem:n.snapElements[b].item})),n.snapElements[b].snapping=!1):("inner"!==f.snapMode&&(i=Math.abs(u-v)<=h,r=Math.abs(c-g)<=h,o=Math.abs(a-m)<=h,s=Math.abs(l-p)<=h,i&&(t.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left),s&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),d=i||r||o||s,"outer"!==f.snapMode&&(i=Math.abs(u-g)<=h,r=Math.abs(c-v)<=h,o=Math.abs(a-p)<=h,s=Math.abs(l-m)<=h,i&&(t.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:a}).left),s&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[b].snapping&&(i||r||o||s||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,w.extend(n._uiHash(),{snapItem:n.snapElements[b].item})),n.snapElements[b].snapping=i||r||o||s||d)}}),w.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,n=n.options,n=w.makeArray(w(n.stack)).sort(function(e,t){return(parseInt(w(e).css("zIndex"),10)||0)-(parseInt(w(t).css("zIndex"),10)||0)});n.length&&(i=parseInt(w(n[0]).css("zIndex"),10)||0,w(n).each(function(e){w(this).css("zIndex",i+e)}),this.css("zIndex",i+n.length))}}),w.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){t=w(t.helper),n=n.options;t.css("zIndex")&&(n._zIndex=t.css("zIndex")),t.css("zIndex",n.zIndex)},stop:function(e,t,n){n=n.options;n._zIndex&&w(t.helper).css("zIndex",n._zIndex)}}),w.ui.draggable,w.widget("ui.resizable",w.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,t){var n;return"hidden"!==w(e).css("overflow")&&(n=!1,0<e[t=t&&"left"===t?"scrollLeft":"scrollTop"]||(e[t]=1,n=0<e[t],e[t]=0,n))},_create:function(){var e,t,n,i,r=this,o=this.options;if(this.element.addClass("ui-resizable"),w.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(w("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(w(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=w(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)n=w.trim(e[t]),(i=w("<div class='ui-resizable-handle "+("ui-resizable-"+n)+"'></div>")).css({zIndex:o.zIndex}),"se"===n&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(i);this._renderAxis=function(e){var t,n,i;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=w(this.handles[t]),this._on(this.handles[t],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=w(this.handles[t],this.element),i=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(n,i),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=i&&i[1]?i[1]:"se")}),o.autoHide&&(this._handles.hide(),w(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(w(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(w(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();function e(e){w(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}var t;return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var t,n,i=!1;for(t in this.handles)(n=w(this.handles[t])[0])!==e.target&&!w.contains(n,e.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),t=this._num(this.helper.css("top")),i.containment&&(n+=w(i.containment).scrollLeft()||0,t+=w(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:t},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:t},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=w(".ui-resizable-"+this.axis).css("cursor"),w("body").css("cursor","auto"===n?this.axis+"-resize":n),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t=this.originalMousePosition,n=this.axis,i=e.pageX-t.left||0,t=e.pageY-t.top||0,n=this._change[n];return this._updatePrevProperties(),n&&(n=n.apply(this,[e,i,t]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),w.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,n,i,r=this.options,o=this;return this._helper&&(n=(t=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:o.sizeDiff.height,t=t?0:o.sizeDiff.width,t={width:o.helper.width()-t,height:o.helper.height()-n},n=parseInt(o.element.css("left"),10)+(o.position.left-o.originalPosition.left)||null,i=parseInt(o.element.css("top"),10)+(o.position.top-o.originalPosition.top)||null,r.animate||this.element.css(w.extend(t,{top:i,left:n})),o.helper.height(o.size.height),o.helper.width(o.size.width),this._helper&&!r.animate&&this._proportionallyResize()),w("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r=this.options,r={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0};(this._aspectRatio||e)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,t=r.maxHeight*this.aspectRatio,i=r.maxWidth/this.aspectRatio,r.minWidth<e&&(r.minWidth=e),r.minHeight<n&&(r.minHeight=n),t<r.maxWidth&&(r.maxWidth=t),i<r.maxHeight&&(r.maxHeight=i)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),n=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&u&&(e.left=a-t.minWidth),i&&u&&(e.left=a-t.maxWidth),s&&n&&(e.top=l-t.minHeight),r&&n&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(r[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||w("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return w.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return w.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return w.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return w.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){w.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),w.ui.plugin.add("resizable","animate",{stop:function(t){var n=w(this).resizable("instance"),e=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,r=r?0:n.sizeDiff.width,r={width:n.size.width-r,height:n.size.height-o},o=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,s=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(w.extend(r,s&&o?{top:s,left:o}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&w(i[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),w.ui.plugin.add("resizable","containment",{start:function(){var n,i,e,t,r=w(this).resizable("instance"),o=r.options,s=r.element,o=o.containment,s=o instanceof w?o.get(0):/parent/.test(o)?s.parent().get(0):o;s&&(r.containerElement=w(s),/document/.test(o)||o===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:w(document),left:0,top:0,width:w(document).width(),height:w(document).height()||document.body.parentNode.scrollHeight}):(n=w(s),i=[],w(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=r._num(n.css("padding"+t))}),r.containerOffset=n.offset(),r.containerPosition=n.position(),r.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},o=r.containerOffset,t=r.containerSize.height,e=r.containerSize.width,e=r._hasScroll(s,"left")?s.scrollWidth:e,t=r._hasScroll(s)?s.scrollHeight:t,r.parentData={element:s,left:o.left,top:o.top,width:e,height:t}))},resize:function(e){var t=w(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.position,e=t._aspectRatio||e.shiftKey,o={top:0,left:0},s=t.containerElement,a=!0;s[0]!==document&&/static/.test(s.css("position"))&&(o=i),r.left<(t._helper?i.left:0)&&(t.size.width=t.size.width+(t._helper?t.position.left-i.left:t.position.left-o.left),e&&(t.size.height=t.size.width/t.aspectRatio,a=!1),t.position.left=n.helper?i.left:0),r.top<(t._helper?i.top:0)&&(t.size.height=t.size.height+(t._helper?t.position.top-i.top:t.position.top),e&&(t.size.width=t.size.height*t.aspectRatio,a=!1),t.position.top=t._helper?i.top:0),s=t.containerElement.get(0)===t.element.parent().get(0),n=/relative|absolute/.test(t.containerElement.css("position")),s&&n?(t.offset.left=t.parentData.left+t.position.left,t.offset.top=t.parentData.top+t.position.top):(t.offset.left=t.element.offset().left,t.offset.top=t.element.offset().top),r=Math.abs(t.sizeDiff.width+(t._helper?t.offset.left-o.left:t.offset.left-i.left)),s=Math.abs(t.sizeDiff.height+(t._helper?t.offset.top-o.top:t.offset.top-i.top)),r+t.size.width>=t.parentData.width&&(t.size.width=t.parentData.width-r,e&&(t.size.height=t.size.width/t.aspectRatio,a=!1)),s+t.size.height>=t.parentData.height&&(t.size.height=t.parentData.height-s,e&&(t.size.width=t.size.height*t.aspectRatio,a=!1)),a||(t.position.left=t.prevPosition.left,t.position.top=t.prevPosition.top,t.size.width=t.prevSize.width,t.size.height=t.prevSize.height)},stop:function(){var e=w(this).resizable("instance"),t=e.options,n=e.containerOffset,i=e.containerPosition,r=e.containerElement,o=w(e.helper),s=o.offset(),a=o.outerWidth()-e.sizeDiff.width,o=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(r.css("position"))&&w(this).css({left:s.left-i.left-n.left,width:a,height:o}),e._helper&&!t.animate&&/static/.test(r.css("position"))&&w(this).css({left:s.left-i.left-n.left,width:a,height:o})}}),w.ui.plugin.add("resizable","alsoResize",{start:function(){var e=w(this).resizable("instance").options;w(e.alsoResize).each(function(){var e=w(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,n){var t=w(this).resizable("instance"),i=t.options,r=t.originalSize,o=t.originalPosition,s={height:t.size.height-r.height||0,width:t.size.width-r.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};w(i.alsoResize).each(function(){var e=w(this),i=w(this).data("ui-resizable-alsoresize"),r={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];w.each(t,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&0<=n&&(r[t]=n||null)}),e.css(r)})},stop:function(){w(this).removeData("resizable-alsoresize")}}),w.ui.plugin.add("resizable","ghost",{start:function(){var e=w(this).resizable("instance"),t=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof t.ghost?t.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=w(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=w(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),w.ui.plugin.add("resizable","grid",{resize:function(){var e,t=w(this).resizable("instance"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,u=a[1]||1,c=Math.round((i.width-r.width)/l)*l,i=Math.round((i.height-r.height)/u)*u,d=r.width+c,f=r.height+i,h=n.maxWidth&&n.maxWidth<d,p=n.maxHeight&&n.maxHeight<f,m=n.minWidth&&n.minWidth>d,g=n.minHeight&&n.minHeight>f;n.grid=a,m&&(d+=l),g&&(f+=u),h&&(d-=l),p&&(f-=u),/^(se|s|e)$/.test(s)?(t.size.width=d,t.size.height=f):/^(ne)$/.test(s)?(t.size.width=d,t.size.height=f,t.position.top=o.top-i):/^(sw)$/.test(s)?(t.size.width=d,t.size.height=f,t.position.left=o.left-c):((f-u<=0||d-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<f-u?(t.size.height=f,t.position.top=o.top-i):(f=u-e.height,t.size.height=f,t.position.top=o.top+r.height-f),0<d-l?(t.size.width=d,t.position.left=o.left-c):(d=l-e.width,t.size.width=d,t.position.left=o.left+r.width-d))}}),w.ui.resizable,w.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=w(this).css(e).offset().top;t<0&&w(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&w.fn.draggable&&this._makeDraggable(),this.options.resizable&&w.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?w(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:w.noop,enable:w.noop,close:function(e){var t,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(t=this.document[0].activeElement)&&"body"!==t.nodeName.toLowerCase()&&w(t).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+w(this).css("z-index")}).get(),i=Math.max.apply(null,i);return i>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",i+1),n=!0),n&&!t&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=w(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;(e=(e=(e=(e=(e=e||this.element.find("[autofocus]")).length?e:this.element.find(":tabbable")).length?e:this.uiDialogButtonPane.find(":tabbable")).length?e:this.uiDialogTitlebarClose.filter(":tabbable")).length?e:this.uiDialog).eq(0).focus()},_keepFocus:function(e){function t(){var e=this.document[0].activeElement;this.uiDialog[0]===e||w.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=w("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){var t,n,i;this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===w.ui.keyCode.ESCAPE?(e.preventDefault(),this.close(e)):e.keyCode!==w.ui.keyCode.TAB||e.isDefaultPrevented()||(t=this.uiDialog.find(":tabbable"),n=t.filter(":first"),i=t.filter(":last"),e.target!==i[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){i.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault()))},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=w("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){w(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=w("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=w("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=w("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=w("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var i=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),w.isEmptyObject(e)||w.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(w.each(e,function(e,t){var n;t=w.isFunction(t)?{click:t,text:e}:t,t=w.extend({type:"button"},t),n=t.click,t.click=function(){n.apply(i.element[0],arguments)},e={icons:t.icons,text:t.showText},delete t.icons,delete t.showText,w("<button></button>",t).button(e).appendTo(i.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var r=this,o=this.options;function s(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){w(this).addClass("ui-dialog-dragging"),r._blockFrames(),r._trigger("dragStart",e,s(t))},drag:function(e,t){r._trigger("drag",e,s(t))},stop:function(e,t){var n=t.offset.left-r.document.scrollLeft(),i=t.offset.top-r.document.scrollTop();o.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:r.window},w(this).removeClass("ui-dialog-dragging"),r._unblockFrames(),r._trigger("dragStop",e,s(t))}})},_makeResizable:function(){var r=this,o=this.options,e=o.resizable,t=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:e,start:function(e,t){w(this).addClass("ui-dialog-resizing"),r._blockFrames(),r._trigger("resizeStart",e,s(t))},resize:function(e,t){r._trigger("resize",e,s(t))},stop:function(e,t){var n=r.uiDialog.offset(),i=n.left-r.document.scrollLeft(),n=n.top-r.document.scrollTop();o.height=r.uiDialog.height(),o.width=r.uiDialog.width(),o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=n?"+":"")+n,of:r.window},w(this).removeClass("ui-dialog-resizing"),r._unblockFrames(),r._trigger("resizeStop",e,s(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=w(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=w.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||this.document.data("ui-dialog-instances",e=[]),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};w.each(e,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i=this.uiDialog;"dialogClass"===e&&i.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((n=i.is(":data(ui-draggable)"))&&!t&&i.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=i.is(":data(ui-resizable)"))&&!t&&i.resizable("destroy"),n&&"string"==typeof t&&i.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=w(this);return w("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!w(e.target).closest(".ui-dialog").length||!!w(e.target).closest(".ui-datepicker").length},_createOverlay:function(){var t;this.options.modal&&(t=!0,this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=w("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var e;this.options.modal&&this.overlay&&((e=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null)}});function ee(e,t,n){return t<=e&&e<t+n}w.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=w.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return e=e||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){w.ui.ddmanager.droppables[e]=w.ui.ddmanager.droppables[e]||[],w.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=w.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){var n;"accept"===e?this.accept=w.isFunction(t)?t:function(e){return e.is(t)}:"scope"===e&&(n=w.ui.ddmanager.droppables[this.options.scope],this._splice(n),this._addToManager(t)),this._super(e,t)},_activate:function(e){var t=w.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=w.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=w.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=w.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var n=e||w.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=w(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&w.ui.intersect(n,w.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),w.ui.intersect=function(e,t,n,i){if(!t.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,s=r+e.helperProportions.width,a=o+e.helperProportions.height,l=t.offset.left,u=t.offset.top,c=l+t.proportions().width,d=u+t.proportions().height;switch(n){case"fit":return l<=r&&s<=c&&u<=o&&a<=d;case"intersect":return l<r+e.helperProportions.width/2&&s-e.helperProportions.width/2<c&&u<o+e.helperProportions.height/2&&a-e.helperProportions.height/2<d;case"pointer":return ee(i.pageY,u,t.proportions().height)&&ee(i.pageX,l,t.proportions().width);case"touch":return(u<=o&&o<=d||u<=a&&a<=d||o<u&&d<a)&&(l<=r&&r<=c||l<=s&&s<=c||r<l&&c<s);default:return!1}},w.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,r=w.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(i=0;i<s.length;i++)if(s[i]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],t),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,t){var n=!1;return w.each((w.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&w.ui.intersect(e,this,this.options.tolerance,t)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||w.ui.ddmanager.prepareOffsets(e,t)})},drag:function(r,o){r.options.refreshPositions&&w.ui.ddmanager.prepareOffsets(r,o),w.each(w.ui.ddmanager.droppables[r.options.scope]||[],function(){var e,t,n,i;this.options.disabled||this.greedyChild||!this.visible||(i=!(i=w.ui.intersect(r,this,this.options.tolerance,o))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return w(this).droppable("instance").options.scope===t})).length&&((e=w(n[0]).droppable("instance")).greedyChild="isover"===i)),e&&"isover"===i&&(e.isover=!1,e.isout=!0,e._out.call(e,o)),this[i]=!0,this["isout"===i?"isover":"isout"]=!1,this["isover"===i?"_over":"_out"].call(this,o),e&&"isout"===i&&(e.isout=!1,e.isover=!0,e._over.call(e,o)))})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||w.ui.ddmanager.prepareOffsets(e,t)}};w.ui.droppable;var v,b,y,te,ne,x,_,E,S,D,ie,re,oe,se,ae,le,ue,ce,N,de="ui-effects-",fe=w;function A(e,t,n){var i=E[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:e<0?0:i.max<e?i.max:e)}function he(i){var r=x(),o=r._rgba=[];return i=i.toLowerCase(),D(ne,function(e,t){var n=t.re.exec(i),n=n&&t.parse(n),t=t.space||"rgba";if(n)return n=r[t](n),r[_[t].cache]=n[_[t].cache],o=r._rgba=n._rgba,!1}),o.length?("0,0,0,0"===o.join()&&v.extend(o,y.transparent),r):y[i]}function P(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function pe(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[t=i[n]]&&(r[w.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(r[t]=i[t]);return r}function R(e,t,n,i){return e={effect:e=w.isPlainObject(e)?(t=e).effect:e},w.isFunction(t=null==t?{}:t)&&(i=t,n=null,t={}),"number"!=typeof t&&!w.fx.speeds[t]||(i=n,n=t,t={}),w.isFunction(n)&&(i=n,n=null),t&&w.extend(e,t),n=n||t.duration,e.duration=w.fx.off?0:"number"==typeof n?n:n in w.fx.speeds?w.fx.speeds[n]:w.fx.speeds._default,e.complete=i||t.complete,e}function O(e){return!e||"number"==typeof e||w.fx.speeds[e]||("string"==typeof e&&!w.effects.effect[e]||(w.isFunction(e)||"object"==typeof e&&!e.effect))}w.effects={effect:{}},te=/^([\-+])=\s*(\d+\.?\d*)/,ne=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],x=(v=fe).Color=function(e,t,n,i){return new v.Color.fn.parse(e,t,n,i)},_={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},E={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},S=x.support={},d=v("<p>")[0],D=v.each,d.style.cssText="background-color:rgba(1,1,1,.5)",S.rgba=-1<d.style.backgroundColor.indexOf("rgba"),D(_,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),(x.fn=v.extend(x.prototype,{parse:function(r,e,t,n){if(r===b)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=v(r).css(e),e=b);var o=this,i=v.type(r),s=this._rgba=[];return e!==b&&(r=[r,e,t,n],i="array"),"string"===i?this.parse(he(r)||y._default):"array"===i?(D(_.rgba.props,function(e,t){s[t.idx]=A(r[t.idx],t)}),this):"object"===i?(r instanceof x?D(_,function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}):D(_,function(e,n){var i=n.cache;D(n.props,function(e,t){if(!o[i]&&n.to){if("alpha"===e||null==r[e])return;o[i]=n.to(o._rgba)}o[i][t.idx]=A(r[e],t,!0)}),o[i]&&v.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(e){var r=x(e),o=!0,s=this;return D(_,function(e,t){var n,i=r[t.cache];return i&&(n=s[t.cache]||t.to&&t.to(s._rgba)||[],D(t.props,function(e,t){if(null!=i[t.idx])return o=i[t.idx]===n[t.idx]})),o}),o},_space:function(){var n=[],i=this;return D(_,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,s){var e=(u=x(e))._space(),t=_[e],n=0===this.alpha()?x("transparent"):this,a=n[t.cache]||t.to(n._rgba),l=a.slice(),u=u[t.cache];return D(t.props,function(e,t){var n=t.idx,i=a[n],r=u[n],o=E[t.type]||{};null!==r&&(null===i?l[n]=r:(o.mod&&(r-i>o.mod/2?i+=o.mod:i-r>o.mod/2&&(i-=o.mod)),l[n]=A((r-i)*s+i,t)))}),this[e](l)},blend:function(e){var t,n,i;return 1===this._rgba[3]?this:(t=this._rgba.slice(),n=t.pop(),i=x(e)._rgba,x(v.map(t,function(e,t){return(1-n)*i[t]+n*e})))},toRgbaString:function(){var e="rgba(",t=v.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=v.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),e=t&&t<3?Math.round(100*e)+"%":e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+v.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=x.fn,_.hsla.to=function(e){var t,n,i,r,o,s,a,l;return null==e[0]||null==e[1]||null==e[2]?[null,null,null,e[3]]:(t=e[0]/255,n=e[1]/255,i=e[2]/255,e=e[3],r=(l=Math.max(t,n,i))-(a=Math.min(t,n,i)),s=.5*(o=l+a),a=a===l?0:t===l?60*(n-i)/r+360:n===l?60*(i-t)/r+120:60*(t-n)/r+240,l=0==r?0:s<=.5?r/o:r/(2-o),[Math.round(a)%360,l,s,null==e?1:e])},_.hsla.from=function(e){var t,n,i;return null==e[0]||null==e[1]||null==e[2]?[null,null,null,e[3]]:(t=e[0]/360,i=e[1],n=e[2],e=e[3],i=2*n-(n=n<=.5?n*(1+i):n+i-n*i),[Math.round(255*P(i,n,t+1/3)),Math.round(255*P(i,n,t)),Math.round(255*P(i,n,t-1/3)),e])},D(_,function(a,e){var o=e.props,s=e.cache,l=e.to,u=e.from;x.fn[a]=function(e){var t,n,i,r;return l&&!this[s]&&(this[s]=l(this._rgba)),e===b?this[s].slice():(n=v.type(e),i="array"===n||"object"===n?e:arguments,r=this[s].slice(),D(o,function(e,t){e=i["object"===n?e:t.idx];null==e&&(e=r[t.idx]),r[t.idx]=A(e,t)}),u?((t=x(u(r)))[s]=r,t):x(r))},D(o,function(o,s){x.fn[o]||(x.fn[o]=function(e){var t=v.type(e),n="alpha"===o?this._hsla?"hsla":"rgba":a,i=this[n](),r=i[s.idx];return"undefined"===t?r:("function"===t&&(e=e.call(this,r),t=v.type(e)),null==e&&s.empty?this:("string"===t&&(t=te.exec(e))&&(e=r+parseFloat(t[2])*("+"===t[1]?1:-1)),i[s.idx]=e,this[n](i)))})})}),(x.hook=function(e){e=e.split(" ");D(e,function(e,o){v.cssHooks[o]={set:function(e,t){var n,i,r="";if("transparent"!==t&&("string"!==v.type(t)||(n=he(t)))){if(t=x(n||t),!S.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&i&&i.style;)try{r=v.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},v.fx.step[o]=function(e){e.colorInit||(e.start=x(e.elem,o),e.end=x(e.end),e.colorInit=!0),v.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),v.cssHooks.borderColor={expand:function(n){var i={};return D(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},y=v.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},se=["add","remove","toggle"],ae={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},w.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){w.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(fe.style(e.elem,t,e.end),e.setAttr=!0)}}),w.fn.addBack||(w.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),w.effects.animateClass=function(r,e,t,n){var o=w.speed(e,t,n);return this.queue(function(){var n=w(this),e=n.attr("class")||"",t=(t=o.children?n.find("*").addBack():n).map(function(){return{el:w(this),start:pe(this)}}),i=function(){w.each(se,function(e,t){r[t]&&n[t+"Class"](r[t])})};i(),t=t.map(function(){return this.end=pe(this.el[0]),this.diff=function(e,t){var n,i,r={};for(n in t)i=t[n],e[n]===i||ae[n]||!w.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i);return r}(this.start,this.end),this}),n.attr("class",e),t=t.map(function(){var e=this,t=w.Deferred(),n=w.extend({},o,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),w.when.apply(w,t.get()).done(function(){i(),w.each(arguments,function(){var t=this.el;w.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(n[0])})})},w.fn.extend({addClass:(oe=w.fn.addClass,function(e,t,n,i){return t?w.effects.animateClass.call(this,{add:e},t,n,i):oe.apply(this,arguments)}),removeClass:(re=w.fn.removeClass,function(e,t,n,i){return 1<arguments.length?w.effects.animateClass.call(this,{remove:e},t,n,i):re.apply(this,arguments)}),toggleClass:(ie=w.fn.toggleClass,function(e,t,n,i,r){return"boolean"==typeof t||void 0===t?n?w.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,r):ie.apply(this,arguments):w.effects.animateClass.call(this,{toggle:e},t,n,i)}),switchClass:function(e,t,n,i,r){return w.effects.animateClass.call(this,{add:t,remove:e},n,i,r)}}),w.extend(w.effects,{version:"1.11.4",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(de+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0;i<t.length;i++)null!==t[i]&&(void 0===(n=e.data(de+t[i]))&&(n=""),e.css(t[i],n))},setMode:function(e,t){return t="toggle"===t?e.is(":hidden")?"show":"hide":t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=w("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return n.wrap(e),n[0]!==r&&!w.contains(n[0],r)||w(r).focus(),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(w.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),w.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t),e.css(i).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),e[0]!==t&&!w.contains(e[0],t)||w(t).focus()),e},setTransition:function(i,e,r,o){return o=o||{},w.each(e,function(e,t){var n=i.cssUnit(t);0<n[0]&&(o[t]=n[0]*r+n[1])}),o}}),w.fn.extend({effect:function(){var o=R.apply(this,arguments),e=o.mode,t=o.queue,s=w.effects.effect[o.effect];return w.fx.off||!s?e?this[e](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):!1===t?this.each(n):this.queue(t||"fx",n);function n(e){var t=w(this),n=o.complete,i=o.mode;function r(){w.isFunction(n)&&n.call(t[0]),w.isFunction(e)&&e()}(t.is(":hidden")?"hide"===i:"show"===i)?(t[i](),r()):s.call(t[0],o,r)}},show:(ce=w.fn.show,function(e){var t;return O(e)?ce.apply(this,arguments):((t=R.apply(this,arguments)).mode="show",this.effect.call(this,t))}),hide:(ue=w.fn.hide,function(e){var t;return O(e)?ue.apply(this,arguments):((t=R.apply(this,arguments)).mode="hide",this.effect.call(this,t))}),toggle:(le=w.fn.toggle,function(e){var t;return O(e)||"boolean"==typeof e?le.apply(this,arguments):((t=R.apply(this,arguments)).mode="toggle",this.effect.call(this,t))}),cssUnit:function(e){var n=this.css(e),i=[];return w.each(["em","px","%","pt"],function(e,t){0<n.indexOf(t)&&(i=[parseFloat(n),t])}),i}}),N={},w.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){N[e]=function(e){return Math.pow(e,t+2)}}),w.extend(N,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),w.each(N,function(e,t){w.easing["easeIn"+e]=t,w.easing["easeOut"+e]=function(e){return 1-t(1-e)},w.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}});w.effects,w.effects.effect.blind=function(e,t){var n,i,r,o=w(this),s=["position","top","bottom","left","right","height","width"],a=w.effects.setMode(o,e.mode||"hide"),l=e.direction||"up",u=/up|down|vertical/.test(l),c=u?"height":"width",d=u?"top":"left",l=/up|left|vertical|horizontal/.test(l),f={},h="show"===a;o.parent().is(".ui-effects-wrapper")?w.effects.save(o.parent(),s):w.effects.save(o,s),o.show(),i=(n=w.effects.createWrapper(o).css({overflow:"hidden"}))[c](),r=parseFloat(n.css(d))||0,f[c]=h?i:0,l||(o.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),f[d]=h?r:i+r),h&&(n.css(c,0),l||n.css(d,r+i)),n.animate(f,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===a&&o.hide(),w.effects.restore(o,s),w.effects.removeWrapper(o),t()}})},w.effects.effect.bounce=function(e,t){var n,i,r,o=w(this),s=["position","top","bottom","left","right","height","width"],a=w.effects.setMode(o,e.mode||"effect"),l="hide"===a,a="show"===a,u=e.direction||"up",c=e.distance,d=e.times||5,f=2*d+(a||l?1:0),h=e.duration/f,p=e.easing,m="up"===u||"down"===u?"top":"left",g="up"===u||"left"===u,e=o.queue(),u=e.length;for((a||l)&&s.push("opacity"),w.effects.save(o,s),o.show(),w.effects.createWrapper(o),c=c||o["top"==m?"outerHeight":"outerWidth"]()/3,a&&((r={opacity:1})[m]=0,o.css("opacity",0).css(m,g?2*-c:2*c).animate(r,h,p)),l&&(c/=Math.pow(2,d-1)),n=(r={})[m]=0;n<d;n++)(i={})[m]=(g?"-=":"+=")+c,o.animate(i,h,p).animate(r,h,p),c=l?2*c:c/2;l&&((i={opacity:0})[m]=(g?"-=":"+=")+c,o.animate(i,h,p)),o.queue(function(){l&&o.hide(),w.effects.restore(o,s),w.effects.removeWrapper(o),t()}),1<u&&e.splice.apply(e,[1,0].concat(e.splice(u,1+f))),o.dequeue()},w.effects.effect.clip=function(e,t){var n,i,r=w(this),o=["position","top","bottom","left","right","height","width"],s="show"===w.effects.setMode(r,e.mode||"hide"),a="vertical"===(e.direction||"vertical"),l=a?"height":"width",a=a?"top":"left",u={};w.effects.save(r,o),r.show(),n=w.effects.createWrapper(r).css({overflow:"hidden"}),i=(n="IMG"===r[0].tagName?n:r)[l](),s&&(n.css(l,0),n.css(a,i/2)),u[l]=s?i:0,u[a]=s?0:i/2,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){s||r.hide(),w.effects.restore(r,o),w.effects.removeWrapper(r),t()}})},w.effects.effect.drop=function(e,t){var n,i=w(this),r=["position","top","bottom","left","right","opacity","height","width"],o=w.effects.setMode(i,e.mode||"hide"),s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",a="up"===a||"left"===a?"pos":"neg",u={opacity:s?1:0};w.effects.save(i,r),i.show(),w.effects.createWrapper(i),n=e.distance||i["top"==l?"outerHeight":"outerWidth"](!0)/2,s&&i.css("opacity",0).css(l,"pos"==a?-n:n),u[l]=(s?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+n,i.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),w.effects.restore(i,r),w.effects.removeWrapper(i),t()}})},w.effects.effect.explode=function(e,t){var n,i,r,o,s,a,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=l,c=w(this),d="show"===w.effects.setMode(c,e.mode||"hide"),f=c.show().css("visibility","hidden").offset(),h=Math.ceil(c.outerWidth()/u),p=Math.ceil(c.outerHeight()/l),m=[];function g(){m.push(this),m.length===l*u&&(c.css({visibility:"visible"}),w(m).remove(),d||c.hide(),t())}for(n=0;n<l;n++)for(o=f.top+n*p,a=n-(l-1)/2,i=0;i<u;i++)r=f.left+i*h,s=i-(u-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*h,top:-n*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:p,left:r+(d?s*h:0),top:o+(d?a*p:0),opacity:d?0:1}).animate({left:r+(d?0:s*h),top:o+(d?0:a*p),opacity:d?1:0},e.duration||500,e.easing,g)},w.effects.effect.fade=function(e,t){var n=w(this),i=w.effects.setMode(n,e.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:e.duration,easing:e.easing,complete:t})},w.effects.effect.fold=function(e,t){var n,i=w(this),r=["position","top","bottom","left","right","height","width"],o=w.effects.setMode(i,e.mode||"hide"),s="show"===o,a="hide"===o,o=e.size||15,l=/([0-9]+)%/.exec(o),u=!!e.horizFirst,c=s!=u,d=c?["width","height"]:["height","width"],f=e.duration/2,h={},p={};w.effects.save(i,r),i.show(),n=w.effects.createWrapper(i).css({overflow:"hidden"}),c=c?[n.width(),n.height()]:[n.height(),n.width()],l&&(o=parseInt(l[1],10)/100*c[a?0:1]),s&&n.css(u?{height:0,width:o}:{height:o,width:0}),h[d[0]]=s?c[0]:o,p[d[1]]=s?c[1]:0,n.animate(h,f,e.easing).animate(p,f,e.easing,function(){a&&i.hide(),w.effects.restore(i,r),w.effects.removeWrapper(i),t()})},w.effects.effect.highlight=function(e,t){var n=w(this),i=["backgroundImage","backgroundColor","opacity"],r=w.effects.setMode(n,e.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===r&&(o.opacity=0),w.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),w.effects.restore(n,i),t()}})},w.effects.effect.size=function(o,e){var t,s,a=w(this),n=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],i=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=w.effects.setMode(a,o.mode||"effect"),d=o.restore||"effect"!==r,f=o.scale||"both",h=o.origin||["middle","center"],p=a.css("position"),m=d?n:["position","top","bottom","left","right","overflow","opacity"],g={height:0,width:0,outerHeight:0,outerWidth:0};"show"===r&&a.show(),t={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===o.mode&&"show"===r?(a.from=o.to||g,a.to=o.from||t):(a.from=o.from||("show"===r?g:t),a.to=o.to||("hide"===r?g:t)),s={from:{y:a.from.height/t.height,x:a.from.width/t.width},to:{y:a.to.height/t.height,x:a.to.width/t.width}},"box"!==f&&"both"!==f||(s.from.y!==s.to.y&&(m=m.concat(u),a.from=w.effects.setTransition(a,u,s.from.y,a.from),a.to=w.effects.setTransition(a,u,s.to.y,a.to)),s.from.x!==s.to.x&&(m=m.concat(c),a.from=w.effects.setTransition(a,c,s.from.x,a.from),a.to=w.effects.setTransition(a,c,s.to.x,a.to))),"content"!==f&&"both"!==f||s.from.y!==s.to.y&&(m=m.concat(i).concat(l),a.from=w.effects.setTransition(a,i,s.from.y,a.from),a.to=w.effects.setTransition(a,i,s.to.y,a.to)),w.effects.save(a,m),a.show(),w.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),h&&(g=w.effects.getBaseline(h,t),a.from.top=(t.outerHeight-a.outerHeight())*g.y,a.from.left=(t.outerWidth-a.outerWidth())*g.x,a.to.top=(t.outerHeight-a.to.outerHeight)*g.y,a.to.left=(t.outerWidth-a.to.outerWidth)*g.x),a.css(a.from),"content"!==f&&"both"!==f||(u=u.concat(["marginTop","marginBottom"]).concat(i),c=c.concat(["marginLeft","marginRight"]),l=n.concat(u).concat(c),a.find("*[width]").each(function(){var e=w(this),t=e.height(),n=e.width(),i=e.outerHeight(),r=e.outerWidth();d&&w.effects.save(e,l),e.from={height:t*s.from.y,width:n*s.from.x,outerHeight:i*s.from.y,outerWidth:r*s.from.x},e.to={height:t*s.to.y,width:n*s.to.x,outerHeight:t*s.to.y,outerWidth:n*s.to.x},s.from.y!==s.to.y&&(e.from=w.effects.setTransition(e,u,s.from.y,e.from),e.to=w.effects.setTransition(e,u,s.to.y,e.to)),s.from.x!==s.to.x&&(e.from=w.effects.setTransition(e,c,s.from.x,e.from),e.to=w.effects.setTransition(e,c,s.to.x,e.to)),e.css(e.from),e.animate(e.to,o.duration,o.easing,function(){d&&w.effects.restore(e,l)})})),a.animate(a.to,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===r&&a.hide(),w.effects.restore(a,m),d||("static"===p?a.css({position:"relative",top:a.to.top,left:a.to.left}):w.each(["top","left"],function(r,e){a.css(e,function(e,t){var n=parseInt(t,10),i=r?a.to.left:a.to.top;return"auto"===t?i+"px":n+i+"px"})})),w.effects.removeWrapper(a),e()}})},w.effects.effect.scale=function(e,t){var n=w(this),i=w.extend(!0,{},e),r=w.effects.setMode(n,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"hide"===r?0:100),s=e.direction||"both",a=e.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u="horizontal"!==s?o/100:1,s="vertical"!==s?o/100:1;i.effect="size",i.queue=!1,i.complete=t,"effect"!==r&&(i.origin=a||["middle","center"],i.restore=!0),i.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*u,width:l.width*s,outerHeight:l.outerHeight*u,outerWidth:l.outerWidth*s},i.fade&&("show"===r&&(i.from.opacity=0,i.to.opacity=1),"hide"===r&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},w.effects.effect.puff=function(e,t){var n=w(this),i=w.effects.setMode(n,e.mode||"hide"),r="hide"===i,o=parseInt(e.percent,10)||150,s=o/100,a={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};w.extend(e,{effect:"scale",queue:!1,fade:!0,mode:i,complete:t,percent:r?o:100,from:r?a:{height:a.height*s,width:a.width*s,outerHeight:a.outerHeight*s,outerWidth:a.outerWidth*s}}),n.effect(e)},w.effects.effect.pulsate=function(e,t){var n,i=w(this),r=w.effects.setMode(i,e.mode||"show"),o="show"===r,s="hide"===r,a=2*(e.times||5)+(o||"hide"===r?1:0),l=e.duration/a,u=0,r=i.queue(),c=r.length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),u=1),n=1;n<a;n++)i.animate({opacity:u},l,e.easing),u=1-u;i.animate({opacity:u},l,e.easing),i.queue(function(){s&&i.hide(),t()}),1<c&&r.splice.apply(r,[1,0].concat(r.splice(c,1+a))),i.dequeue()},w.effects.effect.shake=function(e,t){var n,i=w(this),r=["position","top","bottom","left","right","height","width"],o=w.effects.setMode(i,e.mode||"effect"),s=e.direction||"left",a=e.distance||20,l=e.times||3,u=2*l+1,c=Math.round(e.duration/u),d="up"===s||"down"===s?"top":"left",s="up"===s||"left"===s,f={},h={},p={},m=i.queue(),g=m.length;for(w.effects.save(i,r),i.show(),w.effects.createWrapper(i),f[d]=(s?"-=":"+=")+a,h[d]=(s?"+=":"-=")+2*a,p[d]=(s?"-=":"+=")+2*a,i.animate(f,c,e.easing),n=1;n<l;n++)i.animate(h,c,e.easing).animate(p,c,e.easing);i.animate(h,c,e.easing).animate(f,c/2,e.easing).queue(function(){"hide"===o&&i.hide(),w.effects.restore(i,r),w.effects.removeWrapper(i),t()}),1<g&&m.splice.apply(m,[1,0].concat(m.splice(g,1+u))),i.dequeue()},w.effects.effect.slide=function(e,t){var n,i=w(this),r=["position","top","bottom","left","right","width","height"],o=w.effects.setMode(i,e.mode||"show"),s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",a="up"===a||"left"===a,u={};w.effects.save(i,r),i.show(),n=e.distance||i["top"==l?"outerHeight":"outerWidth"](!0),w.effects.createWrapper(i).css({overflow:"hidden"}),s&&i.css(l,a?isNaN(n)?"-"+n:-n:n),u[l]=(s?a?"+=":"-=":a?"-=":"+=")+n,i.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),w.effects.restore(i,r),w.effects.removeWrapper(i),t()}})},w.effects.effect.transfer=function(e,t){var n=w(this),i=w(e.to),r="fixed"===i.css("position"),o=w("body"),s=r?o.scrollTop():0,o=r?o.scrollLeft():0,a=i.offset(),a={top:a.top-s,left:a.left-o,height:i.innerHeight(),width:i.innerWidth()},i=n.offset(),l=w("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:i.top-s,left:i.left-o,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(a,e.duration,e.easing,function(){l.remove(),t()})},w.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=w("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=w("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),w.widget("ui.selectable",w.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,t=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=w(t.options.filter,t.element[0])).addClass("ui-selectee"),e.each(function(){var e=w(this),t=e.offset();w.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=w("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this,e=this.options;this.opos=[n.pageX,n.pageY],this.options.disabled||(this.selectees=w(e.filter,this.element[0]),this._trigger("start",n),w(e.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=w.data(this,"selectable-item");e.startselected=!0,n.metaKey||n.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))}),w(n.target).parents().addBack().each(function(){var e,t=w.data(this,"selectable-item");if(t)return e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected"),t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}))},_mouseDrag:function(n){var e,i,r,o,s,a,l;if(this.dragged=!0,!this.options.disabled)return r=(i=this).options,o=this.opos[0],s=this.opos[1],a=n.pageX,l=n.pageY,a<o&&(e=a,a=o,o=e),l<s&&(e=l,l=s,s=e),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var e=w.data(this,"selectable-item"),t=!1;e&&e.element!==i.element[0]&&("touch"===r.tolerance?t=!(e.left>a||e.right<o||e.top>l||e.bottom<s):"fit"===r.tolerance&&(t=e.left>o&&e.right<a&&e.top>s&&e.bottom<l),t?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,i._trigger("selecting",n,{selecting:e.element}))):(e.selecting&&((n.metaKey||n.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),i._trigger("unselecting",n,{unselecting:e.element}))),!e.selected||n.metaKey||n.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))))}),!1},_mouseStop:function(t){var n=this;return this.dragged=!1,w(".ui-unselecting",this.element[0]).each(function(){var e=w.data(this,"selectable-item");e.$element.removeClass("ui-unselecting"),e.unselecting=!1,e.startselected=!1,n._trigger("unselected",t,{unselected:e.element})}),w(".ui-selecting",this.element[0]).each(function(){var e=w.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,n._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),w.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=w("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=w("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),w("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=w("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var n=this;this.menu=w("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=w("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,t){e.preventDefault(),n._setSelection(),n._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){t=t.item.data("ui-selectmenu-item");null!=n.focusIndex&&t.index!==n.focusIndex&&(n._trigger("focus",e,{item:t}),n.isOpen||n._select(t,e)),n.focusIndex=t.index,n.button.attr("aria-activedescendant",n.menuItems.eq(t.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(w.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(n,e){var i=this,r="";w.each(e,function(e,t){t.optgroup!==r&&(w("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:t.optgroup}).appendTo(n),r=t.optgroup),i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var n=w("<li>");return t.disabled&&n.addClass("ui-state-disabled"),this._setText(n,t.label),n.appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),i+=":not(.ui-state-disabled)"),(n="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](i).eq(-1):n[e+"All"](i).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){!this.isOpen||w(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e)}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case w.ui.keyCode.TAB:case w.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case w.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case w.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case w.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case w.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case w.ui.keyCode.LEFT:this._move("prev",e);break;case w.ui.keyCode.RIGHT:this._move("next",e);break;case w.ui.keyCode.HOME:case w.ui.keyCode.PAGE_UP:this._move("first",e);break;case w.ui.keyCode.END:case w.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){e=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e=(e=(e=e&&(e.jquery||e.nodeType?w(e):this.document.find(e).eq(0)))&&e[0]?e:this.element.closest(".ui-front")).length?e:this.document[0].body},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,t){var t=w(t),n=t.parent("optgroup");i.push({element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),w.widget("ui.slider",w.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),i=[],r=t.values&&t.values.length||1;for(n.length>r&&(n.slice(r).remove(),n=n.slice(0,r)),e=n.length;e<r;e++)i.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=n.add(w(i.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){w(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,t="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:w.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=w("<div></div>").appendTo(this.element),t="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(t+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,t,s,a=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(n-a.values(e));(t<i||i===t&&(e===a._lastChangedValue||a.values(e)===l.min))&&(i=t,r=w(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,r.addClass("ui-state-active").focus(),t=r.offset(),s=!w(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-t.left-r.width()/2,top:e.pageY-t.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},t=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,e="horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=e/t;return(e=1<e?1:e)<0&&(e=0),"vertical"===this.orientation&&(e=1-e),t=this._valueMax()-this._valueMin(),e=this._valueMin()+e*t,this._trimAlignValue(e)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r;this.options.values&&this.options.values.length?(i=this.values(t?0:1),(n=2===this.options.values.length&&!0===this.options.range&&(0===t&&i<n||1===t&&n<i)?i:n)!==this.values(t)&&((i=this.values())[t]=n,r=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),this.values(t?0:1),!1!==r&&this.values(t,n))):n!==this.value()&&!1!==(r=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){var n;this._keySliding||this._mouseSliding||(n={handle:this.handles[t],value:this.value()},this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n))},value:function(e){if(!arguments.length)return this._value();this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0)},values:function(e,t){var n,i,r;if(1<arguments.length)this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),this._change(null,e);else{if(!arguments.length)return this._values();if(!w.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,i=e,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()}},_setOption:function(e,t){var n,i=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),w.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t),this._super(e,t),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){var t,n;return e<=this._valueMin()?this._valueMin():e>=this._valueMax()?this._valueMax():(t=0<this.options.step?this.options.step:1,n=e-(e=(e-this._valueMin())%t),2*Math.abs(e)>=t&&(n+=0<e?t:-t),parseFloat(n.toFixed(5)))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,e=Math.floor(+(e-t).toFixed(this._precision())/n)*n+t;this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return e=null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var e=e.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,e,i,r,o=this.options.range,s=this.options,a=this,l=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(e){n=(a.values(e)-a._valueMin())/(a._valueMax()-a._valueMin())*100,u["horizontal"===a.orientation?"left":"bottom"]=n+"%",w(this).stop(1,1)[l?"animate":"css"](u,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===e&&a.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===e&&a.range[l?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===e&&a.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===e&&a.range[l?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(e=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(e-i)/(r-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](u,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(e){var t,n,i,r=w(e.target).data("ui-slider-handle-index");switch(e.keyCode){case w.ui.keyCode.HOME:case w.ui.keyCode.END:case w.ui.keyCode.PAGE_UP:case w.ui.keyCode.PAGE_DOWN:case w.ui.keyCode.UP:case w.ui.keyCode.RIGHT:case w.ui.keyCode.DOWN:case w.ui.keyCode.LEFT:if(e.preventDefault(),this._keySliding||(this._keySliding=!0,w(e.target).addClass("ui-state-active"),!1!==this._start(e,r)))break;return}switch(i=this.options.step,t=n=this.options.values&&this.options.values.length?this.values(r):this.value(),e.keyCode){case w.ui.keyCode.HOME:n=this._valueMin();break;case w.ui.keyCode.END:n=this._valueMax();break;case w.ui.keyCode.PAGE_UP:n=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case w.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case w.ui.keyCode.UP:case w.ui.keyCode.RIGHT:if(t===this._valueMax())return;n=this._trimAlignValue(t+i);break;case w.ui.keyCode.DOWN:case w.ui.keyCode.LEFT:if(t===this._valueMin())return;n=this._trimAlignValue(t-i)}this._slide(e,r,n)},keyup:function(e){var t=w(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),w(e.target).removeClass("ui-state-active"))}}}),w.widget("ui.sortable",w.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return t<=e&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),w.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),w(e.target).parents().each(function(){if(w.data(this,r.widgetName+"-item")===r)return n=w(this),!1}),!!(n=w.data(e.target,r.widgetName+"-item")===r?w(e.target):n)&&(!(this.options.handle&&!t&&(w(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},w.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=w("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return w.ui.ddmanager&&(w.ui.ddmanager.current=this),w.ui.ddmanager&&!o.dropBehaviour&&w.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n,i,r,o=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&w.ui.ddmanager&&!o.dropBehaviour&&w.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(i=(n=this.items[t]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||w.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&w.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),w.ui.ddmanager&&w.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){var n,i,r,o;if(e)return w.ui.ddmanager&&!this.options.dropBehaviour&&w.ui.ddmanager.drop(this,e),this.options.revert?(i=(n=this).placeholder.offset(),o={},(r=this.options.axis)&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,w(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})):this._clear(e,t),!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),w.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?w(this.domPosition.prev).after(this.currentItem):w(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},w(e).each(function(){var e=(w(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(w(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||a<i+u&&i+u<l,c="y"===this.options.axis||o<t+c&&t+c<s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u&&c:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),e="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),t=t&&e,e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return!!t&&(this.floating?n&&"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),e=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&e||"left"===i&&!e:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,r,o=[],s=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(n=(i=w(a[t],this.document[0])).length-1;0<=n;n--)(r=w.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push([w.isFunction(r.options.items)?r.options.items.call(r.element):w(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function l(){o.push(this)}for(s.push([w.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):w(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=s.length-1;0<=t;t--)s[t][0].each(l);return w(o)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=w.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,i,r,o,s,a,l,u=this.items,c=[[w.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):w(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(t=d.length-1;0<=t;t--)for(n=(i=w(d[t],this.document[0])).length-1;0<=n;n--)(r=w.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(c.push([w.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):w(r.options.items,r.element),r]),this.containers.push(r));for(t=c.length-1;0<=t;t--)for(o=c[t][1],l=(s=c[t][n=0]).length;n<l;n++)(a=w(s[n])).data(this.widgetName+"-item",o),u.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(n=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?w(this.options.toleranceElement,n.item):n.item,e||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=w("<"+e+">",n.document[0]).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===e?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),w("<tr>",n.document[0]).appendTo(t)):"tr"===e?n._createTrPlaceholder(n.currentItem,t):"img"===e&&t.attr("src",n.currentItem.attr("src")),i||t.css("visibility","hidden"),t},update:function(e,t){i&&!r.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=w(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(e,t){var n=this;e.children().each(function(){w("<td>&#160;</td>",n.document[0]).attr("colspan",w(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){for(var t,n,i,r,o,s,a,l,u,c=null,d=null,f=this.containers.length-1;0<=f;f--)w.contains(this.currentItem[0],this.containers[f].element[0])||(this._intersectsWith(this.containers[f].containerCache)?c&&w.contains(this.containers[f].element[0],c.element[0])||(c=this.containers[f],d=f):this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",e,this._uiHash(this)),this.containers[f].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(n=1e4,i=null,r=(l=c.floating||this._isFloating(this.currentItem))?"left":"top",o=l?"width":"height",u=l?"clientX":"clientY",t=this.items.length-1;0<=t;t--)w.contains(this.containers[d].element[0],this.items[t].item[0])&&this.items[t].item[0]!==this.currentItem[0]&&(s=this.items[t].item.offset()[r],a=!1,e[u]-s>this.items[t][o]/2&&(a=!0),Math.abs(e[u]-s)<n&&(n=Math.abs(e[u]-s),i=this.items[t],this.direction=a?"up":"down"));(i||this.options.dropOnEmpty)&&(this.currentContainer===this.containers[d]?this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1):(i?this._rearrange(e,i,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1))}},_createHelper:function(e){var t=this.options,e=w.isFunction(t.helper)?w(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return e.parents("body").length||w("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]),e[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),e[0].style.width&&!t.forceHelperSize||e.width(this.currentItem.width()),e[0].style.height&&!t.forceHelperSize||e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),"left"in(e=w.isArray(e)?{left:+e[0],top:+e[1]||0}:e)&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&w.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),{top:(e=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&w.ui.ie?{top:0,left:0}:e).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var e;return"relative"===this.cssPosition?{top:(e=this.currentItem.position()).top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}:{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=w(n.containment)[0],n=w(n.containment).offset(),t="hidden"!==w(e).css("overflow"),this.containment=[n.left+(parseInt(w(e).css("borderLeftWidth"),10)||0)+(parseInt(w(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(w(e).css("borderTopWidth"),10)||0)+(parseInt(w(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(t?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(w(e).css("borderLeftWidth"),10)||0)-(parseInt(w(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(t?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(w(e).css("borderTopWidth"),10)||0)-(parseInt(w(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t=t||this.position;var e="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&w.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*e+this.offset.parent.top*e-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop())*e,left:t.left+this.offset.relative.left*e+this.offset.parent.left*e-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())*e}},_generatePosition:function(e){var t=this.options,n=e.pageX,i=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&w.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(i=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(i=this.containment[3]+this.offset.click.top)),t.grid&&(e=this.originalPageY+Math.round((i-this.originalPageY)/t.grid[1])*t.grid[1],i=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-t.grid[1]:e+t.grid[1],e=this.originalPageX+Math.round((n-this.originalPageX)/t.grid[0])*t.grid[0],n=!this.containment||e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-t.grid[0]:e+t.grid[0])),{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function r(t,n,i){return function(e){i._trigger(t,e,n._uiHash(n))}}for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this===this.currentContainer||t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))),n=this.containers.length-1;0<=n;n--)t||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===w.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||w([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}});function I(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}var B;w.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},r=this.element;return w.each(["min","max","step"],function(e,t){var n=r.attr(t);void 0!==n&&n.length&&(i[t]=n)}),i},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var t;function n(){this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=t,this._delay(function(){this.previous=t}))}t=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,w(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(w(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,w(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&0<e.height()&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(e){var t=this.options,n=w.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,t.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?w.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return e=null!==this.options.min?Math.max(e,this._precisionOf(this.options.min)):e},_precisionOf:function(e){var e=e.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_adjustValue:function(e){var t=this.options,n=null!==t.min?t.min:0,i=e-n;return e=n+Math.round(i/t.step)*t.step,e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n;"culture"===e||"numberFormat"===e?(n=this._parse(this.element.val()),this.options[e]=t,this.element.val(this._format(n))):("max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")))},_setOptions:I(function(e){this._super(e)}),_parse:function(e){return""===(e="string"==typeof e&&""!==e?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e:e)||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:I(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:I(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:I(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:I(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());I(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),w.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(B=/#.*$/,function(e){var t=(e=e.cloneNode(!1)).href.replace(B,""),n=location.href.replace(B,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return 1<e.hash.length&&t===n}),_create:function(){var t=this,e=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",e.collapsible),this._processTabs(),e.active=this._initialActive(),w.isArray(e.disabled)&&(e.disabled=w.unique(e.disabled.concat(w.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=w(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var n=this.options.active,e=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(e,t){if(w(t).attr("aria-controls")===i)return n=e,!1}),null!==(n=null===n?this.tabs.index(this.tabs.filter(".ui-tabs-active")):n)&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!e&&0),n=!e&&!1===n&&this.anchors.length?0:n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):w()}},_tabKeydown:function(e){var t=w(this.document[0].activeElement).closest("li"),n=this.tabs.index(t),i=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case w.ui.keyCode.RIGHT:case w.ui.keyCode.DOWN:n++;break;case w.ui.keyCode.UP:case w.ui.keyCode.LEFT:i=!1,n--;break;case w.ui.keyCode.END:n=this.anchors.length-1;break;case w.ui.keyCode.HOME:n=0;break;case w.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case w.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===w.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===w.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===w.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){var n=this.tabs.length-1;for(;-1!==w.inArray(e=(e=n<e?0:e)<0?n:e,this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"===e?this._activate(t):"disabled"===e?this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=w.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!w.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=w()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=w()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,n=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){w(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){w(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return w("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=w(),this.anchors.each(function(e,t){var n,i,r,o=w(t).uniqueId().attr("id"),s=w(t).closest("li"),a=s.attr("aria-controls");l._isLocal(t)?(r=(n=t.hash).substring(1),i=l.element.find(l._sanitizeSelector(n))):(r=s.attr("aria-controls")||w({}).uniqueId()[0].id,(i=l.element.find(n="#"+r)).length||(i=l._createPanel(r)).insertAfter(l.panels[e-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":r,"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return w("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){w.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var t,n=0;t=this.tabs[n];n++)!0===e||-1!==w.inArray(n,e)?w(t).addClass("ui-state-disabled").attr("aria-disabled","true"):w(t).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&w.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,t=this.element.parent();"fill"===e?(n=t.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=w(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=w(this).outerHeight(!0)}),this.panels.each(function(){w(this).height(Math.max(0,n-w(this).innerHeight()+w(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,w(this).height("").height())}).height(n))},_eventHandler:function(e){var t=this.options,n=this.active,i=w(e.currentTarget).closest("li"),r=i[0]===n[0],o=r&&t.collapsible,s=o?w():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):w(),n={oldTab:n,oldPanel:a,newTab:o?w():i,newPanel:s};e.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!t.collapsible||!1===this._trigger("beforeActivate",e,n)||(t.active=!o&&this.tabs.index(i),this.active=r?w():i,this.xhr&&this.xhr.abort(),a.length||s.length||w.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),e),this._toggle(e,n))},_toggle:function(e,t){var n=this,i=t.newPanel,r=t.oldPanel;function o(){n.running=!1,n._trigger("activate",e,t)}function s(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,o):(i.show(),o())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),s()),r.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&r.length?t.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===w(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var e=this._findActive(e);e[0]!==this.active[0]&&(e=(e=e.length?e:this.active).find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:w.noop}))},_findActive:function(e){return!1===e?w():this.tabs.eq(e)},_getIndex:function(e){return e="string"==typeof e?this.anchors.index(this.anchors.filter("[href$='"+e+"']")):e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){w.data(this,"ui-tabs-destroy")?w(this).remove():w(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=w(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var e=this.options.disabled;!1!==e&&(e=void 0!==n&&(n=this._getIndex(n),w.isArray(e)?w.map(e,function(e){return e!==n?e:null}):w.map(this.tabs,function(e,t){return t!==n?t:null})),this._setupDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==w.inArray(e,t))return;t=w.isArray(t)?w.merge([e],t).sort():[e]}this._setupDisabled(t)}},load:function(e,i){e=this._getIndex(e);function r(e,t){"abort"===t&&o.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),s.removeAttr("aria-busy"),e===o.xhr&&delete o.xhr}var o=this,n=this.tabs.eq(e),e=n.find(".ui-tabs-anchor"),s=this._getPanelForTab(n),a={tab:n,panel:s};this._isLocal(e[0])||(this.xhr=w.ajax(this._ajaxSettings(e,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){s.html(e),o._trigger("load",i,a),r(n,t)},1)}).fail(function(e,t){setTimeout(function(){r(e,t)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,t){return r._trigger("beforeLoad",n,w.extend({jqXHR:e,ajaxSettings:t},i))}}},_getPanelForTab:function(e){e=w(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),w.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=w(this).attr("title")||"";return w("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",w.trim(n.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),t=w.inArray(t,n);-1!==t&&n.splice(t,1),e.removeData("ui-tooltip-id"),(n=w.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=w("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,t){var n=this;"disabled"===e?(this[t?"_disable":"_enable"](),this.options[e]=t):(this._super(e,t),"content"===e&&w.each(this.tooltips,function(e,t){n._updateContent(t.element)}))},_disable:function(){var i=this;w.each(this.tooltips,function(e,t){var n=w.Event("blur");n.target=n.currentTarget=t.element[0],i.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=w(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=w(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,t=w(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=w(this);t.data("ui-tooltip-open")&&((e=w.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,n){var e=this.options.content,i=this,r=n?n.type:null;if("string"==typeof e)return this._open(n,t,e);(e=e.call(t[0],function(e){i._delay(function(){t.data("ui-tooltip-open")&&(n&&(n.type=r),this._open(n,t,e))})}))&&this._open(n,t,e)},_open:function(e,t,n){var i,r,o,s,a=w.extend({},this.options.position);function l(e){a.of=e,r.is(":hidden")||r.position(a)}n&&((i=this._find(t))?i.tooltip.find(".ui-tooltip-content").html(n):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),i=this._tooltip(t),r=i.tooltip,this._addDescribedBy(t,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(s=n.clone()).removeAttr("id").find("[id]").removeAttr("id"):s=n,w("<div>").html(s).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):r.position(w.extend({of:t},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){r.is(":visible")&&(l(a.of),clearInterval(o))},w.fx.interval)),this._trigger("open",e,{tooltip:r})))},_registerCloseHandlers:function(e,t){var n={keyup:function(e){e.keyCode===w.ui.keyCode.ESCAPE&&((e=w.Event(e)).currentTarget=t[0],this.close(e,!0))}};t[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(t).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,t,n)},close:function(e){var t,n=this,i=w(e?e.currentTarget:this.element),r=this._find(i);r?(t=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){n._removeTooltip(w(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&w.each(this.parents,function(e,t){w(t.element).attr("title",t.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:t}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(e){var t=w("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=t.uniqueId().attr("id");return w("<div>").addClass("ui-tooltip-content").appendTo(t),t.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:t}},_find:function(e){e=e.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var i=this;w.each(this.tooltips,function(e,t){var n=w.Event("blur"),t=t.element;n.target=n.currentTarget=t[0],i.close(n,!0),w("#"+e).remove(),t.data("ui-tooltip-title")&&(t.attr("title")||t.attr("title",t.data("ui-tooltip-title")),t.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),!function(e){var t,n,i,r;function o(e,t){var n,i;1<e.originalEvent.touches.length||(e.preventDefault(),n=e.originalEvent.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i))}e.support.touch="ontouchend"in document,e.support.touch&&(t=e.ui.mouse.prototype,n=t._mouseInit,i=t._mouseDestroy,t._touchStart=function(e){!r&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(r=!0,this._touchMoved=!1,o(e,"mouseover"),o(e,"mousemove"),o(e,"mousedown"))},t._touchMove=function(e){r&&(this._touchMoved=!0,o(e,"mousemove"))},t._touchEnd=function(e){r&&(o(e,"mouseup"),o(e,"mouseout"),this._touchMoved||o(e,"click"),r=!1)},t._mouseInit=function(){this.element.bind({touchstart:e.proxy(this,"_touchStart"),touchmove:e.proxy(this,"_touchMove"),touchend:e.proxy(this,"_touchEnd")}),n.call(this)},t._mouseDestroy=function(){this.element.unbind({touchstart:e.proxy(this,"_touchStart"),touchmove:e.proxy(this,"_touchMove"),touchend:e.proxy(this,"_touchEnd")}),i.call(this)})}(jQuery);var e,t=["scroll","wheel","touchstart","touchmove","touchenter","touchend","touchleave","mouseout","mouseleave","mouseup","mousedown","mousemove","mouseenter","mousewheel","mouseover"],o,e;!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}()||(o=EventTarget.prototype.addEventListener,e=o,EventTarget.prototype.addEventListener=function(n,i,r){var o,s="object"==typeof r&&null!==r,a=s?r.capture:r;(r=s?(s=r,(o=Object.getOwnPropertyDescriptor(s,"passive"))&&!0!==o.writable&&void 0===o.set?Object.assign({},s):s):{}).passive=void 0!==(o=r.passive)?o:-1!==t.indexOf(n)&&!0,r.capture=void 0!==a&&a,e.call(this,n,i,r)},EventTarget.prototype.addEventListener._original=e),!function(e){"use strict";var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,a=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),l=a&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),u=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(a||u)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,n,i,r,o,s=e.match(c);if(!s)throw new Error("invalid data URI");for(t=s[2]?s[1]:"text/plain"+(s[3]||";charset=US-ASCII"),o=!!s[4],e=e.slice(s[0].length),n=(o?atob:decodeURIComponent)(e),s=new ArrayBuffer(n.length),i=new Uint8Array(s),r=0;r<n.length;r+=1)i[r]=n.charCodeAt(r);return a?new Blob([l?i:s],{type:t}):((o=new u).append(s),o.getBlob(t))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){n&&r.toDataURL&&o?e(o(i.toDataURL(t,n))):e(i.mozGetAsFile("blob",t))})}:r.toDataURL&&o&&(r.msToBlob?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){(t&&"image/png"!==t||n)&&r.toDataURL&&o?e(o(i.toDataURL(t,n))):e(i.msToBlob(t))})}:r.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(o(i.toDataURL(t,n)))})})),"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof module&&module.exports?module.exports=o:e.dataURLtoBlob=o}(window),!function(l){"use strict";var t=l.URL||l.webkitURL;function u(e){return!!t&&t.createObjectURL(e)}function n(e){return!!t&&t.revokeObjectURL(e)}function c(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||n(e)}function d(e,t,n,i){var r;return!!l.FileReader&&((r=new FileReader).onload=function(){t.call(r,this.result)},n&&(r.onabort=r.onerror=function(){n.call(r,this.error)}),(i=r[i||"readAsDataURL"])?(i.call(r,e),r):void 0)}function f(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function h(s,e,a){function t(n,i){var r,o=document.createElement("img");function t(e,t){n!==i?e instanceof Error?i(e):((t=t||{}).image=e,n(t)):n&&n(e,t)}function e(e,t){t&&l.console&&console.log(t),e&&f("Blob",e)?r=u(s=e):(r=s,a&&a.crossOrigin&&(o.crossOrigin=a.crossOrigin)),o.src=r}return o.onerror=function(e){c(r,a),i&&i.call(o,e)},o.onload=function(){c(r,a);var e={originalWidth:o.naturalWidth||o.width,originalHeight:o.naturalHeight||o.height};try{h.transform(o,a,t,s,e)}catch(e){i&&i(e)}},"string"==typeof s?(h.requiresMetaData(a)?h.fetchBlob(s,e,a):e(),o):f("Blob",s)||f("File",s)?(r=u(s))?(o.src=r,o):d(s,function(e){o.src=e},i):void 0}return l.Promise&&"function"!=typeof e?(a=e,new Promise(t)):t(e,e)}h.requiresMetaData=function(e){return e&&e.meta},h.fetchBlob=function(e,t){t()},h.transform=function(e,t,n,i,r){n(e,r)},h.global=l,h.readFile=d,h.isInstanceOf=f,h.createObjectURL=u,h.revokeObjectURL=n,"function"==typeof define&&define.amd?define(function(){return h}):"object"==typeof module&&module.exports?module.exports=h:l.loadImage=h}("undefined"!=typeof window&&window||this),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}(function(_){"use strict";var o=_.transform;_.createCanvas=function(e,t,n){return n&&_.global.OffscreenCanvas?new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t,n)},_.transform=function(e,t,n,i,r){o.call(_,_.scale(e,t,r),t,n,i,r)},_.transformCoordinates=function(){},_.getTransformedOptions=function(e,t){var n,i,r,o=t.aspectRatio;if(!o)return t;for(i in n={},t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.crop=!0,o<(r=e.naturalWidth||e.width)/(e=e.naturalHeight||e.height)?(n.maxWidth=e*o,n.maxHeight=e):(n.maxWidth=r,n.maxHeight=r/o),n},_.drawImage=function(e,t,n,i,r,o,s,a,l){return t=t.getContext("2d"),!1===l.imageSmoothingEnabled?(t.msImageSmoothingEnabled=!1,t.imageSmoothingEnabled=!1):l.imageSmoothingQuality&&(t.imageSmoothingQuality=l.imageSmoothingQuality),t.drawImage(e,n,i,r,o,0,0,s,a),t},_.requiresCanvas=function(e){return e.canvas||e.crop||!!e.aspectRatio},_.scale=function(e,t,n){t=t||{},n=n||{};var i,r,o,s,a,l,u,c,d,f,h,p=e.getContext||_.requiresCanvas(t)&&!!_.global.HTMLCanvasElement,m=e.naturalWidth||e.width,g=e.naturalHeight||e.height,v=m,b=g;function y(){var e=Math.max((o||v)/v,(s||b)/b);1<e&&(v*=e,b*=e)}function x(){var e=Math.min((i||v)/v,(r||b)/b);e<1&&(v*=e,b*=e)}if(p&&(u=(t=_.getTransformedOptions(e,t,n)).left||0,c=t.top||0,t.sourceWidth?(a=t.sourceWidth,void 0!==t.right&&void 0===t.left&&(u=m-a-t.right)):a=m-u-(t.right||0),t.sourceHeight?(l=t.sourceHeight,void 0!==t.bottom&&void 0===t.top&&(c=g-l-t.bottom)):l=g-c-(t.bottom||0),v=a,b=l),i=t.maxWidth,r=t.maxHeight,o=t.minWidth,s=t.minHeight,p&&i&&r&&t.crop?(f=a/l-(v=i)/(b=r))<0?(l=r*a/i,void 0===t.top&&void 0===t.bottom&&(c=(g-l)/2)):0<f&&(a=i*l/r,void 0===t.left&&void 0===t.right&&(u=(m-a)/2)):((t.contain||t.cover)&&(o=i=i||o,s=r=r||s),(t.cover?(x(),y):(y(),x))()),p){if(1<(p=t.pixelRatio)&&(!e.style.width||Math.floor(parseFloat(e.style.width,10))!==Math.floor(m/p))&&(v*=p,b*=p),_.orientationCropBug&&!e.getContext&&(u||c||a!==m||l!==g)&&(f=e,e=_.createCanvas(m,g,!0),_.drawImage(f,e,0,0,m,g,m,g,t)),0<(d=t.downsamplingRatio)&&d<1&&v<a&&b<l)for(;v<a*d;)h=_.createCanvas(a*d,l*d,!0),_.drawImage(e,h,u,c,a,l,h.width,h.height,t),c=u=0,a=h.width,l=h.height,e=h;return h=_.createCanvas(v,b),_.transformCoordinates(h,t,n),1<p&&(h.style.width=h.width/p+"px"),_.drawImage(e,h,u,c,a,l,v,b,t).setTransform(1,0,0,1,0,0),h}return e.width=v,e.height=b,e}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}(function(s){"use strict";var a=s.global,l=s.transform,i=a.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),p=a.ArrayBuffer&&ArrayBuffer.prototype.slice||function(e,t){return t=t||this.byteLength-e,e=new Uint8Array(this,e,t),(t=new Uint8Array(t)).set(e),t.buffer},m={jpeg:{65505:[],65517:[]}};function u(t,e,d,f){var h=this;function n(u,c){if(!(a.DataView&&i&&t&&12<=t.size&&"image/jpeg"===t.type))return u(f);var e=d.maxMetaDataSize||262144;s.readFile(i.call(t,0,e),function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return c(new Error("Invalid JPEG file: Missing JPEG marker."));for(var n,i,r,o,s=2,a=t.byteLength-4,l=s;s<a&&(65504<=(n=t.getUint16(s))&&n<=65519||65534===n);){if(s+(i=t.getUint16(s+2)+2)>t.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((r=m.jpeg[n])&&!d.disableMetaDataParsers)for(o=0;o<r.length;o+=1)r[o].call(h,t,s,i,f,d);l=s+=i}!d.disableImageHead&&6<l&&(f.imageHead=p.call(e,0,l)),u(f)},c,"readAsArrayBuffer")||u(f)}return d=d||{},a.Promise&&"function"!=typeof e?(f=d=e||{},new Promise(n)):(f=f||{},n(e,e))}function r(e,t,n){return e&&t&&n?new Blob([n,i.call(e,t.byteLength)],{type:"image/jpeg"}):null}s.transform=function(t,n,i,r,o){s.requiresMetaData(n)?u(r,function(e){e!==o&&(a.console&&console.log(e),e=o),l.call(s,t,n,i,r,e)},n,o=o||{}):l.apply(s,arguments)},s.blobSlice=i,s.bufferSlice=p,s.replaceHead=function(t,n,i){var e={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!i&&a.Promise)return u(t,e).then(function(e){return r(t,e.imageHead,n)});u(t,function(e){i(r(t,e.imageHead,n))},e)},s.parseMetaData=u,s.metaDataParsers=m}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}(function(e){"use strict";var o=e.global;o.fetch&&o.Request&&o.Response&&o.Response.prototype.blob?e.fetchBlob=function(e,t,n){function i(e){return e.blob()}if(o.Promise&&"function"!=typeof t)return fetch(new Request(e,t)).then(i);fetch(new Request(e,n)).then(i).then(t).catch(function(e){t(null,e)})}:o.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(e.fetchBlob=function(e,t,r){function n(t,n){r=r||{};var i=new XMLHttpRequest;i.open(r.method||"GET",e),r.headers&&Object.keys(r.headers).forEach(function(e){i.setRequestHeader(e,r.headers[e])}),i.withCredentials="include"===r.credentials,i.responseType="blob",i.onload=function(){t(i.response)},i.onerror=i.onabort=i.ontimeout=function(e){t===n?n(null,e):n(e)},i.send(r.body)}return o.Promise&&"function"!=typeof t?(r=t,new Promise(n)):n(t,t)})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):e(window.loadImage)}(function(c){"use strict";var t,n,o=c.transform,i=c.requiresCanvas,r=c.requiresMetaData,l=c.transformCoordinates,d=c.getTransformedOptions;function s(e,t){return!0===(e=e&&e.orientation)&&!c.orientation||1===e&&c.orientation||(!t||c.orientation)&&1<e&&e<9}function f(e,t){return e!==t&&(1===e&&1<t&&t<9||1<e&&e<9)}function h(e,t){if(1<t&&t<9)switch(e){case 2:case 4:return 4<t;case 5:case 7:return t%2==0;case 6:case 8:return 2===t||4===t||5===t||7===t}}(t=c).global.document&&((n=document.createElement("img")).onload=function(){var e;t.orientation=2===n.width&&3===n.height,t.orientation&&((e=t.createCanvas(1,1,!0).getContext("2d")).drawImage(n,1,1,1,1,0,0,1,1),t.orientationCropBug="255,255,255,255"!==e.getImageData(0,0,1,1).data.toString())},n.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="),c.requiresCanvas=function(e){return s(e)||i.call(c,e)},c.requiresMetaData=function(e){return s(e,!0)||r.call(c,e)},c.transform=function(e,t,r,n,i){o.call(c,e,t,function(e,t){var n,i;t&&4<(i=c.orientation&&t.exif&&t.exif.get("Orientation"))&&i<9&&(n=t.originalWidth,i=t.originalHeight,t.originalWidth=i,t.originalHeight=n),r(e,t)},n,i)},c.getTransformedOptions=function(e,t,n){var i=d.call(c,e,t),e=n.exif&&n.exif.get("Orientation");if(!f(t=!0===(t=i.orientation)?e:t,n=c.orientation&&e))return i;var r,o=i.top,s=i.right,a=i.bottom,l=i.left,u={};for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(u[r]=i[r]);if((4<(u.orientation=t)&&!(4<n)||t<5&&4<n)&&(u.maxWidth=i.maxHeight,u.maxHeight=i.maxWidth,u.minWidth=i.minHeight,u.minHeight=i.minWidth,u.sourceWidth=i.sourceHeight,u.sourceHeight=i.sourceWidth),1<n){switch(n){case 2:s=i.left,l=i.right;break;case 3:o=i.bottom,s=i.left,a=i.top,l=i.right;break;case 4:o=i.bottom,a=i.top;break;case 5:o=i.left,s=i.bottom,a=i.right,l=i.top;break;case 6:o=i.left,s=i.top,a=i.right,l=i.bottom;break;case 7:o=i.right,s=i.top,a=i.left,l=i.bottom;break;case 8:o=i.right,s=i.bottom,a=i.left,l=i.top}h(t,n)&&(e=o,n=s,o=a,s=l,a=e,l=n)}switch(u.top=o,u.right=s,u.bottom=a,u.left=l,t){case 2:u.right=l,u.left=s;break;case 3:u.top=a,u.right=l,u.bottom=o,u.left=s;break;case 4:u.top=a,u.bottom=o;break;case 5:u.top=l,u.right=a,u.bottom=s,u.left=o;break;case 6:u.top=s,u.right=a,u.bottom=l,u.left=o;break;case 7:u.top=s,u.right=o,u.bottom=l,u.left=a;break;case 8:u.top=l,u.right=o,u.bottom=s,u.left=a}return u},c.transformCoordinates=function(e,t,n){if(l.call(c,e,t,n),f(t=t.orientation,n=c.orientation&&n.exif&&n.exif.get("Orientation"))){var i=e.getContext("2d"),r=e.width,o=e.height,s=r,a=o;switch((4<t&&!(4<n)||t<5&&4<n)&&(e.width=o,e.height=r),4<t&&(s=o,a=r),n){case 2:i.translate(s,0),i.scale(-1,1);break;case 3:i.translate(s,a),i.rotate(Math.PI);break;case 4:i.translate(0,a),i.scale(1,-1);break;case 5:i.rotate(-.5*Math.PI),i.scale(-1,1);break;case 6:i.rotate(-.5*Math.PI),i.translate(-s,0);break;case 7:i.rotate(-.5*Math.PI),i.translate(-s,a),i.scale(1,-1);break;case 8:i.rotate(.5*Math.PI),i.translate(0,-a)}switch(h(t,n)&&(i.translate(s,a),i.rotate(Math.PI)),t){case 2:i.translate(r,0),i.scale(-1,1);break;case 3:i.translate(r,o),i.rotate(Math.PI);break;case 4:i.translate(0,o),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-o);break;case 7:i.rotate(.5*Math.PI),i.translate(r,-o),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-r,0)}}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(r){"use strict";function p(e){e&&(Object.defineProperty(this,"map",{value:this.ifds[e].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[e]||{}}))}p.prototype.ifds={ifd1:{name:"Thumbnail",map:p.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965}},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},p.prototype.get=function(e){return this[e]||this[this.map[e]]};var m={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}};function g(e,t,n){return(!e||e[n])&&(!t||!0!==t[n])}function v(e,t,n,i,r,o,s,a){var l,u,c,d,f,h;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((u=n+2+12*(l=e.getUint16(n,i)))+4>e.byteLength)){for(c=0;c<l;c+=1)g(s,a,f=e.getUint16(d=n+2+12*c,i))&&(h=function(e,t,n,i,r,o){var s,a,l,u,c,d=m[i];if(d){if(!((s=4<(i=d.size*r)?t+e.getUint32(n+8,o):n+8)+i>e.byteLength)){if(1===r)return d.getValue(e,s,o);for(a=[],l=0;l<r;l+=1)a[l]=d.getValue(e,s+l*d.size,o);if(d.ascii){for(u="",l=0;l<a.length&&"\0"!==(c=a[l]);l+=1)u+=c;return u}return a}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}(e,t,d,e.getUint16(d+2,i),e.getUint32(d+4,i),i),r[f]=h,o&&(o[f]=d));return e.getUint32(u,i)}console.log("Invalid Exif data: Invalid directory size.")}}m[7]=m[1],r.parseExifData=function(l,e,t,u,n){if(!n.disableExif){var c,d=n.includeExifTags,f=n.excludeExifTags||{34665:{37500:!0}},h=e+10;if(1165519206===l.getUint32(e+4))if(h+8>l.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===l.getUint16(e+8)){switch(l.getUint16(h)){case 18761:c=!0;break;case 19789:c=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===l.getUint16(h+2,c)?(e=l.getUint32(h+4,c),u.exif=new p,n.disableExifOffsets||(u.exifOffsets=new p,u.exifTiffOffset=h,u.exifLittleEndian=c),(e=v(l,h,h+e,c,u.exif,u.exifOffsets,d,f))&&g(d,f,"ifd1")&&(u.exif.ifd1=e,u.exifOffsets&&(u.exifOffsets.ifd1=h+e)),Object.keys(u.exif.ifds).forEach(function(e){var t,n=e,i=l,r=h,o=c,s=d,a=f;(e=(t=u).exif[n])&&(t.exif[n]=new p(n),t.exifOffsets&&(t.exifOffsets[n]=new p(n)),v(i,r,r+e,o,t.exif[n],t.exifOffsets&&t.exifOffsets[n],s&&s[n],a&&a[n]))}),(e=u.exif.ifd1)&&e[513]&&(e[513]=function(e,t){if(t){if(!(e+t>l.byteLength))return new Blob([r.bufferSlice.call(l.buffer,e,e+t)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(h+e[513],e[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},r.metaDataParsers.jpeg[65505].push(r.parseExifData),r.exifWriters={274:function(e,t,n){var i=t.exifOffsets[274];return i&&new DataView(e,i+8,2).setUint16(0,n,t.exifLittleEndian),e}},r.writeExifData=function(e,t,n,i){return r.exifWriters[t.exif.map[n]](e,t,i)},r.ExifMap=p}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-exif")):e(window.loadImage)}(function(e){"use strict";var t=e.ExifMap.prototype;t.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},t.tags.ifd1=t.tags,t.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180Â° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90Â° CW",6:"Rotate 90Â° CW",7:"Horizontal flip + Rotate 90Â° CW",8:"Rotate 90Â° CCW"}},t.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return t?String.fromCharCode(t[0],t[1],t[2],t[3]):void 0;case"ComponentsConfiguration":return t?this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]]:void 0;case"GPSVersionID":return t?t[0]+"."+t[1]+"."+t[2]+"."+t[3]:void 0}return String(t)},t.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&((t=this[e])&&t.getAll?n[this.ifds[e].name]=t.getAll():(t=this.tags[e])&&(n[t]=this.getText(t)));return n},t.getName=function(e){var t=this.tags[e];return"object"==typeof t?this.ifds[e].name:t};var n,i,r,o=t.tags;for(n in o)if(Object.prototype.hasOwnProperty.call(o,n))if(i=t.ifds[n])for(n in r=o[n])Object.prototype.hasOwnProperty.call(r,n)&&(i.map[r[n]]=Number(n));else t.map[o[n]]=Number(n)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";function l(){}function u(e,t,n,i,r,o){for(var s,a,l,u=t+n,c=t;c<u;)28===e.getUint8(c)&&2===e.getUint8(c+1)&&(s=e.getUint8(c+2),r&&!r[s]||o&&o[s]||(a=e.getInt16(c+3),l=function(e,t,n,i,r){if("binary"===t.types[e])return new Blob([n.buffer.slice(i,i+r)]);if("Uint16"===t.types[e])return n.getUint16(i);for(var o=n,s="",a=i+r,l=i;l<a;l+=1)s+=String.fromCharCode(o.getUint8(l));return s}(s,i.iptc,e,c+5,a),i.iptc[s]=void 0===(a=i.iptc[s])?l:a instanceof Array?(a.push(l),a):[a,l],i.iptcOffsets&&(i.iptcOffsets[s]=c))),c+=1}l.prototype.map={ObjectName:5},l.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},l.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcData=function(e,t,n,i,r){if(!r.disableIptc)for(var o=t+n;t+8<o;){if(s=t,943868237===(a=e).getUint32(s)&&1028===a.getUint16(s+4)){s=t,(a=(a=e).getUint8(s+7))%2!=0&&(a+=1);var s=a=0===a?4:a,a=t+8+s;if(o<a){console.log("Invalid IPTC data: Invalid segment offset.");break}if(o<t+(s=e.getUint16(t+6+s))){console.log("Invalid IPTC data: Invalid segment size.");break}return i.iptc=new l,r.disableIptcOffsets||(i.iptcOffsets=new l),void u(e,a,s,i,r.includeIptcTags,r.excludeIptcTags||{202:!0})}t+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=l}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-iptc"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-iptc")):e(window.loadImage)}(function(e){"use strict";e=e.IptcMap.prototype;e.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},e.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},e.getText=function(e){var t=this.get(e),e=this.map[e];return(e=this.stringValues[e])?e[t]:String(t)},e.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n},e.getName=function(e){return this.tags[e]};var t,n=e.tags,i=e.map||{};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[n[t]]=Number(t))}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(v){"use strict";function e(n){var i="dragover"===n;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==v.inArray("Files",t.types)&&!1!==this._trigger(n,v.Event(n,{delegatedEvent:e}))&&(e.preventDefault(),i&&(t.dropEffect="copy"))}}var t;v.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||v('<input type="file"/>').prop("disabled")),v.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),v.support.xhrFormDataFileUpload=!!window.FormData,v.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),v.widget("blueimp.fileupload",{options:{dropZone:v(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,uniqueFilenames:void 0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,e){return n=this.messages[n]||n.toString(),e&&v.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),n},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&v(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_promisePipe:(t=v.fn.jquery.split("."),1<Number(t[0])||7<Number(t[1])?"then":"pipe"),_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:v.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return this.bitrate&&n&&!(n<i)||(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&v.support.xhrFileUpload||v.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===v.type(e.formData)?e.formData(e.form):v.isArray(e.formData)?e.formData:"object"===v.type(e.formData)?(n=[],v.each(e.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(e){var n=0;return v.each(e,function(e,t){n+=t.size||1}),n},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?v.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){if(e._response)for(var t in e._response)Object.prototype.hasOwnProperty.call(e._response,t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){var n,i;e.lengthComputable&&(n=Date.now?Date.now():(new Date).getTime(),t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total||(t._time=n,i=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=i-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=i,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(n,i,t.bitrateInterval),this._trigger("progress",v.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",v.Event("progressall",{delegatedEvent:e}),this._progress)))},_initProgressListener:function(n){var i=this,e=(n.xhr?n:v.ajaxSettings).xhr();e.upload&&(v(e.upload).on("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,i._onProgress(e,n)}),n.xhr=function(){return e})},_deinitProgressListener:function(e){e=(e.xhr?e:v.ajaxSettings).xhr();e.upload&&v(e.upload).off("progress")},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_getUniqueFilename:function(e,t){return t[e=String(e)]?(e=e.replace(/(?: \(([\d]+)\))?(\.[^.]+)?$/,function(e,t,n){return" ("+(t?Number(t)+1:1)+")"+(n||"")}),this._getUniqueFilename(e,t)):(t[e]=!0,e)},_initXHRData:function(i){var r,o=this,e=i.files[0],t=i.multipart||!v.support.xhrFileUpload,s="array"===v.type(i.paramName)?i.paramName[0]:i.paramName;i.headers=v.extend({},i.headers),i.contentRange&&(i.headers["Content-Range"]=i.contentRange),t&&!i.blob&&this._isInstanceOf("File",e)||(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.uploadName||e.name)+'"'),t?v.support.xhrFormDataFileUpload&&(i.postMessage?(r=this._getFormData(i),i.blob?r.push({name:s,value:i.blob}):v.each(i.files,function(e,t){r.push({name:"array"===v.type(i.paramName)&&i.paramName[e]||s,value:t})})):(o._isInstanceOf("FormData",i.formData)?r=i.formData:(r=new FormData,v.each(this._getFormData(i),function(e,t){r.append(t.name,t.value)})),i.blob?r.append(s,i.blob,e.uploadName||e.name):v.each(i.files,function(e,t){var n;(o._isInstanceOf("File",t)||o._isInstanceOf("Blob",t))&&(n=t.uploadName||t.name,i.uniqueFilenames&&(n=o._getUniqueFilename(n,i.uniqueFilenames)),r.append("array"===v.type(i.paramName)&&i.paramName[e]||s,t,n))})),i.data=r):(i.contentType=e.type||"application/octet-stream",i.data=i.blob||e),i.blob=null},_initIframeSettings:function(e){var t=v("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=v(e.fileInput),i=e.paramName;return i?v.isArray(i)||(i=[i]):(i=[],t.each(function(){for(var e=v(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)i.push(t),--n}),i.length||(i=[t.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=v(e.fileInput.prop("form")),e.form.length||(e.form=v(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===v.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){e=v.extend({},this.options,e);return this._initFormSettings(e),this._initDataSettings(e),e},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,n){var i=v.Deferred(),r=i.promise();return t=t||this.options.context||r,!0===e?i.resolveWith(t,n):!1===e&&i.rejectWith(t,n),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){function i(e){return v.Deferred().resolveWith(r,e).promise()}var r=this;n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||i([this]))[r._promisePipe](function(){return n.errorThrown?v.Deferred().rejectWith(r,[n]).promise():i(arguments)})[r._promisePipe](e,t)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==r._trigger("submit",v.Event("submit",{delegatedEvent:e}),this)&&r._onSend(e,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){e=e.getResponseHeader("Range"),e=e&&e.split("-"),e=e&&1<e.length&&parseInt(e[1],10);return e&&e+1},_chunkedUpload:function(o,e){o.uploadedBytes=o.uploadedBytes||0;var t,s,a=this,n=o.files[0],l=n.size,u=o.uploadedBytes,c=o.maxChunkSize||l,d=this._blobSlice,f=v.Deferred(),i=f.promise();return!(!(this._isXHRUpload(o)&&d&&(u||("function"===v.type(c)?c(o):c)<l))||o.data)&&(!!e||(l<=u?(n.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",n.error])):(s=function(){var i=v.extend({},o),r=i._progress.loaded;i.blob=d.call(n,u,u+("function"===v.type(c)?c(i):c),n.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+u+"-"+(u+i.chunkSize-1)+"/"+l,a._trigger("chunkbeforesend",null,i),a._initXHRData(i),a._initProgressListener(i),t=(!1!==a._trigger("chunksend",null,i)&&v.ajax(i)||a._getXHRPromise(!1,i.context)).done(function(e,t,n){u=a._getUploadedBytes(n)||u+i.chunkSize,r+i.chunkSize-i._progress.loaded&&a._onProgress(v.Event("progress",{lengthComputable:!0,loaded:u-i.uploadedBytes,total:u-i.uploadedBytes}),i),o.uploadedBytes=i.uploadedBytes=u,i.result=e,i.textStatus=t,i.jqXHR=n,a._trigger("chunkdone",null,i),a._trigger("chunkalways",null,i),u<l?s():f.resolveWith(i.context,[e,t,n])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,a._trigger("chunkfail",null,i),a._trigger("chunkalways",null,i),f.rejectWith(i.context,[e,t,n])}).always(function(){a._deinitProgressListener(i)})},this._enhancePromise(i),i.abort=function(){return t.abort()},s(),i)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,n,i){var r=i._progress.total,o=i._response;i._progress.loaded<r&&this._onProgress(v.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),o.result=i.result=e,o.textStatus=i.textStatus=t,o.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);function n(){return s._sending+=1,a._bitrateTimer=new s._BitrateTimer,i=i||((r||!1===s._trigger("send",v.Event("send",{delegatedEvent:e}),a))&&s._getXHRPromise(!1,a.context,r)||s._chunkedUpload(a)||v.ajax(a)).done(function(e,t,n){s._onDone(e,t,n,a)}).fail(function(e,t,n){s._onFail(e,t,n,a)}).always(function(e,t,n){if(s._deinitProgressListener(a),s._onAlways(e,t,n,a),--s._sending,--s._active,a.limitConcurrentUploads&&a.limitConcurrentUploads>s._sending)for(var i=s._slots.shift();i;){if("pending"===s._getDeferredState(i)){i.resolve();break}i=s._slots.shift()}0===s._active&&s._trigger("stop")})}var i,r,o,s=this,a=s._getAJAXSettings(t);return this._beforeSend(e,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?((t=1<this.options.limitConcurrentUploads?(o=v.Deferred(),this._slots.push(o),o[s._promisePipe](n)):(this._sequence=this._sequence[s._promisePipe](n,n),this._sequence)).abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(a.context,r),n())},this._enhancePromise(t)):n()},_onAdd:function(i,r){var o,e,s,t,a=this,l=!0,n=v.extend({},this.options,r),u=r.files,c=u.length,d=n.limitMultiFileUploads,f=n.limitMultiFileUploadSize,h=n.limitMultiFileUploadSizeOverhead,p=0,m=this._getParamName(n),g=0;if(!c)return!1;if(f&&void 0===u[0].size&&(f=void 0),(n.singleFileUploads||d||f)&&this._isXHRUpload(n))if(n.singleFileUploads||f||!d)if(!n.singleFileUploads&&f)for(s=[],o=[],t=0;t<c;t+=1)p+=u[t].size+h,(t+1===c||p+u[t+1].size+h>f||d&&d<=t+1-g)&&(s.push(u.slice(g,t+1)),(e=m.slice(g,t+1)).length||(e=m),o.push(e),g=t+1,p=0);else o=m;else for(s=[],o=[],t=0;t<c;t+=d)s.push(u.slice(t,t+d)),(e=m.slice(t,t+d)).length||(e=m),o.push(e);else s=[u],o=[m];return r.originalFiles=u,v.each(s||u,function(e,t){var n=v.extend({},r);return n.files=s?t:[t],n.paramName=o[e],a._initResponseObject(n),a._initProgressObject(n),a._addConvenienceMethods(i,n),l=a._trigger("add",v.Event("add",{delegatedEvent:i}),n)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),t=n.is(document.activeElement);e.fileInputClone=i,v("<form></form>").append(i)[0].reset(),n.after(i).detach(),t&&i.trigger("focus"),v.cleanData(n.off("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var e,i=this,r=v.Deferred(),o=[],s=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},a=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){r.resolve(e)}).fail(s)},l=function(){e.readEntries(function(e){e.length?(o=o.concat(e),l()):a(o)},s)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,r.resolve(t._file)):t.file(function(e){e.relativePath=n,r.resolve(e)},s):t.isDirectory?(e=t.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,t){var n=this;return v.when.apply(v,v.map(e,function(e){return n._handleFileTreeEntry(e,t)}))[this._promisePipe](function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(v.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):v.Deferred().resolve(v.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t=(e=v(e)).prop("entries");if(t&&t.length)return this._handleFileTreeEntries(t);if((t=v.makeArray(e.prop("files"))).length)void 0===t[0].name&&t[0].fileName&&v.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(e=e.prop("value")))return v.Deferred().resolve([]).promise();t=[{name:e.replace(/^.*\\/,"")}]}return v.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof v&&1!==e.length?v.when.apply(v,v.map(e,this._getSingleFileInputFiles))[this._promisePipe](function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var n=this,i={fileInput:v(t.target),form:v(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",v.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};t&&t.length&&(v.each(t,function(e,t){t=t.getAsFile&&t.getAsFile();t&&n.files.push(t)}),!1!==this._trigger("paste",v.Event("paste",{delegatedEvent:e}),n)&&this._onAdd(e,n))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,e=t.dataTransfer,i={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){i.files=e,!1!==n._trigger("drop",v.Event("drop",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),v.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var n=-1!==v.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,t),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof v||(e.fileInput=v(e.fileInput)),e.dropZone instanceof v||(e.dropZone=v(e.dropZone)),e.pasteZone instanceof v||(e.pasteZone=v(e.pasteZone))},_getRegExp:function(e){var e=e.split("/"),t=e.pop();return e.shift(),new RegExp(e.join("/"),t)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===v.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var i=this,r=this.options,o=this.element.data();v.each(this.element[0].attributes,function(e,t){var n,t=t.name.toLowerCase();/^data-/.test(t)&&(t=t.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),n=o[t],i._isRegExpOption(t,n)&&(n=i._getRegExp(n)),r[t]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=v.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){var n,i,e,r,o;if(t.fileInput&&!t.files)return n=this,i=v.Deferred(),(e=i.promise()).abort=function(){return o=!0,r?r.abort():(i.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){o||(e.length?(t.files=e,(r=n._onSend(null,t)).then(function(e,t,n){i.resolve(e,t,n)},function(e,t,n){i.reject(e,t,n)})):i.reject())}),this._enhancePromise(e);if(t.files=v.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload")):e(window.jQuery)}(function(s){"use strict";var i=s.blueimp.fileupload.prototype.options.add;s.widget("blueimp.fileupload",s.blueimp.fileupload,{options:{processQueue:[],add:function(e,t){var n=s(this);t.process(function(){return n.fileupload("process",t)}),i.call(this,e,t)}},processActions:{},_processFile:function(e,i){var r=this,o=s.Deferred().resolveWith(r,[e]).promise();return this._trigger("process",null,e),s.each(e.processQueue,function(e,t){function n(e){return i.errorThrown?s.Deferred().rejectWith(r,[i]).promise():r.processActions[t.action].call(r,e,t)}o=o[r._promisePipe](n,t.always&&n)}),o.done(function(){r._trigger("processdone",null,e),r._trigger("processalways",null,e)}).fail(function(){r._trigger("processfail",null,e),r._trigger("processalways",null,e)}),o},_transformProcessQueue:function(r){var t=[];s.each(r.processQueue,function(){var n={},e=this.action,i=!0===this.prefix?e:this.prefix;s.each(this,function(e,t){"string"===s.type(t)&&"@"===t.charAt(0)?n[e]=r[t.slice(1)||(i?i+e.charAt(0).toUpperCase()+e.slice(1):e)]:n[e]=t}),t.push(n)}),r.processQueue=t},processing:function(){return this._processing},process:function(i){var r=this,o=s.extend({},this.options,i);return o.processQueue&&o.processQueue.length&&(this._transformProcessQueue(o),0===this._processing&&this._trigger("processstart"),s.each(i.files,function(e){function t(){return i.errorThrown?s.Deferred().rejectWith(r,[i]).promise():r._processFile(n,i)}var n=e?s.extend({},o):o;n.index=e,r._processing+=1,r._processingQueue=r._processingQueue[r._promisePipe](t,t).always(function(){--r._processing,0===r._processing&&r._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=s.Deferred().resolveWith(this).promise()}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-scale","load-image-exif","load-image-orientation","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("blueimp-load-image/js/load-image-meta"),require("blueimp-load-image/js/load-image-scale"),require("blueimp-load-image/js/load-image-exif"),require("blueimp-load-image/js/load-image-orientation"),require("blueimp-canvas-to-blob"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function(a,l){"use strict";a.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",maxMetaDataSize:"@",disableImageHead:"@",disableMetaDataParsers:"@",disableExif:"@",disableExifOffsets:"@",includeExifTags:"@",excludeExifTags:"@",disableIptc:"@",disableIptcOffsets:"@",includeIptcTags:"@",excludeIptcTags:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize",imageSmoothingQuality:"@imageSmoothingQuality"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!0,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(t,e){var n,i,r;return e.disabled||(n=this,i=t.files[t.index],r=a.Deferred(),"number"===a.type(e.maxFileSize)&&i.size>e.maxFileSize||e.fileTypes&&!e.fileTypes.test(i.type)||!l(i,function(e){e.src&&(t.img=e),r.resolveWith(n,[t])},e))?t:r.promise()},resizeImage:function(t,n){if(n.disabled||!t.canvas&&!t.img)return t;n=a.extend({canvas:!0},n);function e(e){e&&(e.width!==s.width||e.height!==s.height||n.forceResize)&&(t[e.getContext?"canvas":"img"]=e),t.preview=e,o.resolveWith(r,[t])}var i,r=this,o=a.Deferred(),s=n.canvas&&t.canvas||t.img;return t.exif&&n.thumbnail&&(i=(i=t.exif.get("Thumbnail"))&&i.get("Blob"))?(n.orientation=t.exif.get("Orientation"),l(i,e,n),o.promise()):(t.orientation?delete n.orientation:t.orientation=n.orientation||l.orientation,s?(e(l.scale(s,n,t)),o.promise()):t)},saveImage:function(t,e){var n,i,r;return t.canvas&&!e.disabled&&(n=this,i=t.files[t.index],r=a.Deferred(),t.canvas.toBlob)?(t.canvas.toBlob(function(e){e.name||(i.type===e.type?e.name=i.name:i.name&&(e.name=i.name.replace(/\.\w+$/,"."+e.type.substr(6)))),i.type!==e.type&&delete t.imageHead,t.files[t.index]=e,r.resolveWith(n,[t])},e.type||i.type,e.quality),r.promise()):t},loadImageMetaData:function(t,e){var n,i;return e.disabled?t:(n=this,i=a.Deferred(),l.parseMetaData(t.files[t.index],function(e){a.extend(t,e),i.resolveWith(n,[t])},e),i.promise())},saveImageMetaData:function(t,e){var n,i,r;return t.imageHead&&t.canvas&&t.canvas.toBlob&&!e.disabled?(n=this,i=t.files[t.index],r=a.Deferred(),!0===t.orientation&&t.exifOffsets&&l.writeExifData(t.imageHead,t,"Orientation",1),l.replaceHead(i,t.imageHead,function(e){e.name=i.name,t.files[t.index]=e,r.resolveWith(n,[t])}),r.promise()):t},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("./jquery.fileupload-process")):e(window.jQuery)}(function(s){"use strict";s.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),s.widget("blueimp.fileupload",s.blueimp.fileupload,{options:{getNumberOfFiles:s.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(e,t){var n,i,r,o;return t.disabled?e:(n=s.Deferred(),i=this.options,r=e.files[e.index],(t.minFileSize||t.maxFileSize)&&(o=r.size),"number"===s.type(t.maxNumberOfFiles)&&(i.getNumberOfFiles()||0)+e.files.length>t.maxNumberOfFiles?r.error=i.i18n("maxNumberOfFiles"):!t.acceptFileTypes||t.acceptFileTypes.test(r.type)||t.acceptFileTypes.test(r.name)?o>t.maxFileSize?r.error=i.i18n("maxFileSize"):"number"===s.type(o)&&o<t.minFileSize?r.error=i.i18n("minFileSize"):delete r.error:r.error=i.i18n("acceptFileTypes"),r.error||e.files.error?(e.files.error=!0,n.rejectWith(this,[e])):n.resolveWith(this,[e]),n.promise())}}})}),window.kojqui={version:"2.2.4"},!function(e){"use strict";e.kojqui.utils=function(e,n){"use strict";var t,i,r,o,s,t=(e.ui.version||"").match(/^(\d)\.(\d+)/);if(!t)i=null;else i={major:parseInt(t[1],10),minor:parseInt(t[2],10)};return r=["foreach","if","ifnot","with","html","text","options"],o=Object.create||function(e){function t(){}t.prototype=e;return new t},{uiVersion:i,descendantControllingBindings:r,createObject:o,register:s=function(e){var t=new e;n.bindingHandlers[t.widgetName]={after:n.utils.arrayGetDistinctValues(r.concat(t.after||[])),init:t.init.bind(t),update:t.update.bind(t)}}}}(e.jQuery,e.ko,e.jQuery.ui.core)}(this),!function(e){"use strict";e.kojqui.BindingHandler=function(c,d,f){"use strict";var h,p,m,e,h="__kojqui_options",p=function(t,e){var n={};d.utils.arrayForEach(e,function(e){if(t[e]!==undefined)n[e]=d.utils.unwrapObservable(t[e])});return n},m=function(e,t,n){if(d.isObservable(n.refreshOn))d.computed({read:function(){n.refreshOn();c(t)[e]("refresh")},disposeWhenNodeIsRemoved:t})},e=function(e){this.widgetName=e;this.widgetEventPrefix=e;this.options=[];this.events=[];this.after=[];this.hasRefresh=false};return e.prototype.init=function(e,t,n,i,r){var o,s,a,l,u;o=this.widgetName;s=t();a=p(s,this.options);l=p(s,this.events);u=!d.utils.arrayFirst(f.descendantControllingBindings,function(e){return this.hasOwnProperty(e)},n());if(u)d.applyBindingsToDescendants(r,e);d.utils.domData.set(e,h,a);c.each(l,function(e,t){l[e]=t.bind(i)});c(e)[o](d.utils.extend(a,l));if(this.hasRefresh)m(o,e,s);if(d.isWriteableObservable(s.widget))s.widget(c(e));d.utils.domNodeDisposal.addDisposeCallback(e,function(){c(e)[o]("destroy")});return{controlsDescendantBindings:u}},e.prototype.update=function(n,e){var i,t,r,o;i=this.widgetName;t=e();r=d.utils.domData.get(n,h);o=p(t,this.options);c.each(o,function(e,t){if(t!==r[e])c(n)[i]("option",e,o[e])});d.utils.domData.set(n,h,o)},e.prototype.on=function(e,t,n){var i;if(t===this.widgetEventPrefix)i=t;else i=this.widgetEventPrefix+t;i=[i.toLowerCase(),".",this.widgetName].join("");c(e).on(i,n);d.utils.domNodeDisposal.addDisposeCallback(e,function(){c(e).off(i)})},e}(e.jQuery,e.ko,e.kojqui.utils,e.jQuery.ui.widget)}(this),!function(e){"use strict";e.kojqui.Accordion=function(o,s,e,a){"use strict";var t=function(){a.call(this,"accordion");if(e.uiVersion.major===1&&e.uiVersion.minor===8){this.options=["active","animated","autoHeight","clearStyle","collapsible","disabled","event","fillSpace","header","icons","navigation","navigationFilter"];this.events=["change","changestart","create"];this.hasRefresh=false;this.eventToWatch="change"}else{this.options=["active","animate","collapsible","disabled","event","header","heightStyle","icons"];this.events=["activate","beforeActivate","create"];this.hasRefresh=true;this.eventToWatch="activate"}};return((t.prototype=e.createObject(a.prototype)).constructor=t).prototype.init=function(e,t){var n,i,r;n=this.widgetName;i=t();r=a.prototype.init.apply(this,arguments);if(s.isWriteableObservable(i.active))this.on(e,this.eventToWatch,function(){i.active(o(e)[n]("option","active"))});return r},e.register(t),t}(e.jQuery,e.ko,e.kojqui.utils,e.kojqui.BindingHandler,e.jQuery.ui.accordion)}(this),!function(e){"use strict";e.kojqui.Autocomplete=function(e,t){"use strict";var n=function(){e.call(this,"autocomplete");this.options=["appendTo","autoFocus","delay","disabled","minLength","position","source"];if(t.uiVersion.major===1&&t.uiVersion.minor===8)this.events=["change","close","create","focus","open","search","select"];else{this.options.push("messages");this.events=["change","close","create","focus","open","response","search","select"]}};return n.prototype=t.createObject(e.prototype),t.register(n.prototype.constructor=n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.autocomplete)}(this),!function(e){"use strict";e.kojqui.Button=function(e,t){"use strict";var n=function(){e.call(this,"button");this.options=["disabled","icons","label","text"];this.events=["create"];this.hasRefresh=true};return n.prototype=t.createObject(e.prototype),t.register(n.prototype.constructor=n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.button)}(this),!function(e){"use strict";e.kojqui.Buttonset=function(e,t){"use strict";var n=function(){e.call(this,"buttonset");this.options=["items","disabled"];this.events=["create"];this.hasRefresh=true};return n.prototype=t.createObject(e.prototype),t.register(n.prototype.constructor=n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.button)}(this),!function(e){"use strict";e.kojqui.Datepicker=function(l,u,c,e){"use strict";var t=function(){c.call(this,"datepicker");this.options=["altField","altFormat","appendText","autoSize","buttonImage","buttonImageOnly","buttonText","calculateWeek","changeMonth","changeYear","closeText","constrainInput","currentText","dateFormat","dayNames","dayNamesMin","dayNamesShort","defaultDate","duration","firstDay","gotoCurrent","hideIfNoPrevNext","isRTL","maxDate","minDate","monthNames","monthNamesShort","navigationAsDateFormat","nextText","numberOfMonths","prevText","selectOtherMonths","shortYearCutoff","showAnim","showButtonPanel","showCurrentAtPos","showMonthAfterYear","showOn","showOptions","showOtherMonths","showWeek","stepMonths","weekHeader","yearRange","yearSuffix","beforeShow","beforeShowDay","onChangeMonthYear","onClose","onSelect"];this.hasRefresh=true};return((t.prototype=e.createObject(c.prototype)).constructor=t).prototype.init=function(i,e){var t,r,o,n,s,a;t=c.prototype.init.apply(this,arguments);r=this.widgetName;o=e();n=u.utils.unwrapObservable(o.value);if(n)l(i)[r]("setDate",n);if(u.isObservable(o.value)){s=o.value.subscribe(function(e){l(i)[r]("setDate",e)});u.utils.domNodeDisposal.addDisposeCallback(i,function(){s.dispose()})}if(u.isWriteableObservable(o.value)){a=l(i)[r]("option","onSelect");l(i)[r]("option","onSelect",function(e){var t,n;t=l(i)[r]("option","dateFormat");n=l.datepicker.parseDate(t,e);o.value(n);if(typeof a==="function")a.apply(this,Array.prototype.slice.call(arguments))})}return t},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.datepicker)}(this),!function(e){"use strict";e.kojqui.Dialog=function(o,s,a,e){"use strict";var t=function(){a.call(this,"dialog");if(e.uiVersion.major===1&&e.uiVersion.minor===8){this.options=["autoOpen","buttons","closeOnEscape","closeText","dialogClass","disabled","draggable","height","maxHeight","maxWidth","minHeight","minWidth","modal","position","resizable","show","stack","title","width","zIndex"];this.events=["beforeClose","create","open","focus","dragStart","drag","dragStop","resizeStart","resize","resizeStop","close"]}else if(e.uiVersion.major===1&&e.uiVersion.minor===9){this.options=["autoOpen","buttons","closeOnEscape","closeText","dialogClass","draggable","height","hide","maxHeight","maxWidth","minHeight","minWidth","modal","position","resizable","show","stack","title","width","zIndex"];this.events=["beforeClose","create","open","focus","dragStart","drag","dragStop","resizeStart","resize","resizeStop","close"]}else{this.options=["appendTo","autoOpen","buttons","closeOnEscape","closeText","dialogClass","draggable","height","hide","maxHeight","maxWidth","minHeight","minWidth","modal","position","resizable","show","title","width"];this.events=["beforeClose","create","open","focus","dragStart","drag","dragStop","resizeStart","resize","resizeStop","close"]}};return((t.prototype=e.createObject(a.prototype)).constructor=t).prototype.init=function(e,t){var n,i,r;n=document.createElement("DIV");n.style.display="none";e.parentNode.insertBefore(n,e);s.utils.domNodeDisposal.addDisposeCallback(n,function(){s.removeNode(e)});i=a.prototype.init.apply(this,arguments);r=t();if(r.isOpen)s.computed({read:function(){if(s.utils.unwrapObservable(r.isOpen))o(e)[this.widgetName]("open");else o(e)[this.widgetName]("close")},disposeWhenNodeIsRemoved:e,owner:this});if(s.isWriteableObservable(r.isOpen)){this.on(e,"open",function(){r.isOpen(true)});this.on(e,"close",function(){r.isOpen(false)})}if(s.isWriteableObservable(r.width))this.on(e,"resizestop",function(e,t){r.width(Math.round(t.size.width))});if(s.isWriteableObservable(r.height))this.on(e,"resizestop",function(e,t){r.height(Math.round(t.size.height))});return i},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.dialog)}(this),!function(e){"use strict";e.kojqui.Menu=function(e,t){"use strict";var n=function(){e.call(this,"menu");if(t.uiVersion.major===1&&t.uiVersion.minor<11)this.options=["disabled","icons","menus","position","role"];else this.options=["disabled","icons","items","menus","position","role"];this.events=["blur","create","focus","select"];this.hasRefresh=true};return n.prototype=t.createObject(e.prototype),t.register(n.prototype.constructor=n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.menu)}(this),!function(e){"use strict";e.kojqui.Progressbar=function(e,t){"use strict";var n=function(){e.call(this,"progressbar");this.events=["change","create","complete"];this.hasRefresh=true;if(t.uiVersion.major===1&&t.uiVersion.minor===8)this.options=["disabled","value"];else this.options=["disabled","max","value"]};return n.prototype=t.createObject(e.prototype),t.register(n.prototype.constructor=n),n}(e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.progressbar)}(this),!function(e){"use strict";e.kojqui.Selectmenu=function(o,s,a,e){"use strict";var l,t,l="__kojqui_selectmenu_value",t=function(){a.call(this,"selectmenu");this.after=["value"];this.options=["appendTo","disabled","icons","position","width"];this.events=["change","close","create","focus","open","select"];this.hasRefresh=true};return((t.prototype=e.createObject(a.prototype)).constructor=t).prototype.init=function(e,t){var n,i;n=t();i=a.prototype.init.apply(this,arguments);if(n.hasOwnProperty("isOpen"))s.computed({read:function(){if(s.utils.unwrapObservable(n.isOpen))o(e)[this.widgetName]("open");else o(e)[this.widgetName]("close")},disposeWhenNodeIsRemoved:e,owner:this});if(s.isWriteableObservable(n.isOpen)){this.on(e,"open",function(){n.isOpen(true)});this.on(e,"close",function(){n.isOpen(false)})}this.on(e,"change",function(){o(e).trigger("change")});return i},t.prototype.update=function(e,t,n){var i,r;a.prototype.update.apply(this,arguments);if(n().hasOwnProperty("value")){i=s.utils.domData.get(e,l);r=s.utils.unwrapObservable(n().value);if(i!==r)o(e).selectmenu("refresh")}},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.selectmenu)}(this),!function(e){"use strict";e.kojqui.Slider=function(o,s,a,e){"use strict";var l,t,l="__kojqui_options",t=function(){a.call(this,"slider");this.widgetEventPrefix="slide";this.options=["animate","disabled","max","min","orientation","range","step","value","values"];this.events=["create","start","slide","change","stop"]};return((t.prototype=e.createObject(a.prototype)).constructor=t).prototype.init=function(i,e){var t,r,n;t=a.prototype.init.apply(this,arguments);r=e();n=r.realtime?"slide":"change";if(s.isWriteableObservable(r.value))this.on(i,n,function(e,t){var n=o(i).find(".ui-slider-handle").index(t.handle);if(n===0){s.utils.domData.get(i,l).value=t.value;r.value(t.value)}});if(s.isWriteableObservable(r.values))this.on(i,n,function(e,t){s.utils.domData.get(i,l).value=t.values;r.values(t.values)});return t},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.slider)}(this),!function(e){"use strict";e.kojqui.Spinner=function(o,s,a,e){"use strict";var t=function(){a.call(this,"spinner");this.widgetEventPrefix="spin";this.options=["culture","disabled","icons","incremental","max","min","numberFormat","page","step"];this.events=["create","start","spin","stop","change"]};return((t.prototype=e.createObject(a.prototype)).constructor=t).prototype.init=function(e,t){var n,i,r;n=a.prototype.init.apply(this,arguments);i=this.widgetName;r=t();if(r.value)s.computed({read:function(){o(e)[i]("value",s.utils.unwrapObservable(r.value))},disposeWhenNodeIsRemoved:e});if(s.isWriteableObservable(r.value)){this.on(e,"spin",function(e,t){r.value(t.value)});this.on(e,"change",function(){r.value(o(e)[i]("value"))})}return n},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.spinner)}(this),!function(e){"use strict";e.kojqui.Tabs=function(r,t,i,e){"use strict";var o,s,n,o=function(n,e){var i=e();if(t.isWriteableObservable(i.selected))this.on(n,"show",function(e,t){if(r(n)[0]===e.target)i.selected(t.index)})},s=function(n,e){var i=e();if(t.isWriteableObservable(i.active))this.on(n,"activate",function(e,t){if(r(n)[0]===e.target)i.active(t.newTab.index())})},n=function(){i.call(this,"tabs");this.version=e.uiVersion;if(this.version.major===1&&this.version.minor===8){this.options=["ajaxOptions","cache","collapsible","cookie","disabled","event","fx","idPrefix","panelTemplate","selected","spinner","tabTemplate"];this.events=["add","create","disable","enable","load","remove","select","show"];this.hasRefresh=false}else{this.options=["active","collapsible","disabled","event","heightStyle","hide","show"];this.events=["activate","beforeActivate","beforeLoad","create","load"];this.hasRefresh=true}};return((n.prototype=e.createObject(i.prototype)).constructor=n).prototype.init=function(e,t){var n=i.prototype.init.apply(this,arguments);if(this.version.major===1&&this.version.minor===8)o.call(this,e,t);else s.call(this,e,t);return n},e.register(n),n}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.tabs)}(this),!function(e){"use strict";e.kojqui.Tooltip=function(r,o,s,e){"use strict";var t=function(){s.call(this,"tooltip");this.options=["content","disabled","hide","items","position","show","tooltipClass","track"];this.events=["create","open","close"]};return((t.prototype=e.createObject(s.prototype)).constructor=t).prototype.init=function(e,t){var n,i;n=t();i=s.prototype.init.apply(this,arguments);if(n.isOpen)o.computed({read:function(){if(o.utils.unwrapObservable(n.isOpen))r(e)[this.widgetName]("open");else r(e)[this.widgetName]("close")},disposeWhenNodeIsRemoved:e,owner:this});if(o.isWriteableObservable(n.isOpen)){this.on(e,"open",function(){n.isOpen(true)});this.on(e,"close",function(){n.isOpen(false)})}return i},e.register(t),t}(e.jQuery,e.ko,e.kojqui.BindingHandler,e.kojqui.utils,e.jQuery.ui.tooltip)}(this),!function($){"use strict";var o=function(){},a=function(n,i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(i.apply(null,e))}},b=function(e){return function(){return e}},l=function(e){return e};function h(i){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.concat(e);return i.apply(null,n)}}function u(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!n.apply(null,e)}}function N(){return I}var R=b(!1),O=b(!0),I=(e={fold:function(e,t){return e()},is:R,isSome:R,isNone:O,getOr:F,getOrThunk:M,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:F,orThunk:M,map:N,each:o,bind:N,exists:R,forall:O,filter:N,equals:B,equals_:B,toArray:function(){return[]},toString:b("none()")},Object.freeze&&Object.freeze(e),e);function B(e){return e.isNone()}function M(e){return e()}function F(e){return e}function L(n){function e(){return r}function t(e){return e(n)}var i=b(n),r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:O,isNone:R,getOr:i,getOrThunk:i,getOrDie:i,getOrNull:i,getOrUndefined:i,or:e,orThunk:e,map:function(e){return L(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?r:I},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(R,function(e){return t(n,e)})}};return r}function H(n){return function(e){return(null===(e=e)?"null":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t)===n;var t}}function W(e,t){return-1<he(e,t)}function q(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return!0;return!1}function U(e){return 0===e.length?A.none():A.some(e[0])}function V(){return Ee.getOrDie("URL")}function Z(e){return"matchMedia"in $.window&&$.matchMedia(e).matches}var ee,te,ne,A={some:L,none:N,from:function(e){return null==e?I:L(e)}},ie=H("string"),re=H("object"),oe=H("array"),se=H("null"),ae=H("boolean"),le=H("function"),ue=H("number"),ce=Array.prototype.slice,de=Array.prototype.indexOf,fe=Array.prototype.push,he=function(e,t){return de.call(e,t)},y=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},w=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},pe=function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var s=e[r];(t(s,r)?n:i).push(s)}return{pass:n,fail:i}},v=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},me=function(e,t,n){return w(e,function(e){n=t(n,e)}),n},ge=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return A.some(r)}return A.none()},ve=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return A.some(n);return A.none()},be=function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!oe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);fe.apply(t,e[n])}return t},ye=function(e,t){e=y(e,t);return be(e)},xe=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n))return!1;return!0},_e=function(e,t){return v(e,function(e){return!W(t,e)})},we=function(e){return 0===e.length?A.none():A.some(e[e.length-1])},Ce=le(Array.from)?Array.from:function(e){return ce.call(e)},ke=void 0!==$.window?$.window:Function("return this;")(),Te=function(e,t){for(var n=e.split("."),e=t,i=null!=e?e:ke,r=0;r<n.length&&null!=i;++r)i=i[n[r]];return i},Ee={getOrDie:function(e,t){t=Te(e,t);if(null==t)throw new Error(e+" not available on this browser");return t}},Se={createObjectURL:function(e){return V().createObjectURL(e)},revokeObjectURL:function(e){V().revokeObjectURL(e)}},e=$.navigator,t=e.userAgent,De=/Android/.test(t),n=/WebKit/.test(t),i=!n&&/MSIE/gi.test(t)&&/Explorer/gi.test(e.appName),e=(i=i&&/MSIE (\w+)\./.exec(t)[1],e=-1!==t.indexOf("Trident/")&&(-1!==t.indexOf("rv:")||-1!==e.appName.indexOf("Netscape"))&&11,wi=-1!==t.indexOf("Edge/")&&!i&&!e&&12,i=i||e||wi,!n&&!e&&/Gecko/.test(t)),Ne=-1!==t.indexOf("Mac"),Ae=/(iPad|iPhone)/.test(t),Pe="FormData"in $.window&&"FileReader"in $.window&&"URL"in $.window&&!!Se.createObjectURL,Re=Z("only screen and (max-device-width: 480px)")&&(De||Ae),Oe=Z("only screen and (min-width: 800px)")&&(De||Ae),Ie=-1!==t.indexOf("Windows Phone"),Y={opera:!1,webkit:n=wi?!1:n,ie:i,gecko:e,mac:Ne,iOS:Ae,android:De,contentEditable:!Ae||Pe||534<=parseInt(t.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==i,range:$.window.getSelection&&"Range"in $.window,documentMode:i&&!wi?$.document.documentMode||7:10,fileApi:Pe,ceFalse:!1===i||8<i,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===i||11<i,desktop:!Re&&!Oe,windowsPhone:Ie},Be=window.Promise||(ee=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},te=Fe.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},Fe.prototype.catch=function(e){return this.then(null,e)},Fe.prototype.then=function(n,i){var r=this;return new Fe(function(e,t){Le.call(r,new We(n,i,e,t))})},Fe.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&ee(arguments[0])?arguments[0]:arguments);return new Fe(function(r,o){if(0===a.length)return r([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){t(n,e)},o)}a[n]=e,0==--s&&r(a)}catch(e){o(e)}}(e,a[e])})},Fe.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Fe?t:new Fe(function(e){e(t)})},Fe.reject=function(n){return new Fe(function(e,t){t(n)})},Fe.race=function(r){return new Fe(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},Fe);function Me(e,t){return function(){e.apply(t,arguments)}}function Fe(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],qe(e,Me(He,this),Me(je,this))}function Le(n){var i=this;null===this._state?this._deferreds.push(n):te(function(){var e,t=i._state?n.onFulfilled:n.onRejected;if(null===t)(i._state?n.resolve:n.reject)(i._value);else{try{e=t(i._value)}catch(e){return void n.reject(e)}n.resolve(e)}})}function He(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void qe(Me(t,e),Me(He,this),Me(je,this))}this._state=!0,this._value=e,ze.call(this)}catch(e){je.call(this,e)}}function je(e){this._state=!1,this._value=e,ze.call(this)}function ze(){for(var e=0,t=this._deferreds.length;e<t;e++)Le.call(this,this._deferreds[e]);this._deferreds=null}function We(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function qe(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){i||(i=!0,n(e))}}function Ue(e,t){for(var n=$.window.requestAnimationFrame,i=["ms","moz","webkit"],r=0;r<i.length&&!n;r++)n=$.window[i[r]+"RequestAnimationFrame"];(n=n||function(e){$.window.setTimeout(e,0)})(e,t)}function Ve(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function $e(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function Ye(t,n){var i,e=function(){var e=arguments;clearTimeout(i),i=Ve(function(){t.apply(this,e)},n)};return e.stop=function(){clearTimeout(i)},e}function Xe(e,t){var n,i,r=t||{};for(n in e)Je[n]||(r[n]=e[n]);return r.target||(r.target=r.srcElement||$.document),Y.experimentalShadowDom&&(r.target=rt(e,r.target)),e&&Ge.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX&&(i=(t=r.target.ownerDocument||$.document).documentElement,t=t.body,r.pageX=e.clientX+(i&&i.scrollLeft||t&&t.scrollLeft||0)-(i&&i.clientLeft||t&&t.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||t&&t.scrollTop||0)-(i&&i.clientTop||t&&t.clientTop||0)),r.preventDefault=function(){r.isDefaultPrevented=tt,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=tt,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=tt,r.stopPropagation()})===Ze(r)&&(r.isDefaultPrevented=et,r.isPropagationStopped=et,r.isImmediatePropagationStopped=et),void 0===r.metaKey&&(r.metaKey=!1),r}function Qe(){function h(e,t){var n,i,r,o=(t=m[t])&&t[e.type];if(o)for(n=0,i=o.length;n<i;n++)if((r=o[n])&&!1===r.func.call(r.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var p=this,m={},g="mce-data-"+(+new Date).toString(32),v="onmouseenter"in $.document.documentElement,b="onfocusin"in $.document.documentElement,y={mouseenter:"mouseover",mouseleave:"mouseout"},x=1;p.domLoaded=!1,p.events=m,p.bind=function(e,t,n,i){function r(e){h(Xe(e||f.event),o)}var o,s,a,l,u,c,d,f=$.window;if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[g]?o=e[g]:(o=x++,e[g]=o,m[o]={}),i=i||e,a=(t=t.split(" ")).length;a--;)c=r,u=d=!1,"DOMContentLoaded"===(l=t[a])&&(l="ready"),p.domLoaded&&"ready"===l&&"complete"===e.readyState?n.call(i,Xe({type:l})):(v||(u=y[l])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Xe(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,h(e,o))}),b||"focusin"!==l&&"focusout"!==l||(d=!0,u="focusin"===l?"focus":"blur",c=function(e){(e=Xe(e||f.event)).type="focus"===e.type?"focusin":"focusout",h(e,o)}),(s=m[o][l])?"ready"===l&&p.domLoaded?n({type:l}):s.push({func:n,scope:i}):(m[o][l]=s=[{func:n,scope:i}],s.fakeName=u,s.capture=d,s.nativeHandler=c,"ready"===l?function(e,t,n){var i,r,o,s,a=e.document,l={type:"ready"};n.domLoaded?t(l):(i=function(){return"complete"===a.readyState||"interactive"===a.readyState&&a.body},r=function(){n.domLoaded||(n.domLoaded=!0,t(l))},o=function(){i()&&(it(a,"readystatechange",o),r())},s=function(){try{a.documentElement.doScroll("left")}catch(e){return void Ke.setTimeout(s)}r()},!a.addEventListener||Y.ie&&Y.ie<11?(nt(a,"readystatechange",o),a.documentElement.doScroll&&e.self===e.top&&s()):i()?r():nt(e,"DOMContentLoaded",r),nt(e,"load",r))}(e,c,p):nt(e,u||l,c,d)));return e=s=0,n}},p.unbind=function(t,e,n){var i,r,o,s,a,l,u,c,d;if(t&&3!==t.nodeType&&8!==t.nodeType&&(i=t[g])){if(a=m[i],e){for(r=(e=e.split(" ")).length;r--;)if(d=a[s=e[r]]){if(n)for(o=d.length;o--;)d[o].func===n&&(l=d.nativeHandler,u=d.fakeName,c=d.capture,(d=d.slice(0,o).concat(d.slice(o+1))).nativeHandler=l,d.fakeName=u,d.capture=c,a[s]=d);n&&0!==d.length||(delete a[s],it(t,d.fakeName||s,d.nativeHandler,d.capture))}}else{for(s in a)d=a[s],it(t,d.fakeName||s,d.nativeHandler,d.capture);a={}}for(s in a)return p;delete m[i];try{delete t[g]}catch(e){t[g]=null}}return p},p.fire=function(e,t,n){var i;if(e&&3!==e.nodeType&&8!==e.nodeType)for((n=Xe(null,n)).type=t,n.target=e;(i=e[g])&&h(n,i),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return p},p.clean=function(e){var t,n,i=p.unbind;if(e&&3!==e.nodeType&&8!==e.nodeType&&(e[g]&&i(e),(e=e.getElementsByTagName?e:e.document)&&e.getElementsByTagName))for(i(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[g]&&i(e);return p},p.destroy=function(){m={}},p.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var Ke={requestAnimationFrame:function(e,t){ne?ne.then(e):ne=new Be(function(e){t=t||$.document.body,Ue(e,t)}).then(e)},setTimeout:Ve,setInterval:$e,setEditorTimeout:function(e,t,n){return Ve(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var i=$e(function(){e.removed?clearInterval(i):t()},n);return i},debounce:Ye,throttle:Ye,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},Ge=/^(?:mouse|contextmenu)|click/,Je={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Ze=function(e){return e.isDefaultPrevented===tt||e.isDefaultPrevented===et},et=function(){return!1},tt=function(){return!0},nt=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},it=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},rt=function(e,t){if(e.composedPath){e=e.composedPath();if(e&&0<e.length)return e[0]}return t};(Qe.Event=new Qe).bind($.window,"ready",function(){});function ot(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}var st,d,x,at,lt,ut,ct,dt,ft,ht,pt,mt,gt,vt,bt,yt,xt,_t,_="sizzle"+-new Date,wt=$.window.document,Ct=0,kt=0,Tt=Kt(),Et=Kt(),St=Kt(),Dt=function(e,t){return e===t&&(pt=!0),0},Nt="undefined",At={}.hasOwnProperty,n=[],Pt=n.pop,Rt=n.push,Ot=n.push,It=n.slice,Bt=n.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},r="[\\x20\\t\\r\\n\\f]",e="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ne="\\["+r+"*("+e+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+e+"))|)"+r+"*\\]",De=":("+e+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ne+")*)|.*)\\)|)",Mt=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),Ft=new RegExp("^"+r+"*,"+r+"*"),Lt=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),Ht=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),jt=new RegExp(De),zt=new RegExp("^"+e+"$"),Wt={ID:new RegExp("^#("+e+")"),CLASS:new RegExp("^\\.("+e+")"),TAG:new RegExp("^("+e+"|[*])"),ATTR:new RegExp("^"+Ne),PSEUDO:new RegExp("^"+De),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},qt=/^(?:input|select|textarea|button)$/i,Ut=/^h\d$/i,Vt=/^[^{]+\{\s*\[native \w/,$t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yt=/[+~]/,Xt=/'|\\/g,Qt=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig");try{Ot.apply(n=It.call(wt.childNodes),wt.childNodes),n[wt.childNodes.length].nodeType}catch(e){Ot={apply:n.length?function(e,t){Rt.apply(e,It.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function X(e,t,n,i){var r,o,s,a,l,u,c;if((t?t.ownerDocument||t:wt)!==gt&&mt(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(r=(t=t||gt).nodeType)&&9!==r)return[];if(bt&&!i){if(u=$t.exec(e))if(c=u[1]){if(9===r){if(!(a=t.getElementById(c))||!a.parentNode)return n;if(a.id===c)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(c))&&_t(t,a)&&a.id===c)return n.push(a),n}else{if(u[2])return Ot.apply(n,t.getElementsByTagName(e)),n;if((c=u[3])&&d.getElementsByClassName)return Ot.apply(n,t.getElementsByClassName(c)),n}if(d.qsa&&(!yt||!yt.test(e))){if(l=a=_,u=t,c=9===r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(s=ut(e),(a=t.getAttribute("id"))?l=a.replace(Xt,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",o=s.length;o--;)s[o]=l+nn(s[o]);u=Yt.test(e)&&en(t.parentNode)||t,c=s.join(",")}if(c)try{return Ot.apply(n,u.querySelectorAll(c)),n}catch(e){}finally{a||t.removeAttribute("id")}}}return dt(e.replace(Mt,"$1"),t,n,i)}function Kt(){var n=[];function i(e,t){return n.push(e+" ")>x.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function Gt(e){return e[_]=!0,e}function Jt(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function Zt(s){return Gt(function(o){return o=+o,Gt(function(e,t){for(var n,i=s([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function en(e){return e&&typeof e.getElementsByTagName!==Nt&&e}for(st in d=X.support={},lt=X.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},mt=X.setDocument=function(e){var l=e?e.ownerDocument||e:wt,e=l.defaultView;return l!==gt&&9===l.nodeType&&l.documentElement?(vt=(gt=l).documentElement,bt=!lt(l),e&&e!==function(e){try{return e.top}catch(e){}return null}(e)&&(e.addEventListener?e.addEventListener("unload",function(){mt()},!1):e.attachEvent&&e.attachEvent("onunload",function(){mt()})),d.attributes=!0,d.getElementsByTagName=!0,d.getElementsByClassName=Vt.test(l.getElementsByClassName),d.getById=!0,x.find.ID=function(e,t){if(typeof t.getElementById!==Nt&&bt)return(t=t.getElementById(e))&&t.parentNode?[t]:[]},x.filter.ID=function(e){var t=e.replace(Qt,ot);return function(e){return e.getAttribute("id")===t}},x.find.TAG=d.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Nt)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},x.find.CLASS=d.getElementsByClassName&&function(e,t){if(bt)return t.getElementsByClassName(e)},xt=[],yt=[],d.disconnectedMatch=!0,yt=yt.length&&new RegExp(yt.join("|")),xt=xt.length&&new RegExp(xt.join("|")),e=Vt.test(vt.compareDocumentPosition),_t=e||Vt.test(vt.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Dt=e?function(e,t){var n;return e===t?(pt=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===wt&&_t(wt,e)?-1:t===l||t.ownerDocument===wt&&_t(wt,t)?1:ht?Bt.call(ht,e)-Bt.call(ht,t):0:4&n?-1:1)}:function(e,t){if(e===t)return pt=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:ht?Bt.call(ht,e)-Bt.call(ht,t):0;if(r===o)return Jt(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?Jt(s[i],a[i]):s[i]===wt?-1:a[i]===wt?1:0},l):gt},X.matches=function(e,t){return X(e,null,null,t)},X.matchesSelector=function(e,t){if((e.ownerDocument||e)!==gt&&mt(e),t=t.replace(Ht,"='$1']"),d.matchesSelector&&bt&&!(xt&&xt.test(t)||yt&&yt.test(t)))try{var n=(void 0).call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<X(t,gt,null,[e]).length},X.contains=function(e,t){return(e.ownerDocument||e)!==gt&&mt(e),_t(e,t)},X.attr=function(e,t){(e.ownerDocument||e)!==gt&&mt(e);var n=x.attrHandle[t.toLowerCase()],n=n&&At.call(x.attrHandle,t.toLowerCase())?n(e,t,!bt):void 0;return void 0!==n?n:d.attributes||!bt?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},X.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},X.uniqueSort=function(e){var t,n=[],i=0,r=0;if(pt=!d.detectDuplicates,ht=!d.sortStable&&e.slice(0),e.sort(Dt),pt){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return ht=null,e},at=X.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=at(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=at(t);return n},(x=X.selectors={cacheLength:50,createPseudo:Gt,match:Wt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Qt,ot),e[3]=(e[3]||e[4]||e[5]||"").replace(Qt,ot),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||X.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&X.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Wt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&jt.test(n)&&(t=(t=ut(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Qt,ot).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Tt[e+" "];return t||(t=new RegExp("(^|"+r+")"+e+"("+r+"|$)"))&&Tt(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Nt&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=X.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,s,a,l,u=g!=v?"nextSibling":"previousSibling",c=e.parentNode,d=b&&e.nodeName.toLowerCase(),f=!n&&!b;if(c){if(g){for(;u;){for(o=e;o=o[u];)if(b?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=u="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&f){for(a=(i=(r=c[_]||(c[_]={}))[h]||[])[0]===Ct&&i[1],s=i[0]===Ct&&i[2],o=a&&c.childNodes[a];o=++a&&o&&o[u]||(s=a=0,l.pop());)if(1===o.nodeType&&++s&&o===e){r[h]=[Ct,a,s];break}}else if(f&&(i=(e[_]||(e[_]={}))[h])&&i[0]===Ct)s=i[1];else for(;(o=++a&&o&&o[u]||(s=a=0,l.pop()))&&((b?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++s||(f&&((o[_]||(o[_]={}))[h]=[Ct,s]),o!==e)););return(s-=m)===p||s%p==0&&0<=s/p}}},PSEUDO:function(e,o){var t,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||X.error("unsupported pseudo: "+e);return s[_]?s(o):1<s.length?(t=[e,e,"",o],x.setFilters.hasOwnProperty(e.toLowerCase())?Gt(function(e,t){for(var n,i=s(e,o),r=i.length;r--;)e[n=Bt.call(e,i[r])]=!(t[n]=i[r])}):function(e){return s(e,0,t)}):s}},pseudos:{not:Gt(function(e){var i=[],r=[],a=ct(e.replace(Mt,"$1"));return a[_]?Gt(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,n){return i[0]=e,a(i,null,n,r),!r.pop()}}),has:Gt(function(t){return function(e){return 0<X(t,e).length}}),contains:Gt(function(t){return t=t.replace(Qt,ot),function(e){return-1<(e.textContent||e.innerText||at(e)).indexOf(t)}}),lang:Gt(function(n){return zt.test(n||"")||X.error("unsupported lang: "+n),n=n.replace(Qt,ot).toLowerCase(),function(e){var t;do{if(t=bt?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=$.window.location&&$.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===vt},focus:function(e){return e===gt.activeElement&&(!gt.hasFocus||gt.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return Ut.test(e.nodeName)},input:function(e){return qt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:Zt(function(){return[0]}),last:Zt(function(e,t){return[t-1]}),eq:Zt(function(e,t,n){return[n<0?n+t:n]}),even:Zt(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:Zt(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:Zt(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:Zt(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[st]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(st);for(st in{submit:!0,reset:!0})x.pseudos[st]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(st);function tn(){}function nn(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function rn(s,e,t){var a=e.dir,l=t&&"parentNode"===a,u=kt++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||l)return s(e,t,n)}:function(e,t,n){var i,r,o=[Ct,u];if(n){for(;e=e[a];)if((1===e.nodeType||l)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||l){if((i=(r=e[_]||(e[_]={}))[a])&&i[0]===Ct&&i[1]===u)return o[2]=i[2];if((r[a]=o)[2]=s(e,t,n))return!0}}}function on(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function sn(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)!(o=e[a])||n&&!n(o,i,r)||(s.push(o),u&&t.push(a));return s}function an(h,p,m,g,v,e){return g&&!g[_]&&(g=an(g)),v&&!v[_]&&(v=an(v,e)),Gt(function(e,t,n,i){var r,o,s,a=[],l=[],u=t.length,c=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)X(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!h||!e&&p?c:sn(c,a,h,n,i),f=m?v||(e?h:u||g)?[]:t:d;if(m&&m(d,f,n,i),g)for(r=sn(f,l),g(r,[],n,i),o=r.length;o--;)(s=r[o])&&(f[l[o]]=!(d[l[o]]=s));if(e){if(v||h){if(v){for(r=[],o=f.length;o--;)(s=f[o])&&r.push(d[o]=s);v(null,f=[],r,i)}for(o=f.length;o--;)(s=f[o])&&-1<(r=v?Bt.call(e,s):a[o])&&(e[r]=!(t[r]=s))}}else f=sn(f===t?f.splice(u,f.length):f),v?v(null,t,f,i):Ot.apply(t,f)})}function ln(g,v){function e(e,t,n,i,r){var o,s,a,l=0,u="0",c=e&&[],d=[],f=ft,h=e||y&&x.find.TAG("*",r),p=Ct+=null==f?1:Math.random()||.1,m=h.length;for(r&&(ft=t!==gt&&t);u!==m&&null!=(o=h[u]);u++){if(y&&o){for(s=0;a=g[s++];)if(a(o,t,n)){i.push(o);break}r&&(Ct=p)}b&&((o=!a&&o)&&l--,e&&c.push(o))}if(l+=u,b&&u!==l){for(s=0;a=v[s++];)a(c,d,t,n);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=Pt.call(i));d=sn(d)}Ot.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&X.uniqueSort(i)}return r&&(Ct=p,ft=f),c}var b=0<v.length,y=0<g.length;return b?Gt(e):e}tn.prototype=x.filters=x.pseudos,x.setFilters=new tn,ut=X.tokenize=function(e,t){var n,i,r,o,s,a,l,u=Et[e+" "];if(u)return t?0:u.slice(0);for(s=e,a=[],l=x.preFilter;s;){for(o in n&&!(i=Ft.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=Lt.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(Mt," ")}),s=s.slice(n.length)),x.filter)!(i=Wt[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?X.error(e):Et(e,a).slice(0)},ct=X.compile=function(e,t){var n,i=[],r=[],o=St[e+" "];if(!o){for(n=(t=t||ut(e)).length;n--;)((o=function e(t){for(var i,n,r,o=t.length,s=x.relative[t[0].type],a=s||x.relative[" "],l=s?1:0,u=rn(function(e){return e===i},a,!0),c=rn(function(e){return-1<Bt.call(i,e)},a,!0),d=[function(e,t,n){return!s&&(n||t!==ft)||((i=t).nodeType?u:c)(e,t,n)}];l<o;l++)if(n=x.relative[t[l].type])d=[rn(on(d),n)];else{if((n=x.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<o&&!x.relative[t[r].type];r++);return an(1<l&&on(d),1<l&&nn(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(Mt,"$1"),n,l<r&&e(t.slice(l,r)),r<o&&e(t=t.slice(r)),r<o&&nn(t))}d.push(n)}return on(d)}(t[n]))[_]?i:r).push(o);(o=St(e,ln(r,i))).selector=e}return o},dt=X.select=function(e,t,n,i){var r,o,s,a,l,u="function"==typeof e&&e,c=!i&&ut(e=u.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&d.getById&&9===t.nodeType&&bt&&x.relative[o[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(Qt,ot),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=Wt.needsContext.test(e)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(Qt,ot),Yt.test(o[0].type)&&en(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&nn(o))break;return Ot.apply(n,i),n}}return(u||ct(e,c))(i,t,!bt,n,Yt.test(e)&&en(t.parentNode)||t),n},d.sortStable=_.split("").sort(Dt).join("")===_,d.detectDuplicates=!!pt,mt(),d.sortDetached=!0;function un(e,t,n){var i,r;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1}function cn(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1}function dn(e){return null==e?"":(""+e).replace(Fn,"")}function fn(e,t){return t?!("array"!==t||!p.isArray(e))||typeof e===t:void 0!==e}function hn(e,n,i,r){r=r||this,e&&(i&&(e=e[i]),p.each(e,function(e,t){if(!1===n.call(r,e,t,i))return!1;hn(e,n,i,r)}))}function pn(e){return void 0!==e}function mn(e){return"string"==typeof e}function gn(e,t){var n,i=(t=t||Ln).createElement("div"),r=t.createDocumentFragment();for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return r}function vn(e,t,n,i){var r;if(mn(t))t=gn(t,Cn(e[0]));else if(t.length&&!t.nodeType){if(t=Q.makeArray(t),i)for(r=t.length-1;0<=r;r--)vn(e,t[r],n,i);else for(r=0;r<t.length;r++)vn(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function bn(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function yn(e,t,n){var i,r;return t=Q(t)[0],e.each(function(){n&&i===this.parentNode||(i=this.parentNode,r=t.cloneNode(!1),this.parentNode.insertBefore(r,this)),r.appendChild(this)}),e}function Q(e,t){return new Q.fn.init(e,t)}function xn(e){return null==e?"":(""+e).replace(Kn,"")}function _n(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e}function wn(e,n){var i=[];return _n(e,function(e,t){n(t,e)&&i.push(t)}),i}function Cn(e){return e?9===e.nodeType?e:e.ownerDocument:Ln}function kn(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof Q&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&Q(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i}function Tn(e,t,n,i){var r=[];for(i instanceof Q&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&Q(e).is(i))break}r.push(e)}return r}function En(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null}function Sn(n,i,e){_n(e,function(e,t){n[e]=n[e]||{},n[e][i]=t})}function Dn(){return Jn(0,0)}function Nn(e){var t=e.current;return{current:t,version:e.version,isEdge:ai(ti,t),isChrome:ai(ni,t),isIE:ai(ii,t),isOpera:ai(ri,t),isFirefox:ai(oi,t),isSafari:ai(si,t)}}function An(e){var t=e.current;return{current:t,version:e.version,isWindows:vi(ci,t),isiOS:vi(di,t),isAndroid:vi(fi,t),isOSX:vi(pi,t),isLinux:vi(hi,t),isSolaris:vi(mi,t),isFreeBSD:vi(gi,t)}}function Pn(e,t){var n=String(t).toLowerCase();return ge(e,function(e){return e.search(n)})}function Rn(e,t){return-1!==e.indexOf(t)}function On(e){return e.replace(/^\s+|\s+$/g,"")}function In(e){return e.replace(/\s+$/g,"")}function Bn(t){return function(e){return Rn(e,t)}}var Mn=Array.isArray,p={isArray:Mn,toArray:function(e){var t,n,i=e;if(!Mn(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:un,map:function(n,i){var r=[];return un(n,function(e,t){r.push(i(e,t,n))}),r},filter:function(n,i){var r=[];return un(n,function(e,t){i&&!i(e,t,n)||r.push(e)}),r},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},findIndex:cn,find:function(e,t,n){t=cn(e,t,n);if(-1!==t)return e[t]},last:function(e){return e[e.length-1]}},Fn=/^\s*|\s*$/g,K={trim:dn,isArray:p.isArray,is:fn,toArray:p.toArray,makeMap:function(e,t,n){var i;for(t=t||",",n=n||{},i=(e="string"==typeof(e=e||[])?e.split(t):e).length;i--;)n[e[i]]={};return n},each:p.each,map:p.map,grep:p.filter,inArray:p.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,i=2;i<arguments.length;i++)i-2,0;for(var r,o=arguments,s=1,a=o.length;s<a;s++)for(n in t=o[s])t.hasOwnProperty(n)&&void 0!==(r=t[n])&&(e[n]=r);return e},create:function(e,t,n){var i,r,o,s,a,l=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],(r=this.createNS(e[3].replace(/\.\w+$/,""),n))[o]||("static"===e[2]?(r[o]=t,this.onCreate&&this.onCreate(e[2],e[3],r[o])):(t[o]||(t[o]=function(){},l=1),r[o]=t[o],this.extend(r[o].prototype,t),e[5]&&(i=this.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=l?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],this.each(i,function(e,t){r[o].prototype[t]=i[t]}),this.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!==o&&(r[o].prototype[t]=e)})),this.each(t.static,function(e,t){r[o][t]=e})))},walk:hn,createNS:function(e,t){var n,i;for(t=t||$.window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||$.window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||fn(e,"array")?e:p.map(e.split(t||","),dn)},_addCacheSuffix:function(e){var t=Y.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Ln=$.document,Hn=Array.prototype.push,jn=Array.prototype.slice,zn=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Wn=Qe.Event,qn=K.makeMap("children,contents,next,prev"),Un=K.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Vn=K.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),$n={for:"htmlFor",class:"className",readonly:"readOnly"},Yn={float:"cssFloat"},Xn={},Qn={},Kn=/^\s*|\s*$/g,Gn=(Q.fn=Q.prototype={constructor:Q,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(e)if(e.nodeType)r.context=r[0]=e,r.length=1;else{if(t&&t.nodeType)r.context=t;else{if(t)return Q(e).attr(t);r.context=t=$.document}if(mn(e)){if(!(n="<"===(r.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:zn.exec(e)))return Q(t).find(e);if(n[1])for(i=gn(e,Cn(t)).firstChild;i;)Hn.call(r,i),i=i.nextSibling;else{if(!(i=Cn(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1)}return r},toArray:function(){return K.toArray(this)},add:function(e,t){var n,i;if(mn(e))return this.add(Q(e));if(!1!==t)for(n=Q.unique(this.toArray().concat(Q.makeArray(e))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else Hn.apply(this,Q.makeArray(e));return this},attr:function(t,n){var e,i=this;if("object"==typeof t)_n(t,function(e,t){i.attr(e,t)});else{if(!pn(n)){if(i[0]&&1===i[0].nodeType){if((e=Xn[t])&&e.get)return e.get(i[0],t);if(Vn[t])return i.prop(t)?t:void 0;null===(n=i[0].getAttribute(t,2))&&(n=void 0)}return n}this.each(function(){var e;1===this.nodeType&&((e=Xn[t])&&e.set?e.set(this,n):null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2))})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=$n[e]||e))_n(e,function(e,t){n.prop(e,t)});else{if(!pn(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(t,n){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var r,o,s=this;if("object"==typeof t)_n(t,function(e,t){s.css(e,t)});else if(pn(n))t=e(t),"number"!=typeof n||Un[t]||(n=n.toString()+"px"),s.each(function(){var e=this.style;if((o=Qn[t])&&o.set)o.set(this,n);else{try{this.style[Yn[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(i(t)):e.removeAttribute(t))}});else{if(r=s[0],(o=Qn[t])&&o.get)return o.get(r);if(!r.ownerDocument.defaultView)return r.currentStyle?r.currentStyle[e(t)]:"";try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(t))}catch(e){return}}return s},remove:function(){for(var e,t=this.length;t--;)e=this[t],Wn.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n;if(pn(t)){n=this.length;try{for(;n--;)this[n].innerHTML=t}catch(e){Q(this[n]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(pn(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return vn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return vn(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?vn(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?vn(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return Q(e).append(this),this},prependTo:function(e){return Q(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return yn(this,e)},wrapAll:function(e){return yn(this,e,!0)},wrapInner:function(e){return this.each(function(){Q(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Q(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Q(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(r,o){var e=this;return"string"==typeof r&&(-1!==r.indexOf(" ")?_n(r.split(" "),function(){e.toggleClass(this,o)}):e.each(function(e,t){var n,i=bn(t,r);i!==o&&(n=t.className,i?t.className=xn((" "+n+" ").replace(" "+r+" "," ")):t.className+=n?" "+r:r)})),e},hasClass:function(e){return bn(this[0],e)},each:function(e){return _n(this,e)},on:function(e,t){return this.each(function(){Wn.bind(this,e,t)})},off:function(e,t){return this.each(function(){Wn.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Wn.fire(this,e.type,e):Wn.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Q(jn.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,i=this.length;n<i;n++)Q.find(e,this[n],t);return Q(t)},filter:function(n){return Q("function"==typeof n?wn(this.toArray(),function(e,t){return n(t,e)}):Q.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof Q&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&Q(t).is(n)){i.push(t);break}if(t===n){i.push(t);break}t=t.parentNode}}),Q(i)},offset:function(e){var t,n,i=0,r=0;return e?this.css(e):((e=this[0])&&(n=(t=e.ownerDocument).documentElement,e.getBoundingClientRect&&(i=(e=e.getBoundingClientRect()).left+(n.scrollLeft||t.body.scrollLeft)-n.clientLeft,r=e.top+(n.scrollTop||t.body.scrollTop)-n.clientTop)),{left:i,top:r})},push:Hn,sort:[].sort,splice:[].splice},K.extend(Q,{extend:K.extend,makeArray:function(e){var t;return(t=e)&&t===t.window||e.nodeType?[e]:K.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:K.isArray,each:_n,trim:xn,grep:wn,find:X,expr:X.selectors,unique:X.uniqueSort,text:X.getText,contains:X.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!==t[i].nodeType&&t.splice(i,1);return t=1===t.length?Q.find.matchesSelector(t[0],e)?[t[0]]:[]:Q.find.matches(e,t)}}),_n({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return kn(e,"parentNode")},next:function(e){return En(e,"nextSibling",1)},prev:function(e){return En(e,"previousSibling",1)},children:function(e){return Tn(e.firstChild,"nextSibling",1)},contents:function(e){return K.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,i){Q.fn[e]=function(t){var n=[];return this.each(function(){var e=i.call(n,this,t,n);e&&(Q.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(qn[e]||(n=Q.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=Q(n),t?n.filter(t):n}}),_n({parentsUntil:function(e,t){return kn(e,"parentNode",t)},nextUntil:function(e,t){return Tn(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Tn(e,"previousSibling",1,t).slice(1)}},function(i,r){Q.fn[i]=function(t,e){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(Q.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=Q.unique(n),0!==i.indexOf("parents")&&"prevUntil"!==i||(n=n.reverse())),n=Q(n),e?n.filter(e):n}}),Q.fn.is=function(e){return!!e&&0<this.filter(e).length},Q.fn.init.prototype=Q.fn,Q.overrideDefaults=function(n){function i(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t=t||r.context,new i.fn.init(e,t)}var r;return Q.extend(i,this),i},Y.ie&&Y.ie<8&&(Sn(Xn,"get",{maxlength:function(e){e=e.maxLength;if(2147483647!==e)return e},size:function(e){e=e.size;if(20!==e)return e},class:function(e){return e.className},style:function(e){e=e.style.cssText;if(0!==e.length)return e}}),Sn(Xn,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),Y.ie&&Y.ie<9&&(Yn.float="styleFloat",Sn(Qn,"set",{opacity:function(e,t){e=e.style;null===t||""===t?e.removeAttribute("filter"):(e.zoom=1,e.filter="alpha(opacity="+100*t+")")}})),Q.attrHooks=Xn,Q.cssHooks=Qn,function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}),Jn=function(e,t){return{major:e,minor:t}},Zn=function(e,t){var n,i,t=String(t).toLowerCase();return 0===e.length?Dn():(i=Gn(e=e,n=t))?Jn((e=function(e){return Number(n.replace(i,"$"+e))})(1),e(2)):{major:0,minor:0}},ei=Dn,ti="Edge",ni="Chrome",ii="IE",ri="Opera",oi="Firefox",si="Safari",ai=function(e,t){return function(){return t===e}},li=function(){return Nn({current:void 0,version:ei()})},ui=Nn,ci=(b(ti),b(ni),b(ii),b(ri),b(oi),b(si),"Windows"),di="iOS",fi="Android",hi="Linux",pi="OSX",mi="Solaris",gi="FreeBSD",vi=function(e,t){return function(){return t===e}},bi=function(){return An({current:void 0,version:ei()})},yi=An,xi=(b(ci),b(di),b(fi),b(hi),b(pi),b(mi),b(gi),function(e,n){return Pn(e,n).map(function(e){var t=Zn(e.versionRegexes,n);return{current:e.name,version:t}})}),_i=function(e,n){return Pn(e,n).map(function(e){var t=Zn(e.versionRegexes,n);return{current:e.name,version:t}})},Ae=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Rn(e,"edge/")&&Rn(e,"chrome")&&Rn(e,"safari")&&Rn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ae],search:function(e){return Rn(e,"chrome")&&!Rn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Rn(e,"msie")||Rn(e,"trident")}},{name:"Opera",versionRegexes:[Ae,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Bn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Bn("firefox")},{name:"Safari",versionRegexes:[Ae,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Rn(e,"safari")||Rn(e,"mobile/"))&&Rn(e,"applewebkit")}}],wi=[{name:"Windows",search:Bn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Rn(e,"iphone")||Rn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Bn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Bn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Bn("linux"),versionRegexes:[]},{name:"Solaris",search:Bn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Bn("freebsd"),versionRegexes:[]}],Ci={browsers:b(t),oses:b(wi)},ki=function(e){var t,n,i,r,o,s,a,l=Ci.browsers(),u=Ci.oses(),l=xi(l,e).fold(li,ui),u=_i(u,e).fold(bi,yi),e=(n=l,e=e,i=(t=u).isiOS()&&!0===/ipad/i.test(e),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,o=i||o||s&&!0===/mobile/i.test(e),s=t.isiOS()||t.isAndroid(),a=s&&!o,n=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),{isiPad:b(i),isiPhone:b(r),isTablet:b(o),isPhone:b(a),isTouch:b(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:b(n)});return{browser:l,os:u,deviceType:e}};Yi=!(Vi=function(){var e=$.navigator.userAgent;return ki(e)});function Ti(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:b(e)}}function Ei(t){return function(e){return e.dom().nodeType===t}}function Si(e,n){var i={},r={};return rr(e,function(e,t){(n(e,t)?i:r)[t]=e}),{t:i,f:r}}function Di(e){return void 0!==e.style&&le(e.style.getPropertyValue)}function Ni(e,t,n){if(!(ie(n)||ae(n)||ue(n)))throw $.console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}function Ai(e,t){var n=e.dom();rr(t,function(e,t){Ni(n,t,e)})}function Pi(e,t){return null===(e=e.dom().getAttribute(t))?void 0:e}function Ri(e,t){var i=e.dom();rr(t,function(e,t){var n=i;if(!ie(e))throw $.console.error("Invalid call to CSS.set. Property ",t,":: Value ",e,":: Element ",n),new Error("CSS value must be a string: "+e);Di(n)&&n.style.setProperty(t,e)})}function Oi(e,t){var n=e.dom(),i=$.window.getComputedStyle(n).getPropertyValue(t);return null===(e=""!==i||ar(e)?i:cr(n,t))?void 0:e}function Ii(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var i={};return w(t,function(e,t){i[e]=b(n[t])}),i}}function Bi(){return Ee.getOrDie("Node")}function Mi(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}function Fi(e){return e.nodeType!==pr&&e.nodeType!==mr||0===e.childElementCount}function Li(e){return j.fromDom(e.dom().ownerDocument)}function Hi(e){return Er(e,0)}function ji(e){return Er(e,e.dom().childNodes.length-1)}function zi(e){function i(e){t()?o(e):r.push(e)}function t(){return n.isSome()}var n=A.none(),r=[],o=function(t){n.each(function(e){$.setTimeout(function(){t(e)},0)})};return e(function(e){n=A.some(e),w(r,o),r=[]}),{get:i,map:function(n){return zi(function(t){i(function(e){t(n(e))})})},isReady:t}}function Wi(s,e){return e(function(i){var r=[],o=0;0===s.length?i([]):w(s,function(e,t){var n;e.get((n=t,function(e){r[n]=e,++o>=s.length&&i(r)}))})})}function qi(n){return{is:function(e){return n===e},isValue:O,isError:R,getOr:b(n),getOrThunk:b(n),getOrDie:b(n),or:function(e){return qi(n)},orThunk:function(e){return qi(n)},fold:function(e,t){return t(n)},map:function(e){return qi(e(n))},mapError:function(e){return qi(n)},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOption:function(){return A.some(n)}}}function Ui(n){return{is:R,isValue:R,isError:O,getOr:l,getOrThunk:function(e){return e()},getOrDie:function(){throw e=String(n),new Error(e);var e},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return Ui(n)},mapError:function(e){return Ui(e(n))},each:o,bind:function(e){return Ui(n)},exists:R,forall:O,toOption:A.none}}var Vi,$i,Yi,Xi,Qi,Ki,Gi,Ji={detect:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Yi||(Yi=!0,$i=Vi.apply(null,e)),$i}},j={fromHtml:function(e,t){t=(t||$.document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw $.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ti(t.childNodes[0])},fromTag:function(e,t){t=(t||$.document).createElement(e);return Ti(t)},fromText:function(e,t){t=(t||$.document).createTextNode(e);return Ti(t)},fromDom:Ti,fromPoint:function(e,t,n){e=e.dom();return A.from(e.elementFromPoint(t,n)).map(Ti)}},Pe=($.Node.ATTRIBUTE_NODE,$.Node.CDATA_SECTION_NODE,$.Node.COMMENT_NODE,$.Node.DOCUMENT_NODE),i=($.Node.DOCUMENT_TYPE_NODE,$.Node.DOCUMENT_FRAGMENT_NODE,$.Node.ELEMENT_NODE),Re=$.Node.TEXT_NODE,Zi=($.Node.PROCESSING_INSTRUCTION_NODE,$.Node.ENTITY_REFERENCE_NODE,$.Node.ENTITY_NODE,$.Node.NOTATION_NODE,function(e){return e.dom().nodeName.toLowerCase()}),er=Ei(i),tr=Ei(Re),nr=Object.keys,ir=Object.hasOwnProperty,rr=function(e,t){for(var n=nr(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o)}},or=function(e,n){return i=function(e,t){return{k:t,v:n(e,t)}},r={},rr(e,function(e,t){e=i(e,t);r[e.k]=e.v}),r;var i,r},sr=function(e,t){return ir.call(e,t)},ar=function(e){e=tr(e)?e.dom().parentNode:e.dom();return null!=e&&e.ownerDocument.body.contains(e)},lr=function(e,t,n){Ni(e.dom(),t,n)},ur=function(e,t){e.dom().removeAttribute(t)},cr=function(e,t){return Di(e)?e.style.getPropertyValue(t):""},dr=function(e,t){e=e.dom(),e=cr(e,t);return A.from(e).filter(function(e){return 0<e.length})},fr=function(e,t){for(var n=[],i=function(e){return n.push(e),t(e)},r=t(e);(r=r.bind(i)).isSome(););return n},hr=function(e,t){return Mi(e,t,Bi().DOCUMENT_POSITION_CONTAINED_BY)},pr=i,mr=Pe,gr=function(e,t){e=e.dom();if(e.nodeType!==pr)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},vr=function(e,t){t=void 0===t?$.document:t.dom();return Fi(t)?[]:y(t.querySelectorAll(e),j.fromDom)},f=function(e,t){return e.dom()===t.dom()},br=Ji.detect().browser.isIE()?function(e,t){return hr(e.dom(),t.dom())}:function(e,t){e=e.dom(),t=t.dom();return e!==t&&e.contains(t)},yr=function(e){return j.fromDom(e.dom().ownerDocument.defaultView)},xr=function(e){return A.from(e.dom().parentNode).map(j.fromDom)},_r=function(e){return A.from(e.dom().previousSibling).map(j.fromDom)},wr=function(e){return A.from(e.dom().nextSibling).map(j.fromDom)},Cr=function(e){e=fr(e,_r);return(e=ce.call(e,0)).reverse(),e},kr=function(e){return fr(e,wr)},Tr=function(e){return y(e.dom().childNodes,j.fromDom)},Er=function(e,t){e=e.dom().childNodes;return A.from(e[t]).map(j.fromDom)},Sr=(Ii("element","offset"),Ji.detect().browser),Dr=function(e){return ge(e,er)},Nr=function(e,t,n){var i,r,o=0,s=0,a=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Oi(j.fromDom(e),"position"))return{x:o=(r=t.getBoundingClientRect()).left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,y:s=r.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop};for(i=t;i&&i!==n&&i.nodeType;)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType;)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=(r=j.fromDom(t),Sr.isFirefox()&&"table"===Zi(r)?Dr(Tr(r)).filter(function(e){return"caption"===Zi(e)}).bind(function(i){return Dr(kr(i)).map(function(e){var e=e.dom().offsetTop,t=i.dom().offsetTop,n=i.dom().offsetHeight;return e<=t?-n:0})}).getOr(0):0)}return{x:o,y:s}},Oe={},Ie={exports:Oe},Ar=(Qi=Oe,Ki=Ie,Gi=Xi=void 0,function(e){"object"==typeof Qi&&void 0!==Ki?Ki.exports=e():"function"==typeof Xi&&Xi.amd?Xi([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function i(r,o,s){function a(t,e){if(!o[t]){if(!r[t]){var n="function"==typeof Gi&&Gi;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,i,r,o,s)}return o[t].exports}for(var l="function"==typeof Gi&&Gi,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,r,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return(i=setTimeout)(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){for(var e=a(f),t=(c=!0,u.length);t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,!function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return(r=clearTimeout)(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],2:[function(e,d,t){!function(t){function i(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(n,i){for(;3===n._state;)n=n._value;0===n._state?n._deferreds.push(i):(n._handled=!0,o._immediateFn(function(){var e,t=1===n._state?i.onFulfilled:i.onRejected;if(null===t)(1===n._state?s:a)(i.promise,n._value);else{try{e=t(n._value)}catch(e){return void a(i.promise,e)}s(i.promise,e)}}))}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void c((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){a(t,e)}var i,r}function a(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){n||(n=!0,a(t,e))}}var e,n;e=this,n=setTimeout,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new u(e,t,n)),n},o.all=function(e){var a=Array.prototype.slice.call(e);return new o(function(r,o){if(0===a.length)return r([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){t(n,e)},o)}a[n]=e,0==--s&&r(a)}catch(e){o(e)}}(e,a[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o._immediateFn="function"==typeof t?function(e){t(e)}:function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==d&&d.exports?d.exports=o:e.Promise||(e.Promise=o)}.call(this,e("timers").setImmediate)},{timers:3}],3:[function(l,e,u){!function(e,t){var i=l("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,o={},s=0;function a(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new a(n.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new a(n.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=s++,n=!(arguments.length<2)&&r.call(arguments,1);return o[t]=!0,i(function(){o[t]&&(n?e.apply(null,n):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete o[e]}}.call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var e=e("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:i.Promise||e}},{"promise-polyfill":2}]},{},[4])(4)}),Ie.exports.boltExport),Pr={nu:zi,pure:function(t){return zi(function(e){e(t)})}},Rr=function(e){$.setTimeout(function(){throw e},0)},Or=function(n){function e(e){n().then(e,Rr)}return{map:function(e){return Or(function(){return n().then(e)})},bind:function(t){return Or(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return Or(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return Pr.nu(e)},toCached:function(){var e=null;return Or(function(){return e=null===e?n():e})},toPromise:n,get:e}},Ir={nu:function(e){return Or(function(){return new Ar(e)})},pure:function(e){return Or(function(){return Ar.resolve(e)})}},Br=function(e){return Wi(e,Ir.nu)},Mr={value:qi,error:Ui,fromOption:function(e,t){return e.fold(function(){return Ui(t)},qi)}};function Fr(f,h){function p(e){f.getElementsByTagName("head")[0].appendChild(e)}function i(t){return Ir.nu(function(e){n(t,a(e,b(Mr.value(t))),a(e,b(Mr.error(t))))})}function r(e){return e.fold(l,l)}var m=0,g={},v=(h=void 0===h?{}:h).maxLoadTime||5e3,n=function(e,t,n){function i(){for(var e=c.passed,t=e.length;t--;)e[t]();c.status=2,c.passed=[],c.failed=[]}function r(e,t){e()||((new Date).getTime()-u<v?Ke.setTimeout(t):d())}function o(){r(function(){for(var e,t=f.styleSheets,n=t.length;n--;)if((e=(e=t[n]).ownerNode||e.owningElement)&&e.id===a.id)return i(),1},o)}function s(){r(function(){try{var e=l.sheet.cssRules;return i(),e}catch(e){}},s)}var a,l,u,c,d=function(){for(var e=c.failed,t=e.length;t--;)e[t]();c.status=3,c.passed=[],c.failed=[]};if(e=K._addCacheSuffix(e),g[e]?c=g[e]:(c={passed:[],failed:[]},g[e]=c),t&&c.passed.push(t),n&&c.failed.push(n),1!==c.status)if(2===c.status)i();else if(3===c.status)d();else{if(c.status=1,(a=f.createElement("link")).rel="stylesheet",a.type="text/css",a.id="u"+m++,a.async=!1,a.defer=!1,u=(new Date).getTime(),h.contentCssCors&&(a.crossOrigin="anonymous"),"onload"in a&&!((t=$.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(t[1],10)<536))a.onload=o,a.onerror=d;else{if(0<$.navigator.userAgent.indexOf("Firefox"))return(l=f.createElement("style")).textContent='@import "'+e+'"',s(),void p(l);o()}p(a),a.href=e}};return{load:n,loadAll:function(e,t,n){Br(y(e,i)).get(function(e){e=pe(e,function(e){return e.isValue()});0<e.fail.length?n(e.fail.map(r)):t(e.pass.map(r))})}}}function G(e,s){function t(e,t,n,i){var r,o;if(e){if(!i&&e[t])return e[t];if(e!==s){if(r=e[n])return r;for(o=e.parentNode;o&&o!==s;o=o.parentNode)if(r=o[n])return r}}}var n=e;this.current=function(){return n},this.next=function(e){return n=t(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=t(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,t,n,i){var r;if(e&&(n=e[n],!s||n!==s)){if(n){if(!i)for(r=n[t];r;r=r[t])if(!r[t])return r;return n}return(i=e.parentNode)&&i!==s?i:void 0}}(n,"lastChild","previousSibling",e)}}function Lr(t){var n;return function(e){return(n=n||function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];n[String(o)]=t(o,i)}return n}(t,b(!0))).hasOwnProperty(Zi(e))}}function Hr(e){return er(e)&&!Kr(e)}function jr(t){return function(e){return!!e&&e.nodeType===t}}function zr(e){var i=e.toLowerCase().split(" ");return function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<i.length;t++)if(n===i[t])return!0;return!1}}function Wr(t){return function(e){if(oo(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}function qr(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}function Ur(e,t){var n,i,r=t.childNodes;if(!J.isElement(t)||!qr(t)){for(n=r.length-1;0<=n;n--)Ur(e,r[n]);if(!1===J.isDocument(t)){if(J.isText(t)&&0<t.nodeValue.length){var o=K.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<o)return;if(0===o&&(i=(o=t).previousSibling&&"SPAN"===o.previousSibling.nodeName,o=o.nextSibling&&"SPAN"===o.nextSibling.nodeName,i&&o))return}else if(J.isElement(t)&&(1===(r=t.childNodes).length&&qr(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||to(j.fromDom(t))))return;e.remove(t)}return t}}function Vr(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),po[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}}function $r(e,t){return e.replace(t?lo:uo,function(e){return po[e]||e})}function Yr(e,t){return e.replace(t?lo:uo,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":po[e]||"&#"+e.charCodeAt(0)+";"})}function Xr(e,t,n){return n=n||go,e.replace(t?lo:uo,function(e){return po[e]||n[e]||e})}var Qr=Lr(["h1","h2","h3","h4","h5","h6"]),Kr=Lr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Gr=function(e){return er(e)&&"br"===Zi(e)},Jr=Lr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Zr=Lr(["ul","ol","dl"]),eo=Lr(["li","dd","dt"]),to=Lr(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),no=Lr(["thead","tbody","tfoot"]),io=Lr(["td","th"]),ro=Lr(["pre","script","textarea","style"]),oo=jr(1),e=jr(3),Ne=jr(8),De=jr(9),n=jr(11),Ae=zr("br"),t=Wr("true"),wi=Wr("false"),J={isText:e,isElement:oo,isComment:Ne,isDocument:De,isDocumentFragment:n,isBr:Ae,isContentEditableTrue:t,isContentEditableFalse:wi,isRestrictedNode:function(e){return!!e&&!Object.getPrototypeOf(e)},matchNodeNames:zr,hasPropValue:function(t,n){return function(e){return oo(e)&&e[t]===n}},hasAttribute:function(t,e){return function(e){return oo(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,n){return function(e){return oo(e)&&e.getAttribute(t)===n}},matchStyleValues:function(i,e){var r=e.toLowerCase().split(" ");return function(e){var t;if(oo(e))for(t=0;t<r.length;t++){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if((n?n.getPropertyValue(i):null)===r[t])return!0}return!1}},isBogus:function(e){return oo(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return oo(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return oo(e)&&"TABLE"===e.tagName}},so=Ur,ao=K.makeMap,lo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,co=/[<>&\"\']/g,fo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ho={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},po={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},mo={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},go=Vr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),vo={encodeRaw:$r,encodeAllRaw:function(e){return(""+e).replace(co,function(e){return po[e]||e})},encodeNumeric:Yr,encodeNamed:Xr,getEncodeFunc:function(e,t){var n=Vr(t)||go,e=ao(e.replace(/\+/g,","));return e.named&&e.numeric?function(e,t){return e.replace(t?lo:uo,function(e){return void 0!==po[e]?po[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:e.named?t?function(e,t){return Xr(e,t,n)}:Xr:e.numeric?Yr:$r},decode:function(e){return e.replace(fo,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ho[t]||String.fromCharCode(t):mo[e]||go[e]||(t=e,(e=j.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t)})}},bo={},yo={},xo=K.makeMap,E=K.each,_o=K.extend,wo=K.explode,Co=K.inArray,S=function(e,t){return(e=K.trim(e))?e.split(t||" "):[]},ko=function(e){function t(e,t,n){function i(e,t){for(var n={},i=0,r=e.length;i<r;i++)n[e[i]]=t||{};return n}var r,o;for(t=t||"","string"==typeof(n=n||[])&&(n=S(n)),r=(e=S(e)).length;r--;)o={attributes:i(o=S([s,t].join(" "))),attributesOrder:o,children:i(n,yo)},l[e[r]]=o}function n(e,t){var n,i,r,o=(e=S(e)).length;for(t=S(t);o--;)for(n=l[e[o]],i=0,r=t.length;i<r;i++)n.attributes[t[i]]={},n.attributesOrder.push(t[i])}var s,i,r,o,a,l={};return bo[e]||(s="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(s+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),E(S(a),function(e){t(e,"",r)}),i=[i,a="center dir isindex noframes"].join(" "),o=[i,r].join(" "),E(S(a),function(e){t(e,"",o)})),o=o||[i,r].join(" "),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),t("address dt dd div caption","",o),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),t("blockquote","cite",o),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",o),t("dl","","dt dd"),t("a","href target rel media hreflang type",r),t("q","cite",r),t("ins del","cite datetime",o),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",o),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),t("param","name value"),t("map","name",[o,"area"].join(" ")),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",o),t("th","colspan rowspan headers scope abbr",o),t("form","accept-charset action autocomplete enctype method name novalidate target",o),t("fieldset","disabled form name",[o,"legend"].join(" ")),t("label","form for",r),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",[o,"li"].join(" ")),t("noscript","",o),"html4"!==e&&(t("wbr"),t("ruby","",[r,"rt rp"].join(" ")),t("figcaption","",o),t("mark rt rp summary bdi","",r),t("canvas","width height",o),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",[r,"option"].join(" ")),t("article section nav aside main header footer","",o),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",[o,"figcaption"].join(" ")),t("time","datetime",r),t("dialog","open",o),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",r),t("progress","value max",r),t("meter","value min max low high optimum",r),t("details","open",[o,"summary"].join(" ")),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select","onchange"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!==e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("iframe","sandbox seamless allowfullscreen")),E(S("a form meter progress dfn"),function(e){l[e]&&delete l[e].children[e]}),delete l.caption.children.table,delete l.script,bo[e]=l)},To=function(e,n){var i;return e&&(i={},E(e="string"==typeof e?{"*":e}:e,function(e,t){i[t]=i[t.toUpperCase()]=("map"===n?xo:wo)(e,/[, ]/)})),i};function Eo(r){function e(e,t,n){var i=r[e];return i?i=xo(i,/[, ]/,xo(i.toUpperCase(),/[, ]/)):(i=bo[e])||(i=xo(t," ",xo(t.toUpperCase()," ")),i=_o(i,n),bo[e]=i),i}function t(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g,v,b,y,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e)for(e=S(e,","),C["@"]&&(g=C["@"].attributes,v=C["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=x.exec(e[t])){if(p=o[1],u=o[2],m=o[3],l=o[5],s={attributes:f={},attributesOrder:h=[]},"#"===p&&(s.paddEmpty=!0),"-"===p&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),g){for(b in g)f[b]=g[b];h.push.apply(h,v)}if(l)for(i=0,r=(l=S(l,"|")).length;i<r;i++)(o=_.exec(l[i]))&&(a={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),p=o[3],y=o[4],"!"===d&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===d?(delete f[c],h.splice(Co(h,c),1)):(p&&("="===p&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:y}),a.defaultValue=y),":"===p&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:y}),a.forcedValue=y),"<"===p&&(a.validValues=xo(y,"?"))),w.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=T(c),s.attributePatterns.push(a)):(f[c]||h.push(c),f[c]=a)));g||"@"!==u||(g=f,v=h),m&&(s.outputName=u,C[m]=s),w.test(u)?(s.pattern=T(u),k.push(s)):C[u]=s}}function n(e){C={},k=[],t(e),E(u,function(e,t){x[t]=e.children})}function i(e){var r=/^(~)?(.+)$/;e&&(bo.text_block_elements=bo.block_elements=null,E(S(e,","),function(e){var e=r.exec(e),t="~"===e[1],n=t?"span":"div",i=e[2];x[i]=x[n],_[i]=n,t||(m[i.toUpperCase()]={},m[i]={}),C[i]||(e=C[n],delete(e=_o({},e)).removeEmptyAttrs,delete e.removeEmpty,C[i]=e),E(x,function(e,t){e[n]&&(x[t]=e=_o({},x[t]),e[i]=e[n])})}))}function o(e){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;bo[r.schema]=null,e&&E(S(e,","),function(e){var t,n,e=i.exec(e);e&&(n=e[1],t=n?x[e[2]]:x[e[2]]={"#comment":{}},t=x[e[2]],E(S(e[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function s(e){var t,n=C[e];if(n)return n;for(t=k.length;t--;)if((n=k[t]).pattern.test(e))return n}var a,l,u,c,d,f,h,p,m,g,v,b,y,C={},x={},k=[],_={},w={},T=(u=ko((r=r||{}).schema),!1===r.verify_html&&(r.valid_elements="*[*]"),a=To(r.valid_styles),l=To(r.invalid_styles,"map"),p=To(r.valid_classes,"map"),c=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g=e("non_empty_elements","td th iframe video audio object script pre code",f),v=e("move_caret_before_on_enter_elements","table",g),b=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),m=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",b),y=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),E((r.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){w[e]=new RegExp("</"+e+"[^>]*>","gi")}),function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")});r.valid_elements?n(r.valid_elements):(E(u,function(e,t){C[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},x[t]=e.children}),"html5"!==r.schema&&E(S("strong/b em/i"),function(e){e=S(e,"/"),C[e[1]].outputName=e[0]}),E(S("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){C[e]&&(C[e].removeEmpty=!0)}),E(S("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){C[e].paddEmpty=!0}),E(S("span"),function(e){C[e].removeEmptyAttrs=!0})),i(r.custom_elements),o(r.valid_children),t(r.extended_valid_elements),o("+ol[ul|ol],+ul[ul|ol]"),E({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){C[t]&&(C[t].parentsRequired=S(e))}),r.invalid_elements&&E(wo(r.invalid_elements),function(e){C[e]&&delete C[e]}),s("span")||t("span[!data-mce-type|*]");return{children:x,elements:C,getValidStyles:function(){return a},getValidClasses:function(){return p},getBlockElements:function(){return m},getInvalidStyles:function(){return l},getShortEndedElements:function(){return f},getTextBlockElements:function(){return b},getTextInlineElements:function(){return y},getBoolAttrs:function(){return h},getElementRule:s,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return g},getMoveCaretBeforeOnEnterElements:function(){return v},getWhiteSpaceElements:function(){return c},getSpecialElements:function(){return w},isValidChild:function(e,t){e=x[e.toLowerCase()];return!(!e||!e[t.toLowerCase()])},isValid:function(e,t){var n,i,r=s(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},getCustomElements:function(){return _},addValidElements:t,setValidElements:n,addCustomElements:i,addValidChildren:o}}var So=function(e,t,n,i){function r(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+r(t)+r(n)+r(i)};function Do(b,e){var y,t,u,c,x=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,_=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,w=/\s*([^:]+):\s*([^;]+);?/g,C=/\s+$/,k={},T="\ufeff";for(b=b||{},e&&(u=e.getValidStyles(),c=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+T).split(" "),y=0;y<t.length;y++)k[t[y]]=T+y,k[T+y]=t[y];return{toHex:function(e){return e.replace(x,So)},parse:function(e){function t(e,t,n){var i,r,o,s=f[e+"-top"+t];if(s&&(i=f[e+"-right"+t])&&(r=f[e+"-bottom"+t])&&(o=f[e+"-left"+t])){var a=[s,i,r,o];for(y=a.length-1;y--&&a[y]===a[y+1];);-1<y&&n||(f[e+t]=-1===y?a[0]:a.join(" "),delete f[e+"-top"+t],delete f[e+"-right"+t],delete f[e+"-bottom"+t],delete f[e+"-left"+t])}}function n(e){return a=!0,k[e]}function i(e){return e.replace(/\\[0-9a-f]+/gi,v)}function r(e,t,n,i,r,o){if(r=r||o)return"'"+(r=g(r)).replace(/\'/g,"\\'")+"'";if(t=g(t||n||i),!b.allow_script_urls){o=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(o))return"";if(!b.allow_svg_data_urls&&/^data:image\/svg/i.test(o))return""}return"url('"+(t=h?h.call(p,t,"style"):t).replace(/\'/g,"\\'")+"')"}var o,s,a,l,u,c,d,f={},h=b.url_converter,p=b.url_converter_scope||this,m=function(e){var t,n=f[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return f[e]=n[0],!0}},g=function(e,t){return a&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return k[e]})),e=t?e:e.replace(/\\([\'\";:])/g,"$1")},v=function(e){return String.fromCharCode(parseInt(e.slice(1),16))};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,n)});s=w.exec(e);)w.lastIndex=s.index+s[0].length,o=s[1].replace(C,"").toLowerCase(),s=s[2].replace(C,""),o&&s&&(o=i(o),s=i(s),-1===o.indexOf(T)&&-1===o.indexOf('"')&&(b.allow_script_urls||"behavior"!==o&&!/expression\s*\(|\/\*|\*\//.test(s))&&("font-weight"===o&&"700"===s?s="bold":"color"!==o&&"background-color"!==o||(s=s.toLowerCase()),s=(s=s.replace(x,So)).replace(_,r),f[o]=a?g(s,!0):s));t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),l="border",c="border-style",d="border-color",m(u="border-width")&&m(c)&&m(d)&&(f[l]=f[u]+" "+f[c]+" "+f[d],delete f[u],delete f[c],delete f[d]),"medium none"===f.border&&delete f.border,"none"===f["border-image"]&&delete f["border-image"]}return f},serialize:function(o,e){function t(e){var t,n,i,r=u[e];if(r)for(t=0,n=r.length;t<n;t++)e=r[t],(i=o[e])&&(l+=(0<l.length?" ":"")+e+": "+i+";")}var n,i,r,s,a,l="";if(e&&u)t("*"),t(e);else for(n in o)!(i=o[n])||c&&(r=n,s=e,a=void 0,(a=c["*"])&&a[r]||(a=c[s])&&a[r])||(l+=(0<l.length?" ":"")+n+": "+i+";");return l}}}function No(e,t){var n=t.attr("style"),e=(e=e.serialize(e.parse(n),t[0].nodeName))||null;t.attr("data-mce-style",e)}function Ao(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(r++,n=i);return r}var Po=K.each,Ro=K.grep,Oo=Y.ie,Io=/^([a-z0-9],?)+$/i,Bo=/^[ \t\r\n]*$/;function Mo(s,o){var a,n,i,r,l,M=this,u=(void 0===o&&(o={}),{}),c=$.window,d={},F=0,e=Fr(s,{contentCssCors:o.contentCssCors}),f=[],h=o.schema||Eo({}),p=Do({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),m=o.ownEvents?new Qe(o.proxy):Qe.Event,g=h.getBlockElements(),t=Q.overrideDefaults(function(){return{context:s,element:B.getRoot()}}),v=function(e){var t;return e&&s&&"string"==typeof e?(t=s.getElementById(e))&&t.id!==e?s.getElementsByName(e)[1]:t:e},b=function(e){return"string"==typeof e&&(e=v(e)),t(e)},y=function(e,t,n){var i,r,e=b(e);return r=void 0===(r=e.length?(i=a[t])&&i.get?i.get(e,t):e.attr(t):r)?n||"":r},x=function(e){e=v(e);return e?e.attributes:[]},_=function(e,t,n){""===n&&(n=null);var i,e=b(e),r=e.attr(t);e.length&&((i=a[t])&&i.set?i.set(e,n,t):e.attr(t,n),r!==n&&o.onSetAttrib&&o.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},w=function(){return o.root_element||s.body},C=function(e,t){return Nr(s.body,v(e),t)},k=function(e,t,n){e=b(e);return n?e.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=Y.ie&&Y.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},T=function(e){var t,n;return e=v(e),t=k(e,"width"),n=k(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},E=function(e,t){if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Io.test(t)){for(var n=t.toLowerCase().split(/,/),i=e.nodeName.toLowerCase(),r=n.length-1;0<=r;r--)if(n[r]===i)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}e=Array.isArray(e)?e:[e];return 0<X(t,e[0].ownerDocument||e[0],null,e).length},S=function(e,t,n,i){var r,o=[],s=v(e);for(i=void 0===i,n=n||("BODY"!==w().nodeName?w().parentNode:null),K.is(t,"string")&&(t="*"===(r=t)?function(e){return 1===e.nodeType}:function(e){return E(e,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!t||"function"==typeof t&&t(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},D=function(e,t,n){var i=t;if(e)for("string"==typeof t&&(i=function(e){return E(e,t)}),e=e[n];e;e=e[n])if("function"==typeof i&&i(e))return e;return null},N=function(e,n,i){var r,e="string"==typeof e?v(e):e;return!!e&&(K.isArray(e)&&(e.length||0===e.length)?(r=[],Po(e,function(e,t){e&&("string"==typeof e&&(e=v(e)),r.push(n.call(i,e,t)))}),r):n.call(i||M,e))},A=function(e,t){b(e).each(function(e,n){Po(t,function(e,t){_(n,t,e)})})},P=function(e,n){e=b(e);Oo?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){Q("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)},L=function(e,n,i,r,o){return N(e,function(e){var t="string"==typeof n?s.createElement(n):n;return A(t,i),r&&("string"!=typeof r&&r.nodeType?t.appendChild(r):"string"==typeof r&&P(t,r)),o?t:e.appendChild(t)})},R=function(e,t,n){return L(s.createElement(e),e,t,n,!0)},H=vo.decode,j=vo.encodeAllRaw,O=function(e,t){e=b(e);return(t?e.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}):e).remove(),1<e.length?e.toArray():e[0]},z=function(e,t,n){b(e).toggleClass(t,n).each(function(){""===this.className&&Q(this).attr("class",null)})},W=function(t,e,n){return N(e,function(e){return K.is(e,"array")&&(t=t.cloneNode(!0)),n&&Po(Ro(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},I=function(){return s.createRange()},q=function(e,t,n,i){if(K.isArray(e)){for(var r=e.length;r--;)e[r]=q(e[r],t,n,i);return e}return!o.collect||e!==s&&e!==c||f.push([e,t,n,i]),m.bind(e,t,n,i||B)},U=function(e,t,n){var i;if(K.isArray(e)){for(i=e.length;i--;)e[i]=U(e[i],t,n);return e}if(f&&(e===s||e===c))for(i=f.length;i--;){var r=f[i];e!==r[0]||t&&t!==r[1]||n&&n!==r[2]||m.unbind(r[0],r[1],r[2])}return m.unbind(e,t,n)},V=function(e){var t;return e&&J.isElement(e)?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},B={doc:s,settings:o,win:c,files:d,stdMode:!0,boxModel:!0,styleSheetLoader:e,boundEvents:f,styles:p,schema:h,events:m,isBlock:function(e){if("string"==typeof e)return!!g[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!g[e.nodeName])}return!1},$:t,$$:b,root:null,clone:function(t,e){var n;return!Oo||1!==t.nodeType||e?t.cloneNode(e):e?null:(n=s.createElement(t.nodeName),Po(x(t),function(e){_(n,e.nodeName,y(t,e.nodeName))}),n)},getRoot:w,getViewPort:function(e){var e=e||c,t=e.document.documentElement;return{x:e.pageXOffset||t.scrollLeft,y:e.pageYOffset||t.scrollTop,w:e.innerWidth||t.clientWidth,h:e.innerHeight||t.clientHeight}},getRect:function(e){var t;return e=v(e),t=C(e),e=T(e),{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:T,getParent:function(e,t,n){e=S(e,t,n,!1);return e&&0<e.length?e[0]:null},getParents:S,get:v,getNext:function(e,t){return D(e,t,"nextSibling")},getPrev:function(e,t){return D(e,t,"previousSibling")},select:function(e,t){return X(e,v(t)||o.root_element||s,[])},is:E,add:L,create:R,createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+j(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n=s.createElement("div"),i=s.createDocumentFragment();for(i.appendChild(n),e&&(n.innerHTML=e);t=n.firstChild;)i.appendChild(t);return i.removeChild(n),i},remove:O,setStyle:function(e,t,n){e=b(e).css(t,n);o.update_styles&&No(p,e)},getStyle:k,setStyles:function(e,t){e=b(e).css(t);o.update_styles&&No(p,e)},removeAllAttribs:function(e){return N(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:_,setAttribs:A,getAttrib:y,getPos:C,parseStyle:function(e){return p.parse(e)},serializeStyle:function(e,t){return p.serialize(e,t)},addStyle:function(e){var t,n;if(B!==Mo.DOM&&s===$.document){if(u[e])return;u[e]=!0}(n=s.getElementById("mceDefaultStyles"))||((n=s.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=s.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(s.createTextNode(e))},loadCSS:function(e){var t;B!==Mo.DOM&&s===$.document?Mo.DOM.loadCSS(e):(e=e||"",t=s.getElementsByTagName("head")[0],Po(e.split(","),function(e){e=K._addCacheSuffix(e),d[e]||(d[e]=!0,e=R("link",{rel:"stylesheet",href:e}),t.appendChild(e))}))},addClass:function(e,t){b(e).addClass(t)},removeClass:function(e,t){z(e,t,!1)},hasClass:function(e,t){return b(e).hasClass(t)},toggleClass:z,show:function(e){b(e).show()},hide:function(e){b(e).hide()},isHidden:function(e){return"none"===b(e).css("display")},uniqueId:function(e){return(e||"mce_")+F++},setHTML:P,getOuterHTML:function(e){e="string"==typeof e?v(e):e;return J.isElement(e)?e.outerHTML:Q("<div></div>").append(Q(e).clone()).html()},setOuterHTML:function(e,t){b(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}O(Q(this).html(t),!0)})},decode:H,encode:j,insertAfter:function(e,t){var i=v(t);return N(e,function(e){var t=i.parentNode,n=i.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:W,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=R(e),Po(x(t),function(e){_(n,e.nodeName,y(t,e.nodeName))}),W(n,t,!0)),n||t},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return p.toHex(K.trim(e))},run:N,getAttribs:x,isEmpty:function(e,t){var n,i,r,o,s,a,l=0;if(e=e.firstChild){s=new G(e,e.parentNode),t=t||(h?h.getNonEmptyElements():null),o=h?h.getWhiteSpaceElements():{};do{if(r=e.nodeType,J.isElement(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=s.next("all"===u);continue}if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"!==a)return!1;l++,e=s.next();continue}for(n=(i=x(e)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8===r)return!1;if(3===r&&!Bo.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&o[e.parentNode.nodeName]&&Bo.test(e.nodeValue))return!1;e=s.next()}while(e)}return l<=1},createRng:I,nodeIndex:Ao,split:function(e,t,n){var i,r,o=I();if(e&&t)return o.setStart(e.parentNode,Ao(e)),o.setEnd(t.parentNode,Ao(t)),i=o.extractContents(),(o=I()).setStart(t.parentNode,Ao(t)+1),o.setEnd(e.parentNode,Ao(e)+1),o=o.extractContents(),(r=e.parentNode).insertBefore(so(B,i),e),n?r.insertBefore(n,e):r.insertBefore(t,e),r.insertBefore(so(B,o),e),O(e),n||t},bind:q,unbind:U,fire:function(e,t,n){return m.fire(e,t,n)},getContentEditable:V,getContentEditableParent:function(e){for(var t=w(),n=null;e&&e!==t&&null===(n=V(e));e=e.parentNode);return n},destroy:function(){if(f)for(var e=f.length;e--;){var t=f[e];m.unbind(t[0],t[1],t[2])}X.setDocument&&X.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}};return n=p,r=function(){return B},e={},l=(i=o).keep_values,e={style:{set:function(e,t){null!==t&&"object"==typeof t?e.css(t):(l&&e.attr("data-mce-style",t),e.attr("style",t))},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return n.serialize(n.parse(t),e[0].nodeName)}}},l&&(e.href=e.src={set:function(e,t,n){i.url_converter&&(t=i.url_converter.call(i.url_converter_scope||r(),t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}),a=e,B}(Re=Mo=Mo||{}).DOM=Re($.document),Re.nodeIndex=Ao;function Fo(e){return"function"==typeof e}var c=Mo,Lo=c.DOM,Ho=K.each,jo=K.grep,zo=function(){var c={},r=[],o={},s=[],d=0;this.isDone=function(e){return 2===c[e]},this.markDone=function(e){c[e]=2},this.add=this.load=function(e,t,n,i){void 0===c[e]&&(r.push(e),c[e]=0),t&&(o[e]||(o[e]=[]),o[e].push({success:t,failure:i,scope:n||this}))},this.remove=function(e){delete c[e],delete o[e]},this.loadQueue=function(e,t,n){this.loadScripts(r,e,t,n)},this.loadScripts=function(t,e,n,i){var a,l=[],u=function(t,e){Ho(o[e],function(e){Fo(e[t])&&e[t].call(e.scope)}),o[e]=void 0};s.push({success:e,failure:i,scope:n||this}),(a=function(){var e=jo(t);t.length=0,Ho(e,function(e){var t,n,i,r,o,s;2===c[e]?u("success",e):3===c[e]?u("failure",e):1!==c[e]&&(c[e]=1,d++,t=e,n=function(){c[e]=2,d--,u("success",e),a()},i=function(){c[e]=3,d--,l.push(e),u("failure",e),a()},o=(r=Lo).uniqueId(),(s=$.document.createElement("script")).id=o,s.type="text/javascript",s.src=K._addCacheSuffix(t),s.onload=function(){r.remove(o),s&&(s.onreadystatechange=s.onload=s=null),n()},s.onerror=function(){Fo(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},($.document.getElementsByTagName("head")[0]||$.document.body).appendChild(s))}),d||(e=s.slice(0),s.length=0,Ho(e,function(e){0===l.length?Fo(e.success)&&e.success.call(e.scope):Fo(e.failure)&&e.failure.call(e.scope,l)}))})()}},Wo=(zo.ScriptLoader=new zo,K.each);function qo(){function s(e,t,n,i){e=u(e),Wo(e,function(e){e=c(t,e);d(e.resource,e,void 0,void 0)}),n&&(i?n.call(i):n.call(zo))}var i=this,r=[],a={},l={},o=[],u=function(e){var t;return(t=l[e]?l[e].dependencies:t)||[]},c=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(e,t,n,i,r){var o;a[e]||(0!==(o="string"==typeof t?t:t.prefix+t.resource+t.suffix).indexOf("/")&&-1===o.indexOf("://")&&(o=qo.baseURL+"/"+o),a[e]=o.substring(0,o.lastIndexOf("/")),l[e]?s(e,t,n,i):zo.ScriptLoader.add(o,function(){return s(e,t,n,i)},i,r))};return{items:r,urls:a,lookup:l,_listeners:o,get:function(e){if(l[e])return l[e].instance},dependencies:u,requireLangPack:function(e,t){var n=qo.language;if(n&&!1!==qo.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===t.indexOf(","+n+","))return;zo.ScriptLoader.add(a[e]+"/langs/"+n+".js")}},add:function(t,e,n){r.push(e),l[t]={instance:e,dependencies:n};n=pe(o,function(e){return e.name===t});return o=n.fail,Wo(n.pass,function(e){e.callback()}),e},remove:function(e){delete a[e],delete l[e]},createUrl:c,addComponents:function(e,t){var n=i.urls[e];Wo(t,function(e){zo.ScriptLoader.add(n+"/"+e)})},load:d,waitFor:function(e,t){l.hasOwnProperty(e)?t():o.push({name:e,callback:t})}}}(i=qo=qo||{}).PluginManager=i(),i.ThemeManager=i();function Uo(n,i){var r=null;return{cancel:function(){null!==r&&($.clearTimeout(r),r=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null===r&&(r=$.setTimeout(function(){n.apply(null,e),r=null},i))}}}function Vo(e,t){return void 0===(e=Pi(e,t))||""===e?[]:e.split(" ")}function $o(e){return void 0!==e.dom().classList}function Yo(e,t){var n="class";t=Vo(e,n).concat([t]),lr(e,n,t.join(" "))}function Xo(e,t){var n,i;n=t,0<(i=v(Vo(t=e,e="class"),function(e){return e!==n})).length?lr(t,e,i.join(" ")):ur(t,e)}function Qo(e,t){$o(e)?e.dom().classList.add(t):Yo(e,t)}function Ko(e){0===($o(e)?e.dom().classList:Vo(e,"class")).length&&ur(e,"class")}function Go(e,t){return $o(e)&&e.dom().classList.contains(t)}var Jo=function(t,n){xr(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},Zo=function(e,t){wr(e).fold(function(){xr(e).each(function(e){ts(e,t)})},function(e){Jo(e,t)})},es=function(t,n){Hi(t).fold(function(){ts(t,n)},function(e){t.dom().insertBefore(n.dom(),e.dom())})},ts=function(e,t){e.dom().appendChild(t.dom())},ns=function(t,e){w(e,function(e){ts(t,e)})},is=function(e){e.dom().textContent="",w(Tr(e),function(e){rs(e)})},rs=function(e){e=e.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},os=function(e){var t,n=Tr(e);0<n.length&&(t=e,w(n,function(e){Jo(t,e)})),rs(e)},ss=function(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return ss(n)}}},as=function(e,t){var n=[];return w(Tr(e),function(e){n=(n=t(e)?n.concat([e]):n).concat(as(e,t))}),n},ls=function(e,t){return vr(t,e)};function us(e,t,n,i,r){return e(n,i)?A.some(n):le(r)&&r(n)?A.none():t(n,i,r)}function cs(e,t,n){return fs(e,function(e){return gr(e,t)},n)}function ds(e,t,n){return us(gr,cs,e,t,n)}var fs=function(e,t,n){for(var i=e.dom(),r=le(n)?n:b(!1);i.parentNode;){var i=i.parentNode,o=j.fromDom(i);if(t(o))return A.some(o);if(r(o))break}return A.none()},hs=function(e,t,n){return us(function(e,t){return t(e)},fs,e,t,n)},ps=function(e,t){return e=void 0===e?$.document:e.dom(),Fi(e)?A.none():A.from(e.querySelector(t)).map(j.fromDom)},ms=b("mce-annotation"),gs=b("data-mce-annotation"),vs=b("data-mce-annotation-uid"),bs=function(r,e){function t(e,t){return function(e,t){e=e.dom();return!(!e||!e.hasAttribute)&&e.hasAttribute(t)}(e,t)?A.some(Pi(e,t)):A.none()}var n=r.selection.getRng(),i=j.fromDom(n.startContainer),o=j.fromDom(r.getBody()),e=e.fold(function(){return"."+ms()},function(e){return"["+gs()+'="'+e+'"]'}),n=Er(i,n.startOffset).getOr(i),i=ds(n,e,function(e){return f(e,o)});return i.bind(function(e){return t(e,""+vs()).bind(function(i){return t(e,""+gs()).map(function(e){t=i,n=j.fromDom(r.getBody());var t,n=ls(n,"["+vs()+'="'+t+'"]');return{uid:i,name:e,elements:n}})})})},ys=function(e,t){var e=j.fromDom(e.getBody()),e=ls(e,"["+gs()+'="'+t+'"]'),i={};return w(e,function(e){var t=Pi(e,vs()),n=i.hasOwnProperty(t)?i[t]:[];i[t]=n.concat([e])}),i},xs=function(t,e){function l(e,t){s(e,function(e){return t(e),e})}var n,i,r,o=ss({}),s=function(e,t){var n=o.get(),t=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:ss(A.none())});n[e]=t,o.set(n)},a=(n=function(){var e=o.get(),e=function(e,t){e=ce.call(e,0);return e.sort(t),e}(nr(e));w(e,function(e){s(e,function(s){var a=s.previous.get();return bs(t,A.some(e)).fold(function(){var t;a.isSome()&&(l(t=e,function(e){w(e.listeners,function(e){return e(!1,t)})}),s.previous.set(A.none()))},function(e){var t,n,i,r=e.uid,o=e.name,e=e.elements;a.is(r)||(n=r,i=e,l(t=o,function(e){w(e.listeners,function(e){return e(!0,t,{uid:n,nodes:y(i,function(e){return e.dom()})})})}),s.previous.set(A.some(r)))}),{previous:s.previous,listeners:s.listeners}})})},i=30,r=null,{cancel:function(){null!==r&&($.clearTimeout(r),r=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null!==r&&$.clearTimeout(r),r=$.setTimeout(function(){n.apply(null,e),r=null},i)}});t.on("remove",function(){a.cancel()}),t.on("nodeChange",function(){a.throttle()});return{addListener:function(e,t){s(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},_s=function(e,n){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){w(e,function(t){A.from(t.attributes.map[gs()]).bind(n.lookup).each(function(e){!1===e.persistent&&t.unwrap()})})})})},ws=function(){var n={};return{register:function(e,t){n[e]={name:e,settings:t}},lookup:function(e){return n.hasOwnProperty(e)?A.from(n[e]).map(function(e){return e.settings}):A.none()}}},Cs=function(){return(Cs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ks(e,t){var n=Li(e).dom(),i=j.fromDom(n.createDocumentFragment()),t=function(e,t){t=(t||$.document).createElement("div");return t.innerHTML=e,Tr(j.fromDom(t))}(t,n);ns(i,t),is(e),ts(e,i)}function Ts(e){return $s(e)&&(e=e.parentNode),Vs(e)&&e.hasAttribute("data-mce-caret")}function Es(e){var t=e.container();return!(!e||!J.isText(t))&&(t.data.charAt(e.offset())===C.ZWSP||e.isAtStart()&&Ys(t.previousSibling))}function Ss(e){var t=e.container();return!(!e||!J.isText(t))&&(t.data.charAt(e.offset()-1)===C.ZWSP||e.isAtEnd()&&Ys(t.nextSibling))}function Ds(e,t,n){var i;return(e=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),e.setAttribute("data-mce-bogus","all"),e.appendChild(((i=$.document.createElement("br")).setAttribute("data-mce-bogus","1"),i)),i=t.parentNode,n?i.insertBefore(e,t):t.nextSibling?i.insertBefore(e,t.nextSibling):i.appendChild(e),e}function Ns(e){return!aa(e)&&(ia(e)?!ra(e.parentNode):oa(e)||na(e)||sa(e)||ua(e))}function As(e,t){return e=fa(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e}function Ps(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function Rs(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Ps(t.top-e.bottom,e,t)}function Os(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Ps(t.bottom-e.top,e,t)}function Is(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function Bs(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null}function Ms(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e}function Fs(e){return e&&/[\r\n\t ]/.test(e)}function Ls(e){function i(e){0===e.height||0<r.length&&ha(e,r[r.length-1])||r.push(e)}function t(e,t){var n=Aa(e.ownerDocument);if(t<e.data.length){if(va(e.data[t]))return;if(va(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Ra(n)))return i(Fa(Ma(n),!1))}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),Ra(n)||i(Fa(Ma(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Ra(n)||i(Fa(Ma(n),!0)))}var n,r=[];if(Ea(e.container()))t(e.container(),e.offset());else if(wa(e.container()))if(e.isAtEnd())n=Na(e.container(),e.offset()),Ea(n)&&t(n,n.data.length),ka(n)&&!Sa(n)&&i(Fa(Ma(n),!1));else{if(n=Na(e.container(),e.offset()),Ea(n)&&t(n,0),ka(n)&&e.isAtEnd())return i(Fa(Ma(n),!1)),r;e=Na(e.container(),e.offset()-1),!ka(e)||Sa(e)||!Ca(e)&&!Ca(n)&&ka(n)||i(Fa(Ma(e),!1)),ka(n)&&i(Fa(Ma(n),!0))}return r}var Hs,js=0,zs=function(e,t){return j.fromDom(e.dom().cloneNode(t))},Ws=function(e){return zs(e,!1)},qs=function(e){return zs(e,!0)},Us="\ufeff",C={isZwsp:function(e){return e===Us},ZWSP:Us,trim:function(e){return e.replace(new RegExp(Us,"g"),"")}},Vs=J.isElement,$s=J.isText,Ys=function(e){return $s(e)&&C.isZwsp(e.data)},Xs=function(e){return Ts(e)||Ys(e)},Qs=function(e){return e.firstChild!==e.lastChild||!J.isBr(e.firstChild)},Ks=function(e){return $s(e)&&e.data[0]===C.ZWSP},Gs=function(e){return $s(e)&&e.data[e.data.length-1]===C.ZWSP},Js=function(e){e=e.getElementsByTagName("br"),e=e[e.length-1];J.isBogus(e)&&e.parentNode.removeChild(e)},Zs=function(e){return e&&e.hasAttribute("data-mce-caret")?(Js(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},ea=J.isContentEditableTrue,ta=J.isContentEditableFalse,na=J.isBr,ia=J.isText,ra=J.matchNodeNames("script style textarea"),oa=J.matchNodeNames("img input textarea hr iframe video audio object"),sa=J.matchNodeNames("table"),aa=Xs,la=function(e){return J.isElement(e)&&"true"===e.getAttribute("unselectable")},ua=function(e){return!1===la(e)&&ta(e)},ca=function(e,t){return Ns(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(ua(e))return!1;if(ea(e))return!0}return!0}(e,t)},da=Math.round,fa=function(e){return e?{left:da(e.left),top:da(e.top),bottom:da(e.bottom),right:da(e.right),width:da(e.width),height:da(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},ha=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},pa=function(e,t){return t.left>e.left&&t.right<e.right?0:t.left<e.left?t.left-e.left:t.right-e.right},ma=function(e,t){return t.top>e.top&&t.bottom<e.bottom?0:t.top<e.top?t.top-e.top:t.bottom-e.bottom},ga=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),va=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&ga.test(e)},ba=function(e,t,n){return e.isSome()&&t.isSome()?A.some(n(e.getOrDie(),t.getOrDie())):A.none()},ya=function(e,t,n,i){return e.isSome()&&t.isSome()&&n.isSome()?A.some(i(e.getOrDie(),t.getOrDie(),n.getOrDie())):A.none()},xa=[].slice,Pe=function(){for(var e=0;e<arguments.length;e++)e,0;var n=xa.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},_a=function(){for(var e=0;e<arguments.length;e++)e,0;var n=xa.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},wa=J.isElement,Oe=Ns,Ca=J.matchStyleValues("display","block table"),Ie=J.matchStyleValues("float","left right"),ka=Pe(wa,Oe,u(Ie)),Ta=u(J.matchStyleValues("white-space","pre pre-line pre-wrap")),Ea=J.isText,Sa=J.isBr,Da=c.nodeIndex,Na=Ms,Aa=function(e){return"createRange"in e?e.createRange():c.DOM.createRng()},Pa=function(e){return!!e.setStart&&!!e.setEnd},Ra=function(e){var t=e.startContainer,n=e.startOffset;return!!(Fs(e.toString())&&Ta(t.parentNode)&&J.isText(t)&&(e=t.data,Fs(e[n-1])||Fs(e[n+1])))},Oa=function(e){var t=e.ownerDocument,n=Aa(t),t=t.createTextNode("Â "),i=e.parentNode;return i.insertBefore(t,e),n.setStart(t,0),n.setEnd(t,1),e=fa(n.getBoundingClientRect()),i.removeChild(t),e},Ia=function(e){var t=e.startContainer,n=e.endContainer,i=e.startOffset,r=e.endOffset;return t===n&&J.isText(n)&&0===i&&1===r?((t=e.cloneRange()).setEndAfter(n),Ma(t)):null},Ba=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Ma=function(e){var t=e.getClientRects(),t=0<t.length?fa(t[0]):fa(e.getBoundingClientRect());return!Pa(e)&&Sa(e)&&Ba(t)?Oa(e):Ba(t)&&Pa(e)?Ia(e):t},Fa=function(e,t){e=As(e,t);return e.width=1,e.right=e.left+1,e};function m(t,n,e){function i(){return e=e||Ls(m(t,n))}return{container:b(t),offset:b(n),toRange:function(){var e=Aa(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return Ea(t),0===n},isAtEnd:function(){return Ea(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return Na(t,e?n-1:n)}}}(Hs=m=m||{}).fromRangeStart=function(e){return Hs(e.startContainer,e.startOffset)},Hs.fromRangeEnd=function(e){return Hs(e.endContainer,e.endOffset)},Hs.after=function(e){return Hs(e.parentNode,Da(e)+1)},Hs.before=function(e){return Hs(e.parentNode,Da(e))},Hs.isAbove=function(e,t){return ba(U(t.getClientRects()),we(e.getClientRects()),Rs).getOr(!1)},Hs.isBelow=function(e,t){return ba(we(t.getClientRects()),U(e.getClientRects()),Os).getOr(!1)},Hs.isAtStart=function(e){return!!e&&e.isAtStart()},Hs.isAtEnd=function(e){return!!e&&e.isAtEnd()},Hs.isTextPosition=function(e){return!!e&&J.isText(e.container())},Hs.isElementPosition=function(e){return!1===Hs.isTextPosition(e)};function La(e){return e=e.parentNode,yl(e)?La(e):e}function Ha(e){return e?p.reduce(e.childNodes,function(e,t){return yl(t)&&"BR"!==t.nodeName?e=e.concat(Ha(t)):e.push(t),e},[]):[]}function ja(t){return function(e){return t===e}}function za(e){var i,t=bl(e)?"text()":e.nodeName.toLowerCase();return t+"["+(i=Ha(La(t=e)),e=p.findIndex(i,ja(t),t),i=i.slice(0,e+1),e=p.reduce(i,function(e,t,n){return bl(t)&&bl(i[n-1])&&e++,e},0),i=p.filter(i,J.matchNodeNames(t.nodeName)),p.findIndex(i,ja(t),t)-e)+"]"}function Wa(e,t){J.isText(t)&&0===t.data.length&&e.remove(t)}function qa(e,t,n,i,r){var o=i[r?"startContainer":"endContainer"],i=i[r?"startOffset":"endOffset"],s=[],r=0,a=e.getRoot();for(J.isText(o)?s.push(n?function(e,t,n){for(var i=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&J.isText(r);r=r.previousSibling)i+=e(r.data).length;return i}(t,o,i):i):(i>=(t=o.childNodes).length&&t.length&&(r=1,i=Math.max(0,t.length-1)),s.push(e.nodeIndex(t[i],n)+r));o&&o!==a;o=o.parentNode)s.push(e.nodeIndex(o,n));return s}function Ua(e,t){var n,i=e[(r=t?"start":"end")+"Container"],r=e[r+"Offset"];J.isElement(i)&&"TR"===i.nodeName&&(i=(n=i.childNodes)[Math.min(t?r:r-1,n.length-1)])&&(r=t?0:i.childNodes.length,e["set"+(t?"Start":"End")](i,r))}function Va(e,t){return J.isElement(e)&&(e=Ms(e,t),kl(e))?e:Xs(e)&&(t=(e=J.isText(e)&&Ts(e)?e.parentNode:e).previousSibling,kl(t)||(t=e.nextSibling,kl(t)))?t:void 0}function $a(e,t,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();return kl(i)||"IMG"===r?{name:r,index:El(n.dom,r,i)}:(i=Dl(o))?{name:r=i.tagName,index:El(n.dom,r,i)}:Tl(e,n,t,o)}function Ya(e,t){var n=e.dom,i=e.getRng(),r=n.uniqueId(),o=e.isCollapsed(),s=e.getNode(),a=s.nodeName;return"IMG"===a?{name:a,index:El(n,a,s)}:(a=Sl(i.cloneRange()),o||(a.collapse(!1),s=Nl(n,r+"_end",t),Cl(n,a,s)),(i=Sl(i)).collapse(!0),o=Nl(n,r+"_start",t),Cl(n,i,o),e.moveToBookmark({id:r,keep:1}),{id:r})}function Xa(e,t){0===t.length?Ml(e):e.nodeValue=t}function Qa(e){var t=C.trim(e);return{count:e.length-t.length,text:t}}function Ka(e){var t;Il(e)&&Xs(e)&&(Qs(e)?e.removeAttribute("data-mce-caret"):Ml(e)),Bl(e)&&(t=C.trim(function(e){try{return e.nodeValue}catch(e){return""}}(e)),Xa(e,t))}function Ga(e,t,n){var i,r,o=As(t.getBoundingClientRect(),n),e="BODY"===e.tagName?(r=e.ownerDocument.documentElement,i=e.scrollLeft||r.scrollLeft,e.scrollTop||r.scrollTop):(r=e.getBoundingClientRect(),i=e.scrollLeft-r.left,e.scrollTop-r.top);return o.left+=i,o.right+=i,o.top+=e,o.bottom+=e,o.width=1,0<(r=t.offsetWidth-t.clientWidth)&&(n&&(r*=-1),o.left+=r,o.right+=r),o}function Ja(){return zl.isIE()||zl.isEdge()||zl.isFirefox()}function Za(e,t){for(var n;n=e(t);)if(!Xl(n))return n;return null}function el(e,t){var n;return t&&(n=t.container(),t=t.offset(),Ql(n))?n.childNodes[t+e]:null}function tl(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function nl(e,t,n){for(var i,r,o,s=e?"previousSibling":"nextSibling";n&&n!==t;){if(i=n[s],Yl(i)&&(i=i[s]),Vl(i)){if(o=n,eu(i,r=t)===eu(o,r))return i;break}if(Kl(i))break;n=n.parentNode}return null}function il(e,t){return A.from(el(e?0:-1,t)).filter(Vl)}function rl(i,r,o){return Eu(i,r,o).bind(function(e){return tu(o,e,r)&&(t=o,n=e,i?!ku(t,n)&&!Tu(t)&&Cu(t)&&wu(n):!ku(n,t)&&wu(t)&&Cu(n))?Eu(i,r,e):A.some(e);var t,n})}function ol(t,n,e,i){return rl(t,n,e).bind(function(e){return i(e)?ol(t,n,e,i):A.some(e)})}function sl(e,t){var n,i=e?t.firstChild:t.lastChild;return J.isText(i)?A.some(k(i,e?0:i.data.length)):i?Ns(i)?A.some(e?k.before(i):(n=i,J.isBr(n)?k.before(n):k.after(n))):(n=t,t=i,t=(i=e)?k.before(t):k.after(t),Eu(i,n,t)):A.none()}function al(e,t,n){return!(!1!==t.hasChildNodes()||!Ol(e,t))&&(e=n,t=(n=t).ownerDocument.createTextNode(C.ZWSP),n.appendChild(t),e.setStart(t,0),e.setEnd(t,0),!0)}function ll(e){return J.isText(e)&&0<e.data.length}function ul(e){return e&&/^(IMG)$/.test(e.nodeName)}function cl(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function dl(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),""+(t="fontFamily"===n?t.replace(/[\'\"]/g,"").replace(/,\s+/g,","):t)}function fl(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t}function hl(e,t,n,i,r,o){var s,a,l,u;if(3===n.nodeType){if(-1!==(l=Hu(r,o,n,i)))return{container:n,offset:l};u=n}for(s=new G(n,e.getParent(n,e.isBlock)||t);a=s[r?"prev":"next"]();)if(3!==a.nodeType||Ou(a.parentNode)){if(e.isBlock(a)||P.isEq(a,"BR"))break}else if(-1!==(l=Hu(r,o,u=a)))return{container:a,offset:l};if(u)return{container:u,offset:i=r?0:u.length}}function pl(e,t,n,i,r){var o,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=Iu(e,i),s=0;s<o.length;s++)for(a=0;a<t.length;a++)if(!("collapsed"in(l=t[a])&&l.collapsed!==n.collapsed)&&e.is(o[s],l.selector))return o[s];return i}function ml(t,e,n,i){var r,o,s=t.dom,a=s.getRoot();if((o=e[0].wrapper?o:s.getParent(n,e[0].block,a))||(r=s.getParent(n,"LI,TD,TH"),o=s.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==a&&Mu(t,e)},r)),!(o=o&&e[0].wrapper?Iu(s,o,"ul,ol").reverse()[0]||o:o))for(o=n;o[i]&&!s.isBlock(o[i])&&(o=o[i],!P.isEq(o,"br")););return o||n}function gl(e,t,n,i,r,o,s){var a,l,u=a=s?n:r,c=s?"previousSibling":"nextSibling",d=e.getRoot();if(3!==u.nodeType||Bu(u)||!(s?0<i:o<u.nodeValue.length))for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(l=a[c];l;l=l[c])if(!Ou(l)&&!Bu(l)&&!Lu(l))return a;if(a===d||a.parentNode===d){u=a;break}a=a.parentNode}return u}var vl,k=m,bl=J.isText,yl=J.isBogus,xl=c.nodeIndex,_l=function(e,t){var n,i,r=[],o=t.container(),t=t.offset();return bl(o)?n=function(e,t){for(;(e=e.previousSibling)&&bl(e);)t+=e.data.length;return t}(o,t):(t>=(i=o.childNodes).length?(n="after",t=i.length-1):n="before",o=i[t]),r.push(za(o)),i=function(e,t,n){var i=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)i.push(t);return i}(e,o),i=p.filter(i,u(J.isBogus)),(r=r.concat(p.map(i,za))).reverse().join("/")+","+n},wl=function(e,t){var n;if(!t)return null;if(t=(n=t.split(","))[0].split("/"),n=1<n.length?n[1]:"before",!(t=p.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),e=e,n=t[1],t=parseInt(t[2],10),i=Ha(e),i=p.filter(i,function(e,t){return!bl(e)||!bl(i[t-1])}),(i=p.filter(i,J.matchNodeNames(n)))[t]):null;var n,i},e)))return null;if(bl(t)){for(var i,r=t,o=parseInt(n,10),s=r,a=0;bl(s);){if(i=s.data.length,a<=o&&o<=a+i){r=s,o-=a;break}if(!bl(s.nextSibling)){r=s,o=i;break}a+=i,s=s.nextSibling}return bl(r)&&o>r.data.length&&(o=r.data.length),k(r,o)}return n="after"===n?xl(t)+1:xl(t),k(t.parentNode,n)},Cl=function(e,t,n){var i,r,o,s,a;J.isDocumentFragment(n)?(i=e,r=t,o=n,s=A.from(o.firstChild),a=A.from(o.lastChild),r.insertNode(o),s.each(function(e){return Wa(i,e.previousSibling)}),a.each(function(e){return Wa(i,e.nextSibling)})):(r=e,o=n,t.insertNode(o),Wa(r,o.previousSibling),Wa(r,o.nextSibling))},kl=J.isContentEditableFalse,Tl=function(e,t,n,i){var r=t.dom,o={};return o.start=qa(r,e,n,i,!0),t.isCollapsed()||(o.end=qa(r,e,n,i,!1)),o},El=function(e,t,n){var i=0;return K.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void i++}),i},Sl=function(e){return Ua(e,!0),Ua(e,!1),e},Dl=function(e){return Va(e.startContainer,e.startOffset)||Va(e.endContainer,e.endOffset)},Nl=function(e,t,n){t={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",t,"&#xFEFF;"):e.create("span",t)},Al={getBookmark:function(e,t,n){return 2===t?$a(C.trim,n,e):3===t?(i=(n=e).getRng(),{start:_l(n.dom.getRoot(),k.fromRangeStart(i)),end:_l(n.dom.getRoot(),k.fromRangeEnd(i))}):t?{rng:e.getRng()}:Ya(e,!1);var i},getUndoBookmark:h($a,l,!0),getPersistentBookmark:Ya},Pl="_mce_caret",Rl=function(e){return J.isElement(e)&&e.id===Pl},Ol=function(e,t){for(;t&&t!==e;){if(t.id===Pl)return t;t=t.parentNode}return null},Il=J.isElement,Bl=J.isText,Ml=function(e){var t=e.parentNode;t&&t.removeChild(e)},Fl=function(e,t){return Ka(e),t},Ll=function(e,t){var n=Qa(e.data.substr(0,t.offset())),i=Qa(e.data.substr(t.offset())),i=n.text+i.text;return 0<i.length?(Xa(e,i),k(e,t.offset()-n.count)):t},Hl=function(e,t){var n=t.container(),i=function(e,t){e=he(e,t);return-1===e?A.none():A.some(e)}(Ce(n.childNodes),e).map(function(e){return e<t.offset()?k(n,t.offset()-1):t}).getOr(t);return Ka(e),i},jl={removeAndReposition:function(e,t){return k.isTextPosition(t)?(i=t,(Bl(n=e)&&i.container()===n?Ll:Fl)(n,i)):(n=e,((i=t).container()===n.parentNode?Hl:Fl)(n,i));var n,i},remove:Ka},zl=Ji.detect().browser,Wl=J.isContentEditableFalse,ql=function(o,r,s){function a(){for(var e,t,n,i=Q("*[contentEditable=false]",o),r=0;r<i.length;r++)t=(e=i[r]).previousSibling,Gs(t)&&(1===(n=t.data).length?t.parentNode.removeChild(t):t.deleteData(n.length-1,1)),t=e.nextSibling,Ks(t)&&(1===(n=t.data).length?t.parentNode.removeChild(t):t.deleteData(0,1));u&&(jl.remove(u),u=null),c.get().each(function(e){Q(e.caret).remove(),c.set(A.none())}),clearInterval(l)}var l,u,c=ss(A.none());return{show:function(t,e){var n,i;return a(),i=e,J.isElement(i)&&/^(TD|TH)$/i.test(i.tagName)?null:(r(e)?(u=Ds("p",e,t),i=Ga(o,e,t),Q(u).css("top",i.top),i=Q('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(i).appendTo(o)[0],c.set(A.some({caret:i,element:e,before:t})),c.get().each(function(e){t&&Q(e.caret).addClass("mce-visual-caret-before")}),l=Ke.setInterval(function(){s()?Q("div.mce-visual-caret",o).toggleClass("mce-visual-caret-hidden"):Q("div.mce-visual-caret",o).addClass("mce-visual-caret-hidden")},500),(n=e.ownerDocument.createRange()).setStart(u,0),n.setEnd(u,0)):(u=function(e,t){var n,i=e.ownerDocument.createTextNode(C.ZWSP),r=e.parentNode;if(t){if(n=e.previousSibling,$s(n)){if(Xs(n))return n;if(Gs(n))return n.splitText(n.data.length-1)}r.insertBefore(i,e)}else{if(n=e.nextSibling,$s(n)){if(Xs(n))return n;if(Ks(n))return n.splitText(1),n}e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i)}return i}(e,t),n=e.ownerDocument.createRange(),Wl(u.nextSibling)?(n.setStart(u,0),n.setEnd(u,0)):(n.setStart(u,1),n.setEnd(u,1))),n)},hide:a,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){c.get().each(function(e){var t=Ga(o,e.element,e.before);Q(e.caret).css(t)})},destroy:function(){return Ke.clearInterval(l)}}},Ul=function(e){return Wl(e)||J.isTable(e)&&Ja()},Vl=J.isContentEditableFalse,$l=J.matchStyleValues("display","block table table-cell table-caption list-item"),Yl=Xs,Xl=Ts,Ql=J.isElement,Kl=Ns,Gl=function(e){return 0<e},Jl=function(e){return e<0},Zl=function(e,t,n,i,r){var o=new G(e,i);if(Jl(t)){if((Vl(e)||Xl(e))&&n(e=Za(o.prev,!0)))return e;for(;e=Za(o.prev,r);)if(n(e))return e}if(Gl(t)){if((Vl(e)||Xl(e))&&n(e=Za(o.next,!0)))return e;for(;e=Za(o.next,r);)if(n(e))return e}return null},eu=function(e,t){for(;e&&e!==t;){if($l(e))return e;e=e.parentNode}return null},tu=function(e,t,n){return eu(e.container(),n)===eu(t.container(),n)},nu=h(tl,!0),iu=h(tl,!1),ru=function(e,t,n){var i,r,o=h(nl,!0,t),t=h(nl,!1,t),s=n.startContainer,a=n.startOffset;if(Ts(s)){if("before"===(r=(s=Ql(s)?s:s.parentNode).getAttribute("data-mce-caret"))&&(i=s.nextSibling,Ul(i)))return nu(i);if("after"===r&&(i=s.previousSibling,Ul(i)))return iu(i)}if(n.collapsed&&J.isText(s)){if(Yl(s)){if(1===e){if(i=t(s))return nu(i);if(i=o(s))return iu(i)}if(-1===e){if(i=o(s))return iu(i);if(i=t(s))return nu(i)}return n}if(Gs(s)&&a>=s.data.length-1)return 1===e&&(i=t(s))?nu(i):n;if(Ks(s)&&a<=1)return-1===e&&(i=o(s))?iu(i):n;if(a===s.data.length)return(i=t(s))?nu(i):n;if(0===a)return(i=o(s))?iu(i):n}return n},ou=function(e,t,n){t=ru(e,t,n);return-1===e?m.fromRangeStart(t):m.fromRangeEnd(t)},su=function(e){return A.from(e.getNode()).map(j.fromDom)},au=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},lu=function(e,t){t=tu(e,t);return!(t||!J.isBr(e.getNode()))||t},uu=((e=vl=vl||{})[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards",J.isContentEditableFalse),cu=J.isText,du=J.isElement,fu=J.isBr,hu=Ns,pu=function(e){return oa(e)||!!ua(e=e)&&!0!==me(Ce(e.getElementsByTagName("*")),function(e,t){return e||ea(t)},!1)},mu=ca,gu=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},vu=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},bu=function(e,t){if(Gl(e)){if(hu(t.previousSibling)&&!cu(t.previousSibling))return k.before(t);if(cu(t))return k(t,0)}if(Jl(e)){if(hu(t.nextSibling)&&!cu(t.nextSibling))return k.after(t);if(cu(t))return k(t,t.data.length)}return!Jl(e)||fu(t)?k.before(t):k.after(t)},yu=function(e,t){var n=t.nextSibling;return n&&hu(n)?cu(n)?k(n,0):k.before(n):xu(vl.Forwards,k.after(t),e)},xu=function(e,t,n){var i,r,o,s;if(!du(n)||!t)return null;if(t.isEqual(k.after(n))&&n.lastChild){if(s=k.after(n.lastChild),Jl(e)&&hu(n.lastChild)&&du(n.lastChild))return fu(n.lastChild)?k.before(n.lastChild):s}else s=t;var t=s.container(),a=s.offset();if(cu(t)){if(Jl(e)&&0<a)return k(t,--a);if(Gl(e)&&a<t.length)return k(t,++a);i=t}else{if(Jl(e)&&0<a&&(r=vu(t,a-1),hu(r)))return!pu(r)&&(o=Zl(r,e,mu,r))?cu(o)?k(o,o.data.length):k.after(o):cu(r)?k(r,r.data.length):k.before(r);if(Gl(e)&&a<t.childNodes.length&&(r=vu(t,a),hu(r)))return fu(r)?yu(n,r):!pu(r)&&(o=Zl(r,e,mu,r))?cu(o)?k(o,0):k.before(o):cu(r)?k(r,0):k.after(r);i=r||s.getNode()}return(Gl(e)&&s.isAtEnd()||Jl(e)&&s.isAtStart())&&(i=Zl(i,e,b(!0),n,!0),mu(i,n))?bu(e,i):(r=Zl(i,e,mu,n),!(a=p.last(v(gu(t,n),uu)))||r&&a.contains(r)?r?bu(e,r):null:Gl(e)?k.after(a):k.before(a))},_u=function(t){return{next:function(e){return xu(vl.Forwards,e,t)},prev:function(e){return xu(vl.Backwards,e,t)}}},wu=function(e){return k.isTextPosition(e)?0===e.offset():Ns(e.getNode())},Cu=function(e){var t;return k.isTextPosition(e)?(t=e.container(),e.offset()===t.data.length):Ns(e.getNode(!0))},ku=function(e,t){return!k.isTextPosition(e)&&!k.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Tu=function(e){return!k.isTextPosition(e)&&J.isBr(e.getNode())},Eu=function(e,t,n){t=_u(t);return A.from(e?t.next(n):t.prev(n))},Ne=h(Eu,!0),De=h(Eu,!1),g={fromPosition:Eu,nextPosition:Ne,prevPosition:De,navigate:rl,navigateIgnore:ol,positionIn:sl,firstPositionIn:h(sl,!0),lastPositionIn:h(sl,!1)},Su=function(e,t){return J.isElement(t)&&e.isBlock(t)&&!t.innerHTML&&!Y.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Du=function(e,t,n,i){var r,o,s,a,l,u=n[t?"start":"end"],c=e.getRoot();if(u){for(n=u[0],o=c,r=u.length-1;1<=r;r--){if(s=o.childNodes,al(c,o,i))return!0;if(u[r]>s.length-1)return!!al(c,o,i)||(a=o,l=i,g.lastPositionIn(a).fold(function(){return!1},function(e){return l.setStart(e.container(),e.offset()),l.setEnd(e.container(),e.offset()),!0}));o=s[u[r]]}3===o.nodeType&&(n=Math.min(u[0],o.nodeValue.length)),1===o.nodeType&&(n=Math.min(u[0],o.childNodes.length)),t?i.setStart(o,n):i.setEnd(o,n)}return!0},Nu=function(e,t,n){var i,r,o,s,a=e.get(n.id+"_"+t),l=n.keep;if(a){if(o=a.parentNode,s=(o=(i="start"===t?l?a.hasChildNodes()?(o=a.firstChild,1):ll(a.nextSibling)?(o=a.nextSibling,0):ll(a.previousSibling)?(o=a.previousSibling,a.previousSibling.data.length):(o=a.parentNode,e.nodeIndex(a)+1):e.nodeIndex(a):l?a.hasChildNodes()?(o=a.firstChild,1):ll(a.previousSibling)?(o=a.previousSibling,a.previousSibling.data.length):(o=a.parentNode,e.nodeIndex(a)):e.nodeIndex(a),o),i),!l){for(l=a.previousSibling,r=a.nextSibling,K.each(K.grep(a.childNodes),function(e){J.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});a=e.get(n.id+"_"+t);)e.remove(a,!0);l&&r&&l.nodeType===r.nodeType&&J.isText(l)&&!Y.opera&&(i=l.nodeValue.length,l.appendData(r.nodeValue),e.remove(r),s=(o=l,i))}return A.some(k(o,s))}return A.none()},Au=function(e,t){return e.isSome()?e:t},Pu=function(e,t){var n,i,r,o,s,a,l,e=e.dom;if(t){if(K.isArray(t.start))return a=t,l=(s=e).createRng(),Du(s,!0,a,l)&&Du(s,!1,a,l)?A.some(l):A.none();if("string"==typeof t.start)return A.some((s=t,l=(a=e).createRng(),o=wl(a.getRoot(),s.start),l.setStart(o.container(),o.offset()),o=wl(a.getRoot(),s.end),l.setEnd(o.container(),o.offset()),l));if(t.hasOwnProperty("id"))return r=Nu(i=e,"start",o=t),o=Nu(i,"end",o),ba(r,Au(o,r),function(e,t){var n=i.createRng();return n.setStart(Su(i,e.container()),e.offset()),n.setEnd(Su(i,t.container()),t.offset()),n});if(t.hasOwnProperty("name"))return n=e,r=t,A.from(n.select(r.name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.hasOwnProperty("rng"))return A.some(t.rng)}return A.none()},Ru={getBookmark:function(e,t,n){return Al.getBookmark(e,t,n)},moveToBookmark:function(t,e){Pu(t,e).each(function(e){t.setRng(e)})},isBookmarkNode:function(e){return J.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}},P={isInlineBlock:ul,moveStart:function(e,t,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!ul(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(o=a.childNodes).length?i=new G(a=o[s],e.getParent(a,e.isBlock)):(i=new G(a=o[o.length-1],e.getParent(a,e.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!cl(r))return n.setStart(r,0),void t.setRng(n)},getNonWhiteSpaceSibling:function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!cl(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:cl,replaceVars:function(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e},isEq:function(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:dl,getStyle:function(e,t,n){return dl(e,e.getStyle(t,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}},Ou=Ru.isBookmarkNode,Iu=P.getParents,Bu=P.isWhiteSpaceNode,Mu=P.isTextBlock,Fu=function(e,t){for(void 0===t&&(t=(3===e.nodeType?e:e.childNodes).length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=(3===e.nodeType?e:e.childNodes).length);return{node:e,offset:t}},Lu=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Hu=function(e,t,n,i){var r,o,n=n.nodeValue;return void 0===i&&(i=e?n.length:0),e?(r=n.lastIndexOf(" ",i),-1!==(r=(o=n.lastIndexOf("Â ",i))<r?r:o)&&!t&&(r<i||!e)&&r<=n.length&&r++):(r=n.indexOf(" ",i),o=n.indexOf("Â ",i),r=-1!==r&&(-1===o||r<o)?r:o),r},ju={expandRng:function(e,t,n,i){var r,o=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset,u=e.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Ms(o,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=Ms(a,t.collapsed?l:l-1)).nodeType&&(l=a.nodeValue.length),o=fl(u,o),a=fl(u,a),(Ou(o.parentNode)||Ou(o))&&(o=Ou(o)?o:o.parentNode,3===(o=t.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(s=t.collapsed?o.length:0)),(Ou(a.parentNode)||Ou(a))&&(a=Ou(a)?a:a.parentNode,3===(a=t.collapsed?a.nextSibling||a:a.previousSibling||a).nodeType&&(l=t.collapsed?0:a.length)),t.collapsed&&((r=hl(u,e.getBody(),o,s,!0,i))&&(o=r.container,s=r.offset),(r=hl(u,e.getBody(),a,l,!1,i))&&(a=r.container,l=r.offset)),n[0].inline&&(a=i?a:function(e,t){var n=Fu(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Fu(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(a,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==s||(o=gl(u,n,o,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=gl(u,n,o,s,a,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=pl(u,n,t,o,"previousSibling"),a=pl(u,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=ml(e,n,o,"previousSibling"),a=ml(e,n,a,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=gl(u,n,o,s,a,l,!0)),u.isBlock(a)||(a=gl(u,n,o,s,a,l,!1)))),1===o.nodeType&&(s=u.nodeIndex(o),o=o.parentNode),1===a.nodeType&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:s,endContainer:a,endOffset:l}}},zu=K.each,Wu=function(e,t,r){var n,o,s,a,i=t.startContainer,l=t.startOffset,u=t.endContainer,c=t.endOffset,t=e.select("td[data-mce-selected],th[data-mce-selected]");if(0<t.length)zu(t,function(e){r([e])});else{var d,f,h,p=function(e){var t=e[0];return 3===t.nodeType&&t===i&&l>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===c&&0<e.length&&t===u&&3===t.nodeType&&e.splice(e.length-1,1),e},m=function(e,t,n){for(var i=[];e&&e!==n;e=e[t])i.push(e);return i},t=function(e,t){do{if(e.parentNode===t)return e}while(e=e.parentNode)},g=function(e,t,n){var i=n?"nextSibling":"previousSibling";for(s=(o=e).parentNode;o&&o!==t;o=s)s=o.parentNode,(a=m(o===e?o:o[i],i)).length&&(n||a.reverse(),r(p(a)))};if(1===i.nodeType&&i.hasChildNodes()&&(i=i.childNodes[l]),1===u.nodeType&&u.hasChildNodes()&&(f=c,h=(d=u).childNodes,--f>h.length-1?f=h.length-1:f<0&&(f=0),u=h[f]||d),i===u)return r(p([i]));for(n=e.findCommonAncestor(i,u),o=i;o;o=o.parentNode){if(o===u)return g(i,n,!0);if(o===n)break}for(o=u;o;o=o.parentNode){if(o===i)return g(u,n);if(o===n)break}h=t(i,n)||i,f=t(u,n)||u,g(i,h,!0),(a=m(h===i?h:h.nextSibling,"nextSibling",f===u?f.nextSibling:f)).length&&r(p(a)),g(u,f)}};qu=tr,Uu="text";var qu,Uu,Vu={get:function(e){if(qu(e))return $u(e).getOr("");throw new Error("Can only get "+Uu+" value of a "+Uu+" node")},getOption:$u,set:function(e,t){if(!qu(e))throw new Error("Can only set raw "+Uu+" value of a "+Uu+" node");e.dom().nodeValue=t}};function $u(e){return qu(e)?A.from(e.dom().nodeValue):A.none()}function Yu(n,i,r,o){return xr(i).fold(function(){return"skipping"},function(e){return"br"===o||tr(t=i)&&"\ufeff"===Ku(t)?"valid":er(t=i)&&Go(t,ms())?"existing":Rl(i)?"caret":P.isValid(n,r,o)&&P.isValid(n,Zi(e),r)?"valid":"invalid-child";var t})}function Xu(e,t,n,i){var r,o=void 0===(a=t.uid)?(o="mce-annotation",s=(new Date).getTime(),o+"_"+Math.floor(1e9*Math.random())+ ++js+String(s)):a,s=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(t,["uid"]),a=j.fromTag("span",e);Qo(a,ms()),lr(a,""+vs(),o),lr(a,""+gs(),n);e=(t=i(o,s)).attributes,i=void 0===(n=t.classes)?[]:n;return Ai(a,void 0===e?{}:e),r=a,w(i,function(e){Qo(r,e)}),a}function Qu(r,e,t,n,i){function o(){u.set(A.none())}function s(e){w(e,c)}var a=[],l=Xu(r.getDoc(),i,t,n),u=ss(A.none()),c=function(e){var t,n;switch(Yu(r,e,"span",Zi(e))){case"invalid-child":o();var i=Tr(e);s(i),o();break;case"valid":i=u.get().getOrThunk(function(){var e=Ws(l);return a.push(e),u.set(A.some(e)),e});Jo(t=e,n=i),ts(n,t)}};Wu(r.dom,e,function(e){o();var t=e;t=y(e,j.fromDom),s(t)})}var Ku=function(e){return Vu.get(e)},Gu=function(i,r,o,s){i.undoManager.transact(function(){var e,t,n=i.selection.getRng();n.collapsed&&(t=i,n=n,e=ju.expandRng(t,n,[{inline:!0}],3===(e=n).startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&"Â "===e.startContainer.nodeValue[e.startOffset]),n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset),t.selection.setRng(n)),i.selection.getRng().collapsed?(e=Xu(i.getDoc(),s,r,o.decorate),ks(e,"Â "),i.selection.getRng().insertNode(e.dom()),i.selection.select(e.dom())):(t=Al.getPersistentBookmark(i.selection,!1),n=i.selection.getRng(),Qu(i,n,r,o.decorate,s),i.selection.moveToBookmark(t))})};function Ju(i){var r=ws(),n=(_s(i,r),xs(i));return{register:function(e,t){r.register(e,t)},annotate:function(t,n){r.lookup(t).each(function(e){Gu(i,t,e,n)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(e){bs(i,A.some(e)).each(function(e){e=e.elements;w(e,os)})},getAll:function(e){e=ys(i,e);return or(e,function(e){return y(e,function(e){return e.dom()})})}}}function Zu(e){return K.grep(e.childNodes,function(e){return"LI"===e.nodeName})}function ec(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&("Â "===(e=e.firstChild).data||J.isBr(e))}function tc(e){return 0<e.length&&sc(e[e.length-1])?e.slice(0,-1):e}function nc(e,t){return(t=e.getParent(t,e.isBlock))&&"LI"===t.nodeName?t:null}function ic(e){return tr(e)?"Â "===Ku(e):Gr(e)}var rc=function(e,t){return e.getBlockElements()[t.name]&&((e=t).firstChild&&e.firstChild===e.lastChild&&("br"===(e=t.firstChild).name||"Â "===e.value))},oc=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},sc=function(e){return!e.firstChild||ec(e)},ac=function(e,t){var n=t.cloneRange(),t=t.cloneRange();return n.setStartBefore(e),t.setEndAfter(e),[n.cloneContents(),t.cloneContents()]},lc=function(e,t){e=k.before(e),t=_u(t).next(e);return t?t.toRange():null},uc=function(e,t){e=k.after(e),t=_u(t).prev(e);return t?t.toRange():null},cc={isListFragment:function(e,t){var n,i,r=t.firstChild,t=t.lastChild;return r&&"meta"===r.name&&(r=r.next),t&&"mce_marker"===t.attr("id")&&(t=t.prev),n=t,i=(e=e).getNonEmptyElements(),n&&(n.isEmpty(i)||rc(e,n))&&(t=t.prev),!(!r||r!==t)&&("ul"===r.name||"ol"===r.name)},insertAtCaret:function(e,i,r,t){function n(e){var t=k.fromRangeStart(r),n=_u(i.getRoot());return!(e=1===e?n.prev(t):n.next(t))||nc(i,e.getNode())!==f}var o,s,a,l,u,c,d,e=function(e,t,n){t=t.serialize(n),n=e.createFragment(t);return oc(n)}(i,e,t),f=nc(i,r.startContainer),t=tc(Zu(e.firstChild)),e=i.getRoot();return n(1)?(s=e,a=(o=f).parentNode,K.each(t,function(e){a.insertBefore(e,o)}),lc(o,s)):n(2)?(s=f,u=t,c=e,i.insertAfter(u.reverse(),s),uc(u[0],c)):(u=t,c=e,t=ac(l=f,t=r),(d=l.parentNode).insertBefore(t[0],l),K.each(u,function(e){d.insertBefore(e,l)}),d.insertBefore(t[1],l),d.removeChild(l),uc(u[u.length-1],c))},isParentBlockLi:function(e,t){return!!nc(e,t)},trimListItems:tc,listItems:Zu},dc=K.each,fc=function(r){this.compare=function(e,t){var n,i;return e.nodeName===t.nodeName&&(!!(i=function(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0})((n=function(t){var n={};return dc(r.getAttribs(t),function(e){e=e.nodeName.toLowerCase();0!==e.indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(n[e]=r.getAttrib(t,e))}),n})(e),n(t))&&(!!i(r.parseStyle(r.getAttrib(e,"style")),r.parseStyle(r.getAttrib(t,"style")))&&(!Ru.isBookmarkNode(e)&&!Ru.isBookmarkNode(t))))}},hc={removeTrailingBr:function(e){var t=ls(e,"br"),e=v(function(e){for(var t=[],n=e.dom();n;)t.push(j.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),Gr);t.length===e.length&&w(e,rs)},fillWithPaddingBr:function(e){is(e),ts(e,j.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(e){return 1===v(Tr(e),ic).length},trimBlockTrailingBr:function(n){ji(n).each(function(t){_r(t).each(function(e){Kr(n)&&Gr(t)&&Kr(e)&&rs(t)})})}},pc=K.makeMap;function mc(e){var a=[],l=(e=e||{}).indent,u=pc(e.indent_before||""),c=pc(e.indent_after||""),d=vo.getEncodeFunc(e.entity_encoding||"raw",e.entities),f="html"===e.element_format;return{start:function(e,t,n){var i,r,o,s;if(l&&u[e]&&0<a.length&&0<(s=a[a.length-1]).length&&"\n"!==s&&a.push("\n"),a.push("<",e),t)for(i=0,r=t.length;i<r;i++)o=t[i],a.push(" ",o.name,'="',d(o.value,!0),'"');a[a.length]=!n||f?">":" />",n&&l&&c[e]&&0<a.length&&0<(s=a[a.length-1]).length&&"\n"!==s&&a.push("\n")},end:function(e){a.push("</",e,">"),l&&c[e]&&0<a.length&&0<(e=a[a.length-1]).length&&"\n"!==e&&a.push("\n")},text:function(e,t){0<e.length&&(a[a.length]=t?e:d(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?a.push("<?",e," ",d(t),"?>"):a.push("<?",e,"?>"),l&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",l?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function gc(t,h){void 0===h&&(h=Eo());var p=mc(t);(t=t||{}).validate=!("validate"in t)||t.validate;return{serialize:function(e){var c=t.validate,d={3:function(e){p.text(e.value,e.raw)},8:function(e){p.comment(e.value)},7:function(e){p.pi(e.name,e.value)},10:function(e){p.doctype(e.value)},4:function(e){p.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;f(e),e=e.next;);}},f=(p.reset(),function(e){var t,n,i,r,o,s,a,l,u=d[e.type];if(u)u(e);else{if(u=e.name,t=e.shortEnded,n=e.attributes,c&&n&&1<n.length&&((o=[]).map={},l=h.getElementRule(e.name))){for(s=0,a=l.attributesOrder.length;s<a;s++)(i=l.attributesOrder[s])in n.map&&(r=n.map[i],o.map[i]=r,o.push({name:i,value:r}));for(s=0,a=n.length;s<a;s++)(i=n[s].name)in o.map||(r=n.map[i],o.map[i]=r,o.push({name:i,value:r}));n=o}if(p.start(e.name,n,t),!t){if(e=e.firstChild)for(;f(e),e=e.next;);p.end(u)}}});return 1!==e.type||t.inner?d[11](e):f(e),p.getContent()}}}function vc(e,t,n){var i=e.getParam(t,n);return-1!==i.indexOf("=")?(t=e.getParam(t,"","hash")).hasOwnProperty(e.id)?t[e.id]:n:i}function bc(e,t){var n,i;return t&&(n=t.container(),i=t.offset(),e?Ys(n)?J.isText(n.nextSibling)?k(n.nextSibling,0):k.after(n):Es(t)?k(n,i+1):t:Ys(n)?J.isText(n.previousSibling)?k(n.previousSibling,n.previousSibling.data.length):k.before(n):Ss(t)?k(n,i-1):t)}function yc(e,t){var n,e=j.fromDom(e);return t=t=j.fromDom(t),n="pre,code",e=h(f,e),cs(t,n,e).isSome()}function xc(e,t,n){return br(t,e)?function(e,t){for(var n=le(t)?t:R,i=e.dom(),r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,s=j.fromDom(o);if(r.push(s),!0===n(s))break;i=o}return r}(e,function(e){return n(e)||f(e,t)}).slice(0,-1):[]}function _c(e,t){return xc(e,t,b(!1))}function wc(e){t=Tr(e);var t,e=ve(t,Kr).fold(function(){return t},function(e){return t.slice(0,e)});return w(e,rs),e}function Cc(e,t){t=Nf.parentsAndSelf(t,e),ge(t.reverse(),xf.isEmpty).each(rs)}function kc(e,t,n){return Of(!0,t),Of(!1,n),Rf(t,n).fold(h(Pf,e,t,n),h(Af,e,t,n))}function Tc(e,t){return t=j.fromDom(t),e=h(f,e),fs(t,io,e).isSome()}function Ec(e){return su(e).exists(Gr)}function Sc(e,t,n){var i=v(Nf.parentsAndSelf(j.fromDom(n.container()),t),Kr),i=U(i).getOr(t);return g.fromPosition(e,i.dom(),n).filter(Ec)}function Dc(e,t){return su(t).exists(Gr)||Sc(!0,e,t).isSome()}function Nc(e,t){return A.from(t.getNode(!0)).map(j.fromDom).exists(Gr)||Sc(!1,e,t).isSome()}function Ac(e){return/^[\r\n\t ]$/.test(e)}function Pc(e){return!Ac(e)&&!Wf(e)}function Rc(n,i,r){return A.from(r.container()).filter(J.isText).exists(function(e){var t=n?0:-1;return i(e.data.charAt(r.offset()+t))})}function Oc(e,t){return e=el(e,t),J.isContentEditableFalse(e)&&!J.isBogusAll(e)}function Ic(e,t){return J.isTable(el(e,t))}function Bc(t,e,n,i){function r(e){return Hr(j.fromDom(e))&&!tu(n,i,t)}return il(!e,n).fold(function(){return il(e,i).fold(b(!1),r)},r)}function Mc(e,t,n,i){var r=i.getNode(!1===t);return mf.getParentBlock(j.fromDom(e),j.fromDom(n.getNode())).map(function(e){return xf.isEmpty(e)?Kf.remove(e.dom()):Kf.moveToElement(r)}).orThunk(function(){return A.some(Kf.moveToElement(r))})}function Fc(n,i,r){return g.fromPosition(i,n,r).bind(function(e){return t=e.getNode(),io(j.fromDom(t))||eo(j.fromDom(t))||Bc(n,i,r,e)?A.none():i&&J.isContentEditableFalse(e.getNode())||!1===i&&J.isContentEditableFalse(e.getNode(!0))?Mc(n,i,r,e):i&&Yf(r)||!1===i&&$f(r)?A.some(Kf.moveToPosition(e)):A.none();var t})}function Lc(i,e,r){return function(e,t){t=t.getNode(!1===e),e=e?"after":"before";return J.isElement(t)&&t.getAttribute("data-mce-caret")===e}(e,r)?(t=e,n=r.getNode(!1===e),(t&&J.isContentEditableFalse(n.nextSibling)?A.some(Kf.moveToElement(n.nextSibling)):!1===t&&J.isContentEditableFalse(n.previousSibling)?A.some(Kf.moveToElement(n.previousSibling)):A.none()).fold(function(){return Fc(i,e,r)},A.some)):Fc(i,e,r).bind(function(e){return t=i,n=r,e.fold(function(e){return A.some(Kf.remove(e))},function(e){return A.some(Kf.moveToElement(e))},function(e){return tu(n,e,t)?A.none():A.some(Kf.moveToPosition(e))});var t,n});var t,n}function Hc(e,t,n){var i,r,o,s,a;0!==n&&(i=e.data.slice(t,t+n),r=t+n>=e.data.length,e.replaceData(t,n,(s=0===t,a=r,me((o=i).split(""),function(e,t){return-1!==" \f\n\r\t\v".indexOf(t)||"Â "===t?e.previousCharIsSpace||""===e.str&&s||e.str.length===o.length-1&&a?{previousCharIsSpace:!1,str:e.str+"Â "}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:""}).str)))}function jc(e){return Ns(e.previousSibling)?A.some((t=e.previousSibling,J.isText(t)?k(t,t.data.length):k.after(t))):e.previousSibling?g.lastPositionIn(e.previousSibling):A.none();var t}function zc(e){return Ns(e.nextSibling)?A.some((t=e.nextSibling,J.isText(t)?k(t,0):k.before(t))):e.nextSibling?g.firstPositionIn(e.nextSibling):A.none();var t}function Wc(i,r){return jc(r).orThunk(function(){return zc(r)}).orThunk(function(){return e=i,t=r,n=k.before(t.previousSibling||t.parentNode),g.prevPosition(e,n).fold(function(){return g.nextPosition(e,k.after(t))},A.some);var e,t,n})}function qc(n,i){return zc(i).orThunk(function(){return jc(i)}).orThunk(function(){return e=n,t=i,g.nextPosition(e,k.after(t)).fold(function(){return g.prevPosition(e,k.before(t))},A.some);var e,t})}function Uc(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})}function Vc(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Zi(t))}function $c(e){var t;return xf.isEmpty(e)?(t=j.fromHtml('<br data-mce-bogus="1">'),is(e),ts(e,t),A.some(k.before(t.dom()))):A.none()}function Yc(e,t){return J.isText(e.container())?hh(t,e.container()):hh(t,e.getNode())}function Xc(e,t){return(t=t.get())&&e.container()===t&&Ys(t)}function Qc(e,t,n){var i=D.normalizeForwards(n),r=yh(t,i.container());return D.findRootInline(e,r,i).fold(function(){return g.nextPosition(r,i).bind(h(D.findRootInline,e,r)).map(function(e){return bh.before(e)})},A.none)}function Kc(e,t){return null===Ol(e,t)}function Gc(e,t,n){var i=D.normalizeBackwards(n);return xh(e,t,i).bind(function(e){return g.prevPosition(e,i).isNone()?A.some(bh.start(e)):A.none()})}function Jc(e,t,n){var i=D.normalizeForwards(n);return xh(e,t,i).bind(function(e){return g.nextPosition(e,i).isNone()?A.some(bh.end(e)):A.none()})}function Zc(e,t,n){var i=D.normalizeBackwards(n),r=yh(t,i.container());return D.findRootInline(e,r,i).fold(function(){return g.prevPosition(r,i).bind(h(D.findRootInline,e,r)).map(function(e){return bh.after(e)})},A.none)}function ed(e){return e.fold(b("before"),b("start"),b("end"),b("after"))}function td(e,t){return e?t.fold(a(A.some,bh.start),A.none,a(A.some,bh.after),A.none):t.fold(A.none,a(A.some,bh.before),A.none,a(A.some,bh.end))}function nd(e,s,a,l){var t=D.normalizePosition(e,l),u=wh(s,a,t);return wh(s,a,t).bind(h(td,e)).orThunk(function(){return t=e,n=s,i=a,r=u,o=D.normalizePosition(t,l),g.fromPosition(t,i,o).map(h(D.normalizePosition,t)).fold(function(){return r.map(kh)},function(e){return wh(n,i,e).map(h(Th,t,n,i,o,e)).filter(h(Eh,r))}).filter(_h);var t,n,i,r,o})}function id(e){return le(e.selection.getSel().modify)}function rd(e,t,n){var i=e?1:-1;return t.setRng(k(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0}function od(e){return!1!==e.settings.inline_boundaries}function sd(e,t,n){return function(){return!!od(t)&&Dh(e,t)}}function ad(e,t){return ds(j.fromDom(e),"td,th",t)}function ld(e,t){return cs(e,"table",t)}function ud(e){return!1===f(e.start(),e.end())}function cd(e){return ls(e,"td,th")}function dd(i,e){var t=ad(e.startContainer,i),n=ad(e.endContainer,i);return e.collapsed?A.none():ba(t,n,Lh).fold(function(){return t.fold(function(){return n.bind(function(t){return ld(t,i).bind(function(e){return U(cd(e)).map(function(e){return Lh(e,t)})})})},function(t){return ld(t,i).bind(function(e){return we(cd(e)).map(function(e){return Lh(t,e)})})})},function(e){return fd(i,e)?A.none():(n=i,ld((t=e).start(),n).bind(function(e){return we(cd(e)).map(function(e){return Lh(t.start(),e)})}));var t,n})}function fd(e,t){return Wh(t,e).isSome()}function hd(e,t){return ve(e,function(e){return f(e,t)})}function pd(n){return Vh(n).map(function(e){var t=n.cells();return e.length===t.length?jh.removeTable(n.table()):jh.emptyCells(e)})}function md(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t}function gd(e){return v(Yh.getSelectedNodes(e),io)}function vd(e){return ls(e,"td[data-mce-selected],th[data-mce-selected]")}function bd(e,t){return t=vd(t),e=gd(e),0<t.length?t:e}function yd(e,t){return ih.deleteElement(e,!1,t),!0}function xd(e,t){return ge(Nf.parentsAndSelf(t,e),io)}function _d(e,t){return hc.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),A.some(!0)}function wd(s,a,l,u,c){return g.navigate(l,s.getBody(),c).bind(function(e){return n=u,i=l,r=c,o=e,g.firstPositionIn(n.dom()).bind(function(t){return g.lastPositionIn(n.dom()).map(function(e){return i?r.isEqual(t)&&o.isEqual(e):r.isEqual(e)&&o.isEqual(t)})}).getOr(!0)?Zh(s,u):(t=u,Jh(a,j.fromDom(e.getNode())).map(function(e){return!1===f(e,t)}));var t,n,i,r,o}).or(A.some(!0))}function Cd(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,function(e){return!!rp(t,e,n)||(e.parentNode===r||!!op(t,e,n,i,!0))}),op(t,e,n,i))}function kd(e,t,n){return!!ip(t,n.inline)||(!!ip(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))}function Td(e,t,n,i,r,o){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(t,n,i);if(u)if(void 0===u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?e.getAttrib(t,s):P.getStyle(e,t,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!ip(a,P.normalizeStyleValue(e,P.replaceVars(u[s],o),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?e.getAttrib(t,u[l]):P.getStyle(e,t,u[l]))return n;return n}function Ed(e,t){return e.splitText(t)}function Sd(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==lp||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length}function Dd(e,t,n){void 0===n&&(n=!0);var i=e.dom,r=e.selection;if(t)hp(e,t,n);else if(!(t=Ol(e.getBody(),r.getStart())))for(;t=i.get(up);)hp(e,t,!1)}function Nd(e,t){return e.appendChild(t),t}function Ad(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Zi(t))&&!Rl(t.dom())&&!J.isBogus(t.dom())}function Pd(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}function Rd(e,t,n,i,r){return t._selectionOverrides.showCaret(e,n,i,r)}function Od(e,t,n){return t&&t.collapsed&&Ep(e,t,n)||t}function Id(e,t){e.selection.setRng(t),wp.scrollRangeIntoView(e,e.selection.getRng())}function Bd(e,t){e.getDoc().execCommand(t,!1,null)}function Md(t,n,e){function i(e){return dr(e,t)}return hs(j.fromDom(e),function(e){return i(e).isSome()},function(e){return f(j.fromDom(n),e)}).bind(i)}function Fd(i){return function(n,e){return A.from(e).map(j.fromDom).filter(er).bind(function(e){return Md(i,n,e.dom()).or((t=i,e=e.dom(),A.from(c.DOM.getStyle(e,t,!0))));var t}).getOr("")}}function Ld(e){return g.firstPositionIn(e.getBody()).map(function(e){e=e.container();return J.isText(e)?e.parentNode:e})}function Hd(n){return A.from(n.selection.getRng()).bind(function(e){var t=n.getBody();return(e=e).startContainer===t&&0===e.startOffset?A.none():A.from(n.selection.getStart(!0))})}function jd(e,t){var n,i;return/^[0-9\.]+$/.test(t)&&1<=(n=parseInt(t,10))&&n<=7?(i=T.getFontStyleValues(e),(e=T.getFontSizeClasses(e))?e[n-1]||t:i[n-1]||t):t}function zd(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)}function Wd(e,t,n,i){var r,o,s=e.getRoot(),a=!1,l=i[(n?"start":"end")+"Container"],u=i[(n?"start":"end")+"Offset"],i=J.isElement(l)&&u===l.childNodes.length,c=e.schema.getNonEmptyElements(),d=n;if(Xs(l))return A.none();if(J.isElement(l)&&u>l.childNodes.length-1&&(d=!1),J.isDocument(l)&&(l=s,u=0),l===s){if(d&&(o=l.childNodes[0<u?u-1:0])){if(Xs(o))return A.none();if(c[o.nodeName]||Mp(o))return A.none()}if(l.hasChildNodes()){if(u=Math.min(!d&&0<u?u-1:u,l.childNodes.length-1),l=l.childNodes[u],u=J.isText(l)&&i?l.data.length:0,!t&&l===s.lastChild&&Mp(l))return A.none();if(jp(s,l)||Xs(l))return A.none();if(l.hasChildNodes()&&!1===Mp(l)){r=new G(o=l,s);do{if(J.isContentEditableFalse(o)||Xs(o)){a=!1;break}if(J.isText(o)&&0<o.nodeValue.length){u=d?0:o.nodeValue.length,l=o,a=!0;break}if(c[o.nodeName.toLowerCase()]&&!Fp(o)){u=e.nodeIndex(o),l=o.parentNode,d||u++,a=!0;break}}while(o=d?r.next():r.prev())}}}return t&&(J.isText(l)&&0===u&&zp(e,i,t,!0,l).each(function(e){l=e.container(),u=e.offset(),a=!0}),J.isElement(l)&&(o=(o=l.childNodes[u])||l.childNodes[u-1])&&J.isBr(o)&&!Hp(o,"A")&&!Lp(e,o,!1)&&!Lp(e,o,!0)&&zp(e,i,t,!0,o).each(function(e){l=e.container(),u=e.offset(),a=!0})),d&&!t&&J.isText(l)&&u===l.nodeValue.length&&zp(e,i,t,!1,l).each(function(e){l=e.container(),u=e.offset(),a=!0}),a?A.some(m(l,u)):A.none()}function qd(e){return e&&"A"===e.nodeName&&"href"in e}function Ud(e,t){t.fold(o,h($p,e),h(Yp,e),o)}function Vd(e){return Zp.range(e.start(),tm(e.soffset(),e.start()),e.finish(),tm(e.foffset(),e.finish()))}function $d(e){return!0===e.inline||em.isIE()}function Yd(e){return Zp.range(j.fromDom(e.startContainer),e.startOffset,j.fromDom(e.endContainer),e.endOffset)}function Xd(e){var t=yr(e);return rm(t.dom()).filter(im(e))}function Qd(e){return(e.bookmark||A.none()).bind(h(om,j.fromDom(e.getBody()))).bind(sm)}function Kd(e){return Zr(e)||eo(e)}function Gd(e){return v(y(e.selection.getSelectedBlocks(),j.fromDom),function(e){return!Kd(e)&&!xr(e).map(Kd).getOr(!1)})}var Jd,Zd=function(e,t,n,i){var r=$.document.createRange();return r.setStart(e,t),r.setEnd(n,i),r},ef={normalize:function(e){return e.collapsed?e:(t=e,n=k.fromRangeStart(t),i=k.fromRangeEnd(t),r=t.commonAncestorContainer,g.fromPosition(!1,r,i).map(function(e){return!tu(n,i,r)&&tu(n,e,r)?Zd(n.container(),n.offset(),e.container(),e.offset()):t}).getOr(t));var t,n,i,r}},tf=function(e,t){function n(e){return i[e]&&3===i[e].nodeType}var i=e.startContainer,e=e.startOffset;return 3===i.nodeType&&(0<e?t=t.replace(/^&nbsp;/," "):n("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),e<i.length?t=t.replace(/&nbsp;(<br>|)$/," "):n("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},nf=function(e,t){var n=e.startContainer,i=e.startOffset;return 3===n.nodeType&&e.collapsed&&("Â "===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(t)||(t+=" ")):"Â "===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},rf=J.matchNodeNames("td th"),of=function(e,t){var n,i,r=e.selection.getRng(),o=r.startContainer,s=r.startOffset;r.collapsed&&(n=o,i=s,J.isText(n)&&"Â "===n.nodeValue[i-1]&&J.isText(o)&&(o.insertData(s-1," "),o.deleteData(s,1),r.setStart(o,s),r.setEnd(o,s),e.selection.setRng(r))),e.selection.setContent(t)},sf=function(e,t,n){var i,r;"all"===n.getAttribute("data-mce-bogus")?n.parentNode.insertBefore(e.dom.createFragment(t),n):(i=n.firstChild,r=n.lastChild,!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):of(e,t))},af=function(e,t){A.from(e.getParent(t,"td,th")).map(j.fromDom).each(hc.trimBlockTrailingBr)},lf=function(e,t){var n,i,r=e.schema.getTextInlineElements(),o=e.dom;t&&(n=e.getBody(),i=new fc(o),K.each(o.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==n;t=t.parentNode)r[e.nodeName.toLowerCase()]&&i.compare(t,e)&&o.remove(e,!0)}))},uf=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},cf=function(e){K.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},df=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},ff=function(n,e){var t,i,r,o=n.dom,s=n.selection;e&&(n.selection.scrollIntoView(e),(i=function(e){for(var t=n.getBody();e&&e!==t;e=e.parentNode)if("false"===n.dom.getContentEditable(e))return e;return null}(e))?(o.remove(e),s.select(i)):(i=o.createRng(),(r=e.previousSibling)&&3===r.nodeType?(i.setStart(r,r.nodeValue.length),Y.ie||(t=e.nextSibling)&&3===t.nodeType&&(r.appendData(t.data),t.parentNode.removeChild(t))):(i.setStartBefore(e),i.setEndBefore(e)),r=o.getParent(e,o.isBlock),o.remove(e),r&&o.isEmpty(r)&&(n.$(r).empty(),i.setStart(r,0),i.setEnd(r,0),rf(r)||r.getAttribute("data-mce-fragment")||!(t=function(e){e=k.fromRangeStart(e);if(e=_u(n.getBody()).next(e))return e.toRange()}(i))?o.add(r,o.create("br",{"data-mce-bogus":"1"})):(i=t,o.remove(r))),s.setRng(i)))},hf={insertAtCaret:function(e,t){var n,i,r,o,s,a,l,u,c,d="string"!=typeof(t=t)?(d=K.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:d}):{content:t,details:{}},f=e,t=d.content,e=d.details,h=f.selection,p=f.dom;if(/^ | $/.test(t)&&(t=tf(h.getRng(),t)),n=f.parser,c=e.merge,i=gc({validate:f.settings.validate},f.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',s={content:t,format:"html",selection:!0,paste:e.paste},(s=f.fire("BeforeSetContent",s)).isDefaultPrevented())f.fire("SetContent",{content:s.content,format:"html",selection:!0,paste:e.paste});else{-1===(t=s.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,u);var m,g=(m=h.getRng()).startContainer||(m.parentElement?m.parentElement():null),v=f.getBody(),g=(g===v&&h.isCollapsed()&&p.isBlock(v.firstChild)&&df(f,v.firstChild)&&p.isEmpty(v.firstChild)&&((m=p.createRng()).setStart(v.firstChild,0),m.setEnd(v.firstChild,0),h.setRng(m)),h.isCollapsed()||(f.selection.setRng(ef.normalize(f.selection.getRng())),f.getDoc().execCommand("Delete",!1,null),t=nf(f.selection.getRng(),t)),{context:(r=h.getNode()).nodeName.toLowerCase(),data:e.data,insert:!0}),b=n.parse(t,g);if(!0===e.paste&&cc.isListFragment(f.schema,b)&&cc.isParentBlockLi(p,r))m=cc.insertAtCaret(i,p,f.selection.getRng(),b),f.selection.setRng(m),f.fire("SetContent",s);else{if(uf(b),"mce_marker"===(l=b.lastChild).attr("id"))for(l=(a=l).prev;l;l=l.walk(!0))if(3===l.type||!p.isBlock(l.name)){f.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(a,l,"br"===l.name);break}if(f._selectionOverrides.showBlockCaretContainer(r),g.invalid){for(of(f,u),r=h.getNode(),o=f.getBody(),9===r.nodeType?r=l=o:l=r;l!==o;)l=(r=l).parentNode;t=r===o?o.innerHTML:p.getOuterHTML(r),t=i.serialize(n.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return i.serialize(b)}))),r===o?p.setHTML(o,t):p.setOuterHTML(r,t)}else t=i.serialize(b),sf(f,t,r);lf(f,c),ff(f,p.get("mce_marker")),cf(f.getBody()),af(f.dom,f.selection.getStart()),f.fire("SetContent",s),f.addVisual()}}}},pf=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,T={getIframeAttrs:function(e){return e.getParam("iframe_attrs",{})},getDocType:function(e){return e.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(e){return e.getParam("document_base_url","")},getBodyId:function(e){return vc(e,"body_id","tinymce")},getBodyClass:function(e){return vc(e,"body_class","")},getContentSecurityPolicy:function(e){return e.getParam("content_security_policy","")},shouldPutBrInPre:function(e){return e.getParam("br_in_pre",!0)},getForcedRootBlock:function(e){return e.getParam("force_p_newlines",!1)?"p":!1===(e=e.getParam("forced_root_block","p"))?"":e},getForcedRootBlockAttrs:function(e){return e.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(e){return e.getParam("no_newline_selector","")},shouldKeepStyles:function(e){return e.getParam("keep_styles",!0)},shouldEndContainerOnEmptyBlock:function(e){return e.getParam("end_container_on_empty_block",!1)},getFontStyleValues:function(e){return K.explode(e.getParam("font_size_style_values",""))},getFontSizeClasses:function(e){return K.explode(e.getParam("font_size_classes",""))},getImagesDataImgFilter:function(e){return e.getParam("images_dataimg_filter",b(!0),"function")},isAutomaticUploadsEnabled:function(e){return e.getParam("automatic_uploads",!0,"boolean")},shouldReuseFileName:function(e){return e.getParam("images_reuse_filename",!1,"boolean")},shouldReplaceBlobUris:function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},getImageUploadUrl:function(e){return e.getParam("images_upload_url","","string")},getImageUploadBasePath:function(e){return e.getParam("images_upload_base_path","","string")},getImagesUploadCredentials:function(e){return e.getParam("images_upload_credentials",!1,"boolean")},getImagesUploadHandler:function(e){return e.getParam("images_upload_handler",null,"function")},shouldUseContentCssCors:function(e){return e.getParam("content_css_cors",!1,"boolean")},getInlineBoundarySelector:function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}},D={isInlineTarget:function(e,t){return gr(j.fromDom(t),T.getInlineBoundarySelector(e))},findRootInline:function(e,t,n){e=e,t=t;n=v(c.DOM.getParents(n.container(),"*",t),e);return A.from(n[n.length-1])},isRtl:function(e){return"rtl"===c.DOM.getStyle(e,"direction",!0)||(e=e.textContent,pf.test(e))},isAtZwsp:function(e){return Es(e)||Ss(e)},normalizePosition:bc,normalizeForwards:h(bc,!0),normalizeBackwards:h(bc,!1),hasSameParentBlock:function(e,t,n){t=eu(t,e),n=eu(n,e);return t&&t===n}},mf={getParentBlock:function(e,t){return br(e,t)?hs(t,function(e){return Jr(e)||eo(e)},(n=e,function(e){return f(n,j.fromDom(e.dom().parentNode))})):A.none();var n},paddEmptyBody:function(e){var t;e.dom.isEmpty(e.getBody())&&(e.setContent(""),t=(t=(e=e).getBody()).firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t,e.selection.setCursorLocation(t,0))},willDeleteLastPositionInElement:function(r,o,s){return ba(g.firstPositionIn(s),g.lastPositionIn(s),function(e,t){var n=D.normalizePosition(!0,e),i=D.normalizePosition(!1,t),e=D.normalizePosition(!1,o);return(r?g.nextPosition(s,e).map(function(e){return e.isEqual(i)&&o.isEqual(n)}):g.prevPosition(s,e).map(function(e){return e.isEqual(n)&&o.isEqual(i)})).getOr(!1)}).getOr(!0)}},gf=function(e,t){return Ns(t)&&!1===(e=e,n=t,J.isText(n)&&/^[ \t\r\n]*$/.test(n.data)&&!1===yc(e,n))||(e=t,J.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")||vf(t));var n},vf=J.hasAttribute("data-mce-bookmark"),bf=J.hasAttribute("data-mce-bogus"),yf=J.hasAttributeValue("data-mce-bogus","all"),xf={isEmpty:function(e){var t,n,i=e.dom(),r=0;if(gf(i,i))return!1;if(!(n=i.firstChild))return!0;t=new G(n,i);do{if(yf(n))n=t.next(!0);else{if(!bf(n))if(J.isBr(n))r++;else if(gf(i,n))return!1;n=t.next()}}while(n);return r<=1}},_f=Ii("block","position"),wf=Ii("from","to"),Cf=function(e,t){var e=j.fromDom(e),n=j.fromDom(t.container());return mf.getParentBlock(e,n).map(function(e){return _f(e,t)})},kf=function(e){return!1===f(e.from().block(),e.to().block())},Tf=function(e){return xr(e.from().block()).bind(function(t){return xr(e.to().block()).filter(function(e){return f(t,e)})}).isSome()},Ef=function(e){return!1===J.isContentEditableFalse(e.from().block().dom())&&!1===J.isContentEditableFalse(e.to().block().dom())},Sf=function(t,n,i){return J.isBr(i.position().getNode())&&!1===xf.isEmpty(i.block())?g.positionIn(!1,i.block().dom()).bind(function(e){return e.isEqual(i.position())?g.fromPosition(n,t,e).bind(function(e){return Cf(t,e)}):A.some(i)}).getOr(i):i},Df=function(e,t,n){return n.collapsed?(r=t,t=n,t=Cf(i=e,k.fromRangeStart(t)),n=t.bind(function(e){return g.fromPosition(r,i,e.position()).bind(function(e){return Cf(i,e).map(function(e){return Sf(i,r,e)})})}),ba(t,n,wf).filter(function(e){return kf(e)&&Tf(e)&&Ef(e)})):A.none();var i,r},Nf={parentsUntil:xc,parents:_c,parentsAndSelf:function(e,t){return[e].concat(_c(e,t))}},Af=function(e,t,n,i){return xf.isEmpty(n)?(hc.fillWithPaddingBr(n),g.firstPositionIn(n.dom())):(0===v(Cr(i),function(e){return!xf.isEmpty(e)}).length&&xf.isEmpty(t)&&Jo(i,j.fromTag("br")),n=g.prevPosition(n.dom(),k.before(i.dom())),w(wc(t),function(e){Jo(i,e)}),Cc(e,t),n)},Pf=function(e,t,n){var i;return xf.isEmpty(n)?(rs(n),xf.isEmpty(t)&&hc.fillWithPaddingBr(t),g.firstPositionIn(t.dom())):(i=g.lastPositionIn(n.dom()),w(wc(t),function(e){ts(n,e)}),Cc(e,t),i)},Rf=function(e,t){return br(t,e)?(e=e,e=Nf.parentsAndSelf(e,t),A.from(e[e.length-1])):A.none()},Of=function(e,t){g.positionIn(e,t.dom()).map(function(e){return e.getNode()}).map(j.fromDom).filter(Gr).each(rs)},If=function(e,t,n,i){return t?kc(e,i,n):kc(e,n,i)},Bf={backspaceDelete:function(t,n){var i=j.fromDom(t.getBody()),e=Df(i.dom(),n,t.selection.getRng()).bind(function(e){return If(i,n,e.from().block(),e.to().block())});return e.each(function(e){t.selection.setRng(e.toRange())}),e.isSome()}},Mf=function(n,i){var r=i.getRng();return ba(mf.getParentBlock(n,j.fromDom(r.startContainer)),mf.getParentBlock(n,j.fromDom(r.endContainer)),function(e,t){return!1===f(e,t)&&(r.deleteContents(),If(n,!0,e,t).each(function(e){i.setRng(e.toRange())}),!0)}).getOr(!1)},Ff=function(e,t){var n=g.prevPosition(e.dom(),k.fromRangeStart(t)).isNone(),i=g.nextPosition(e.dom(),k.fromRangeEnd(t)).isNone();return!(Tc(e=e,(t=t).startContainer)||Tc(e,t.endContainer))&&n&&i},Lf=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},Hf={backspaceDelete:function(e,t){return!e.selection.isCollapsed()&&(e=e,n=j.fromDom(e.getBody()),i=e.selection.getRng(),Ff(n,i)?Lf(e):Mf(n,e.selection));var n,i}},n=function(s){if(!oe(s))throw new Error("cases must be an array");if(0===s.length)throw new Error("there must be at least one case");var a=[],n={};return w(s,function(e,i){var t=nr(e);if(1!==t.length)throw new Error("one and only one name per case");var r=t[0],o=e[r];if(void 0!==n[r])throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!oe(o))throw new Error("case arguments must be an array");a.push(r),n[r]=function(){var e=arguments.length;if(e!==o.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+o.length+" ("+o+"), got "+e);for(var n=new Array(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==s.length)throw new Error("Wrong number of arguments to fold. Expected "+s.length+", got "+arguments.length);return arguments[i].apply(null,n)},match:function(e){var t=nr(e);if(a.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+"\nActual: "+t.join(","));if(xe(a,function(e){return W(t,e)}))return e[r].apply(null,n);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+a.join(", "))},log:function(e){$.console.log(e,{constructors:a,constructor:r,params:n})}}}}),n},jf=h(Sc,!1),zf=h(Sc,!0),Wf=(Jd="Â ",function(e){return Jd===e}),qf=h(Rc,!0,Ac),Uf=h(Rc,!1,Ac),Vf=function(e){e=e.container();return J.isText(e)&&0===e.data.length},$f=h(Oc,0),Yf=h(Oc,-1),Xf=h(Ic,0),Qf=h(Ic,-1),Kf=n([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Gf=function(e,t,n){var n=ru(t?1:-1,e,n),n=k.fromRangeStart(n),i=j.fromDom(e);return!1===t&&Yf(n)?A.some(Kf.remove(n.getNode(!0))):t&&$f(n)?A.some(Kf.remove(n.getNode())):!1===t&&$f(n)&&Nc(i,n)?jf(i,n).map(function(e){return Kf.remove(e.getNode())}):t&&Yf(n)&&Dc(i,n)?zf(i,n).map(function(e){return Kf.remove(e.getNode())}):Lc(e,t,n)},Jf=function(e,t){var n=e.data.slice(t),n=n.length-n.replace(/^\s+/g,"").length;return Hc(e,t,n)},Zf=function(e,t){var n=e.data.slice(0,t),n=n.length-In(n).length;return Hc(e,t-n,n)},eh=function(e,t,n){var i=In(e.data).length;return e.appendData(t.data),rs(j.fromDom(t)),n&&Jf(e,i),e},th=function(e,t){return e=e,i=(n=t).container(),r=n.offset(),!1===k.isTextPosition(n)&&i===e.parentNode&&r>k.before(e).offset()?k(t.container(),t.offset()-1):t;var n,i,r},nh=function(e,t,n){return(e?qc:Wc)(t,n)},ih={deleteElement:function(t,n,e,i){void 0===i&&(i=!0);c=n,d=t.getBody(),o=e.dom();var r,o,s,a,l,u,c=nh(c,d,o).map(h(th,o)),d=fs(e,h(Vc,t),(r=t.getBody(),function(e){return e.dom()===r})),f=(s=c,c=o=e,a=sr(t.schema.getTextInlineElements(),Zi(c)),l=_r(o).filter(tr),u=wr(o).filter(tr),rs(o),ya(l,u,s,function(e,t,n){var e=e.dom(),t=t.dom(),i=e.data.length;return eh(e,t,a),n.container()===t?k(e,i):n}).orThunk(function(){return a&&(l.each(function(e){return Zf(e.dom(),e.dom().length)}),u.each(function(e){return Jf(e.dom(),0)})),s}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):d.bind($c).fold(function(){i&&Uc(t,n,f)},function(e){i&&Uc(t,n,A.some(e))})}},rh=function(t,n){return function(e){return t._selectionOverrides.hideFakeCaret(),ih.deleteElement(t,n,j.fromDom(e)),!0}},oh=function(t,n){return function(e){e=n?k.before(e):k.after(e);return t.selection.setRng(e.toRange()),!0}},sh=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},ah=function(e){w(ls(e,".mce-offscreen-selection"),rs)},lh={backspaceDelete:function(e,t){return e.selection.isCollapsed()?(r=t,Gf((i=e).getBody(),r,i.selection.getRng()).map(function(e){return e.fold(rh(i,r),oh(i,r),sh(i))}).getOr(!1)):(t=t,n=(e=e).selection.getNode(),!!J.isContentEditableFalse(n)&&(ah(j.fromDom(e.getBody())),ih.deleteElement(e,t,j.fromDom(e.selection.getNode())),mf.paddEmptyBody(e),!0));var n,i,r},paddEmptyElement:function(e){var t,n=function(e,t){for(;t&&t!==e;){if(J.isContentEditableTrue(t)||J.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return J.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(k.before(t).toRange())),!0}},uh=J.isText,ch=function(e){return uh(e)&&e.data[0]===C.ZWSP},dh=function(e){return uh(e)&&e.data[e.data.length-1]===C.ZWSP},fh=function(e){return e.ownerDocument.createTextNode(C.ZWSP)},hh=function(e,t){return e?uh((e=t).previousSibling)?(dh(e.previousSibling)||e.previousSibling.appendData(C.ZWSP),e.previousSibling):uh(e)?(ch(e)||e.insertData(0,C.ZWSP),e):(n=fh(e),e.parentNode.insertBefore(n,e),n):uh((e=t).nextSibling)?(ch(e.nextSibling)||e.nextSibling.insertData(0,C.ZWSP),e.nextSibling):uh(e)?(dh(e)||e.appendData(C.ZWSP),e):(n=fh(e),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n);var n},ph=h(hh,!0),mh=h(hh,!1),gh=function(t,e){return e.fold(function(e){jl.remove(t.get());e=ph(e);return t.set(e),A.some(k(e,e.length-1))},function(e){return g.firstPositionIn(e).map(function(e){return Xc(e,t)?k(t.get(),1):(jl.remove(t.get()),e=Yc(e,!0),t.set(e),k(e,1))})},function(e){return g.lastPositionIn(e).map(function(e){return Xc(e,t)?k(t.get(),t.get().length-1):(jl.remove(t.get()),e=Yc(e,!1),t.set(e),k(e,e.length-1))})},function(e){jl.remove(t.get());e=mh(e);return t.set(e),A.some(k(e,1))})},vh=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return A.none()},bh=n([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yh=function(e,t){t=eu(t,e);return t||e},xh=function(e,t,n){return D.findRootInline(e,t,n).filter(h(Kc,t))},_h=function(e){return!1===D.isRtl(Ch(e))},wh=function(e,t,n){return vh([Qc,Gc,Jc,Zc],[e,t,n]).filter(_h)},Ch=function(e){return e.fold(l,l,l,l)},kh=function(e){return e.fold(bh.before,bh.before,bh.after,bh.after)},Th=function(n,e,i,t,r,o){return ba(D.findRootInline(e,i,t),D.findRootInline(e,i,r),function(e,t){return e!==t&&D.hasSameParentBlock(i,e,t)?bh.after(n?e:t):o}).getOr(o)},Eh=function(e,n){return e.fold(b(!0),function(e){return t=n,!(ed(e=e)===ed(t)&&Ch(e)===Ch(t));var t})},Sh={readLocation:wh,findLocation:nd,prevLocation:h(nd,!1),nextLocation:h(nd,!0),getElement:Ch,outside:kh,inside:function(e){return e.fold(bh.start,bh.start,bh.end,bh.end)}},Dh=function(e,t){var n=t.selection.getRng(),n=e?k.fromRangeEnd(n):k.fromRangeStart(n);return!!id(t)&&(e&&Es(n)?rd(!0,t.selection,n):!(e||!Ss(n))&&rd(!1,t.selection,n))},Nh=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Ah=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Ph=function(t,e,n){return gh(e,n).map(function(e){return Nh(t,e),n})},Rh={move:function(s,a,l){return function(){return!!od(s)&&(n=a,e=l,i=(t=s).getBody(),r=k.fromRangeStart(t.selection.getRng()),o=h(D.isInlineTarget,t),Sh.findLocation(e,o,i,r).bind(function(e){return Ph(t,n,e)}).isSome());var t,n,e,i,r,o}},moveNextWord:h(sd,!0),movePrevWord:h(sd,!1),setupSelectedState:function(a){var l=ss(null),u=h(D.isInlineTarget,a);return a.on("NodeChange",function(e){var n,i,r,t,o,s;od(a)&&(o=u,s=a.dom,t=e.parents,s=v(s.select('*[data-mce-selected="inline-boundary"]'),o),t=v(t,o),w(_e(s,t),h(Ah,!1)),w(_e(t,s),h(Ah,!0)),o=l,(t=a).selection.isCollapsed()&&!0!==t.composing&&o.get()&&(s=k.fromRangeStart(t.selection.getRng()),k.isTextPosition(s)&&!1===D.isAtZwsp(s)&&(Nh(t,jl.removeAndReposition(o.get(),s)),o.set(null))),n=u,i=a,r=l,t=e.parents,i.selection.isCollapsed()&&(t=v(t,n),w(t,function(e){var t=k.fromRangeStart(i.selection.getRng());Sh.readLocation(n,i.getBody(),t).bind(function(e){return Ph(i,r,e)})})))}),l},setCaretPosition:Nh},Oh=function(i){return ba(g.firstPositionIn(i),g.lastPositionIn(i),function(e,t){var e=D.normalizePosition(!0,e),n=D.normalizePosition(!1,t);return g.nextPosition(i,e).map(function(e){return e.isEqual(n)}).getOr(!0)}).getOr(!0)},Ih=function(t,n){return function(e){return gh(n,e).map(function(e){return Rh.setCaretPosition(t,e),!0}).getOr(!1)}},Bh=function(i,r,o,s){var a=i.getBody(),l=h(D.isInlineTarget,i);i.undoManager.ignore(function(){var e,t,n;i.selection.setRng((e=o,t=s,(n=$.document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),i.execCommand("Delete"),Sh.readLocation(l,a,k.fromRangeStart(i.selection.getRng())).map(Sh.inside).map(Ih(i,r))}),i.nodeChanged()},Mh=function(e,t){t=eu(t,e);return t||e},Fh={backspaceDelete:function(e,t,n){var i,r,o,s,a,l,u,c;return!(!e.selection.isCollapsed()||!1===e.settings.inline_boundaries)&&(i=k.fromRangeStart(e.selection.getRng()),o=t,s=n,a=i,l=Mh((r=e).getBody(),a.container()),u=h(D.isInlineTarget,r),(c=Sh.readLocation(u,l,a)).bind(function(e){return s?e.fold(b(A.some(Sh.inside(e))),A.none,b(A.some(Sh.outside(e))),A.none):e.fold(A.none,b(A.some(Sh.outside(e))),A.none,b(A.some(Sh.inside(e))))}).map(Ih(r,o)).getOrThunk(function(){var t=g.navigate(s,l,a),e=t.bind(function(e){return Sh.readLocation(u,l,e)});return(c.isSome()&&e.isSome()?D.findRootInline(u,l,a).map(function(e){return!!Oh(e)&&(ih.deleteElement(r,s,j.fromDom(e)),!0)}):e.bind(function(e){return t.map(function(e){return s?Bh(r,o,a,e):Bh(r,o,e,a),!0})})).getOr(!1)}))}},Lh=Ii("start","end"),Hh=Ii("rng","table","cells"),jh=n([{removeTable:["element"]},{emptyCells:["cells"]}]),zh=function(e){return h(f,e)},Wh=function(e,n){return ld(e.start(),n).bind(function(t){return ld(e.end(),n).bind(function(e){return f(t,e)?A.some(t):A.none()})})},qh=function(e,t){var n=ad(e.startContainer,t),i=ad(e.endContainer,t);return ba(n,i,Lh).filter(ud).filter(function(e){return fd(t,e)}).orThunk(function(){return dd(t,e)})},Uh=function(t,e){return Wh(t,e).map(function(e){return Hh(t,e,cd(e))})},Vh=function(n){return ba(hd(n.cells(),n.rng().start()),hd(n.cells(),n.rng().end()),function(e,t){return n.cells().slice(e,t+1)})},$h=function(e,t){return t=t,n=zh(e),qh(t,n).bind(function(e){return Uh(e,n)}).bind(pd);var n},Yh={getRanges:md,getSelectedNodes:function(e){return ye(e,function(e){e=Bs(e);return e?[j.fromDom(e)]:[]})},hasMultipleRanges:function(e){return 1<md(e).length}},Xh={getCellsFromRanges:gd,getCellsFromElement:vd,getCellsFromElementOrRanges:bd,getCellsFromEditor:function(e){return bd(Yh.getRanges(e.selection.getSel()),j.fromDom(e.getBody()))}},Qh=function(e,t){return w(t,hc.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},Kh=_d,Gh=function(n,e,i,t){return Jh(e,t).fold(function(){return t=n,$h(e,i).map(function(e){return e.fold(h(yd,t),h(Qh,t))});var t},function(e){return Kh(n,e)}).getOr(!1)},Jh=function(e,t){return ge(Nf.parentsAndSelf(t,e),function(e){return"caption"===Zi(e)})},Zh=_d,ep=function(i,r,o,e){var s=k.fromRangeStart(i.selection.getRng());return xd(o,e).bind(function(e){return xf.isEmpty(e)?_d(i,e):(t=o,n=e,e=s,g.navigate(r,i.getBody(),e).bind(function(e){return xd(t,j.fromDom(e.getNode())).map(function(e){return!1===f(e,n)})}));var t,n})},tp=function(e,t,n,i){var r=k.fromRangeStart(e.selection.getRng());return xf.isEmpty(i)?_d(e,i):wd(e,n,t,i,r)},np={backspaceDelete:function(e,t){var n,i,r,o,s,a=j.fromDom(e.selection.getStart(!0)),l=Xh.getCellsFromEditor(e);return e.selection.isCollapsed()&&0===l.length?(i=e,r=t,o=a,s=j.fromDom(i.getBody()),Jh(s,o).fold(function(){return ep(i,r,s,o)},function(e){return tp(i,r,s,e)}).getOr(!1)):(l=e,t=a,e=j.fromDom(l.getBody()),a=l.selection.getRng(),0!==(n=Xh.getCellsFromEditor(l)).length?Qh(l,n):Gh(l,e,a,t))}},ip=P.isEq,rp=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&e.dom.is(t,i[r].selector))return!0;return!1},op=function(e,t,n,i,r){var o,s,a,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(s=0;s<u.length;s++)if(o=u[s],kd(e.dom,t,o)&&Td(c,t,o,"attributes",r,i)&&Td(c,t,o,"styles",r,i)){if(l=o.classes)for(a=0;a<l.length;a++)if(!e.dom.hasClass(t,l[a]))return;return o}},sp={matchNode:op,matchName:kd,match:function(e,t,n,i){var r;return i?Cd(e,i,t,n):(i=e.selection.getNode(),!!Cd(e,i,t,n)||!((r=e.selection.getStart())===i||!Cd(e,r,t,n)))},matchAll:function(i,r,o){var s=[],a={},e=i.selection.getStart();return i.dom.getParent(e,function(e){for(var t,n=0;n<r.length;n++)t=r[n],!a[t]&&op(i,e,t,o)&&(a[t]=!0,s.push(t))},i.dom.getRoot()),s},canApply:function(e,t){var n,i,r,o,s=e.formatter.get(t),a=e.dom;if(s)for(t=e.selection.getStart(),n=P.getParents(a,t),r=s.length-1;0<=r;r--){if(!(o=s[r].selector)||s[r].defaultBlock)return!0;for(i=n.length-1;0<=i;i--)if(a.is(n[i],o))return!0}return!1},matchesUnInheritedFormatSelector:rp},ap={split:function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,e=e.endOffset;return t===i&&J.isText(t)?0<n&&n<t.nodeValue.length&&(t=(i=Ed(t,n)).previousSibling,n<e?(t=i=Ed(i,e-=n).previousSibling,e=i.nodeValue.length,n=0):e=0):(J.isText(t)&&0<n&&n<t.nodeValue.length&&(t=Ed(t,n),n=0),J.isText(i)&&0<e&&e<i.nodeValue.length&&(e=(i=Ed(i,e).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:e}}},lp=C.ZWSP,up="_mce_caret",cp=function(e,t){return e.importNode(t,!0)},dp=function(e){var t;if(e)for(e=(t=new G(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},fp=function(e){var t=j.fromTag("span");return Ai(t,{id:up,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ts(t,j.fromText(lp)),t},hp=function(e,t,n){void 0===n&&(n=!0);var i,r=e.dom,o=e.selection;Sd(t)?ih.deleteElement(e,!1,j.fromDom(t),n):(e=o.getRng(),n=r.getParent(t,r.isBlock),i=function(e){e=dp(e);return e&&e.nodeValue.charAt(0)===lp&&e.deleteData(0,1),e}(t),e.startContainer===i&&0<e.startOffset&&e.setStart(i,e.startOffset-1),e.endContainer===i&&0<e.endOffset&&e.setEnd(i,e.endOffset-1),r.remove(t,!0),n&&r.isEmpty(n)&&hc.fillWithPaddingBr(j.fromDom(n)),o.setRng(e))},pp=function(e,t,n){var i=e.dom,e=i.getParent(n,h(P.isTextBlock,e));e&&i.isEmpty(e)||(hc.removeTrailingBr(j.fromDom(n)),i.isEmpty(n))?n.parentNode.replaceChild(t,n):i.insertAfter(t,n)},mp=function(e,t){e=function(e,t,n){for(var i=e,r=function(e){n=t(n,e)},o=i.length-1;0<=o;o--)r(i[o],o);return n}(e,function(e,t){return Nd(e,t.cloneNode(!1))},t);return Nd(e,e.ownerDocument.createTextNode(lp))},gp=function(r){r.on("mouseup keydown",function(e){var t,n,i;t=r,e=e.keyCode,n=t.selection,i=t.getBody(),Dd(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==lp||Dd(t,Ol(i,n.getStart())),37!==e&&39!==e||Dd(t,Ol(i,n.getStart()))})},vp=function(e){return Rl(e.dom())&&Sd(e.dom())},bp=function(e,t){var n=Nf.parentsAndSelf(t,e);return ve(n,Kr).fold(b(n),function(e){return n.slice(0,e)})},yp=function(e){return 1===Tr(e).length},xp=function(e,t,n,i){var r=h(Ad,t),i=y(v(i,r),function(e){return e.dom()});0===i.length?ih.deleteElement(t,e,n):(r=n.dom(),e=i,n=fp(!1),e=mp(e,n.dom()),Jo(j.fromDom(r),n),rs(j.fromDom(r)),i=k(e,0),t.selection.setRng(i.toRange()))},_p={backspaceDelete:function(e,t){return!!e.selection.isCollapsed()&&(n=e,i=t,e=j.fromDom(n.getBody()),t=j.fromDom(n.selection.getStart()),r=v(bp(e,t),yp),we(r).map(function(e){var t=k.fromRangeStart(n.selection.getRng());return!(!mf.willDeleteLastPositionInElement(i,t,e.dom())||vp(e))&&(xp(i,n,e,r),!0)}).getOr(!1));var n,i,r}},wp={scrollElementIntoView:function(e,t,n){var i,r,o,s=e.dom,a=s.getRoot(),l=0;if(!function(e,t,n){t={elm:t,alignToTop:n};return e.fire("scrollIntoView",t),t.isDefaultPrevented()}(e,t,n)&&J.isElement(t)){if(!1===n&&(l=t.offsetHeight),"BODY"!==a.nodeName){n=e.selection.getScrollContainer();if(n)return i=Pd(t).y-Pd(n).y+l,o=n.clientHeight,void((i<(r=n.scrollTop)||r+o<i+25)&&(n.scrollTop=i<r?i:i-o+25))}a=s.getViewPort(e.getWin()),i=s.getPos(t).y+l,r=a.y,o=a.h,(i<a.y||r+o<i+25)&&e.getWin().scrollTo(0,i<r?i:i-o+25)}},scrollRangeIntoView:function(i,e){U(m.fromRangeStart(e).getClientRects()).each(function(e){var t,n=(n=i).inline?n.getBody().getBoundingClientRect():{left:0,right:(n=n.getWin()).innerWidth,top:0,bottom:n.innerHeight,width:n.innerWidth,height:n.innerHeight},n={x:pa(n=n,e=e),y:ma(n,e)};e=0!==n.x?0<n.x?n.x+4:n.x-4:0,n=0!==n.y?0<n.y?n.y+4:n.y-4:0,(t=i).inline?(t.getBody().scrollLeft+=e,t.getBody().scrollTop+=n):t.getWin().scrollBy(e,n)})}},Cp=J.isContentEditableTrue,kp=J.isContentEditableFalse,Tp=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((t=(e=t).ownerDocument.createRange()).selectNode(e),t)},Ep=function(e,t,n){var t=ru(1,e.getBody(),t),t=k.fromRangeStart(t),i=t.getNode();return kp(i)?Rd(1,e,i,!t.isAtEnd(),!1):(i=t.getNode(!0),kp(i)?Rd(1,e,i,!1,!1):(i=e.dom.getParent(t.getNode(),function(e){return kp(e)||Cp(e)}),kp(i)?Rd(1,e,i,!1,n):null))},Sp=function(e,t,n,i,r,o){i=Rd(i,e,o.getNode(!r),r,!0);return(t.collapsed?(o=t.cloneRange(),r?o.setEnd(i.startContainer,i.startOffset):o.setStart(i.endContainer,i.endOffset),o):t).deleteContents(),e.selection.setRng(i),r=e.dom,o=n,J.isText(o)&&0===o.data.length&&r.remove(o),!0},Dp={backspaceDelete:function(e,t){return t=t,a=(e=e).selection.getRng(),!!J.isText(a.commonAncestorContainer)&&(n=t?vl.Forwards:vl.Backwards,i=_u(e.getBody()),s=h(au,i.next),i=h(au,i.prev),s=t?s:i,i=t?$f:Yf,r=ou(n,e.getBody(),a),!!(o=D.normalizePosition(t,s(r)))&&(i(o)?Sp(e,a,r.getNode(),n,t,o):!!((s=s(o))&&i(s)&&lu(o,s))&&Sp(e,a,r.getNode(),n,t,s)));var n,i,r,o,s,a}},Np={deleteCommand:function(e){lh.backspaceDelete(e,!1)||Dp.backspaceDelete(e,!1)||Fh.backspaceDelete(e,!1)||Bf.backspaceDelete(e,!1)||np.backspaceDelete(e)||Hf.backspaceDelete(e,!1)||_p.backspaceDelete(e,!1)||(Bd(e,"Delete"),mf.paddEmptyBody(e))},forwardDeleteCommand:function(e){lh.backspaceDelete(e,!0)||Dp.backspaceDelete(e,!0)||Fh.backspaceDelete(e,!0)||Bf.backspaceDelete(e,!0)||np.backspaceDelete(e)||Hf.backspaceDelete(e,!0)||_p.backspaceDelete(e,!0)||Bd(e,"ForwardDelete")}},Ap={getFontSize:Fd("font-size"),getFontFamily:a(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Fd("font-family")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?function(e,t){t=Math.pow(10,t);return Math.round(e*t)/t}(72*parseInt(e,10)/96,t||0)+"pt":e}},Pp=function(e,t){e.formatter.toggle("fontname",{value:jd(e,t)}),e.nodeChanged()},Rp=function(t){return Hd(t).fold(function(){return Ld(t).map(function(e){return Ap.getFontFamily(t.getBody(),e)}).getOr("")},function(e){return Ap.getFontFamily(t.getBody(),e)})},Op=function(e,t){e.formatter.toggle("fontsize",{value:jd(e,t)}),e.nodeChanged()},Ip=function(t){return Hd(t).fold(function(){return Ld(t).map(function(e){return Ap.getFontSize(t.getBody(),e)}).getOr("")},function(e){return Ap.getFontSize(t.getBody(),e)})},Bp={isEq:function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}},Mp=function(e){return e&&"TABLE"===e.nodeName},Fp=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Lp=function(e,t,n){for(var i=new G(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(J.isBr(t))return!0},Hp=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},jp=function(e,t){for(;t&&t!==e;){if(J.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},zp=function(e,t,n,i,r){var o,s,a,l,u,c=e.getRoot(),d=e.schema.getNonEmptyElements(),f=e.getParent(r.parentNode,e.isBlock)||c;if(i&&J.isBr(r)&&t&&e.isEmpty(f))return A.some(m(r.parentNode,e.nodeIndex(r)));for(o=new G(r,f);a=o[i?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(u=c,Xs(l=a)&&!1===zd(l,u,Rl)))return A.none();if(J.isText(a)&&0<a.nodeValue.length)return!1===function(e,t,n){return zd(e,t,function(e){return e.nodeName===n})}(a,c,"A")?A.some(m(a,i?a.nodeValue.length:0)):A.none();if(e.isBlock(a)||d[a.nodeName.toLowerCase()])return A.none();s=a}return n&&s?A.some(m(s,0)):A.none()},Wp={normalize:function(e,t){var n=t.collapsed,i=t.cloneRange(),r=m.fromRangeStart(t);return Wd(e,n,!0,i).each(function(e){n&&m.isAbove(r,e)||i.setStart(e.container(),e.offset())}),n||Wd(e,n,!1,i).each(function(e){i.setEnd(e.container(),e.offset())}),n&&i.collapse(!0),Bp.isEq(t,i)?A.none():A.some(i)}},qp=function(e,t,n){for(var i,r=new G(t,n),o=e.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0},Up=function(e,t,n){var i=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),t.scrollIntoView(i),e.remove(i)},Vp=function(e,t,n,i){e=e.createRng();i?(e.setStartBefore(n),e.setEndBefore(n)):(e.setStartAfter(n),e.setEndAfter(n)),t.setRng(e)},$p=function(e,t){var n=j.fromTag("br");Jo(j.fromDom(t),n),e.undoManager.add()},Yp=function(e,t){!function(e,t){if(Xp(k.after(t)))return true;else return g.nextPosition(e,k.after(t)).map(function(e){return J.isBr(e.getNode())}).getOr(false)}(e.getBody(),t)&&Zo(j.fromDom(t),j.fromTag("br"));var n=j.fromTag("br");Zo(j.fromDom(t),n),Up(e.dom,e.selection,n.dom()),Vp(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Xp=function(e){return J.isBr(e.getNode())},Qp=function(e){return e.fold(b(!1),qd,qd,b(!1))},Kp={insert:function(e,t){i=e,d=h(D.isInlineTarget,i),n=k.fromRangeStart(i.selection.getRng());var n,i,r,o,s,a,l,u,c,d=Sh.readLocation(d,i.getBody(),n).filter(Qp);d.isSome()?d.each(h(Ud,e)):(i=t,d=(n=e).selection,t=n.dom,s=d.getRng(),Wp.normalize(t,s).each(function(e){s.setStart(e.startContainer,e.startOffset),s.setEnd(e.endContainer,e.endOffset)}),e=s.startOffset,1===(a=s.startContainer).nodeType&&a.hasChildNodes()&&(l=e>a.childNodes.length-1,a=a.childNodes[Math.min(e,a.childNodes.length-1)]||a,e=l&&3===a.nodeType?a.nodeValue.length:0),l=t.getParent(a,t.isBlock),u=l?t.getParent(l.parentNode,t.isBlock):null,c=u?u.nodeName.toUpperCase():"",i=i&&i.ctrlKey,"LI"!==c||i||(l=u),a&&3===a.nodeType&&e>=a.nodeValue.length&&(qp(n.schema,a,l)||(r=t.create("br"),s.insertNode(r),s.setStartAfter(r),s.setEndAfter(r),o=!0)),r=t.create("br"),Cl(t,s,r),Up(t,d,r),Vp(t,d,r,o),n.undoManager.add())}},Ae={create:Ii("start","soffset","finish","foffset")},t=n([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Gp={before:t.before,on:t.on,after:t.after,cata:function(e,t,n,i){return e.fold(t,n,i)},getStart:function(e){return e.fold(l,l,l)}},Jp=n([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Zp={domRange:Jp.domRange,relative:Jp.relative,exact:Jp.exact,exactFromRange:function(e){return Jp.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){e=e.match({domRange:function(e){return j.fromDom(e.startContainer)},relative:function(e,t){return Gp.getStart(e)},exact:function(e,t,n,i){return e}});return yr(e)},range:Ae.create},em=Ji.detect().browser,tm=function(e,t){t=tr(t)?Ku(t).length:Tr(t).length+1;return t<e?t:e<0?0:e},nm=function(e,t){return!J.isRestrictedNode(t.dom())&&(br(e,t)||f(e,t))},im=function(t){return function(e){return nm(t,e.start())&&nm(t,e.finish())}},rm=function(e){e=e.getSelection();return(e&&0!==e.rangeCount?A.from(e.getRangeAt(0)):A.none()).map(Yd)},om=function(e,t){return A.from(t).filter(im(e)).map(Vd)},sm=function(e){var t=$.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),A.some(t)}catch(e){return A.none()}},am={store:function(e){var t=$d(e)?Xd(j.fromDom(e.getBody())):A.none();e.bookmark=t.isSome()?t:e.bookmark},storeNative:function(e,t){var n=j.fromDom(e.getBody()),t=($d(e)?A.from(t):A.none()).map(Yd).filter(im(n));e.bookmark=t.isSome()?t:e.bookmark},readRange:rm,restore:function(t){Qd(t).each(function(e){t.selection.setRng(e)})},getRng:Qd,getBookmark:Xd,validate:om},lm=function(e,a){var t=e.settings,l=e.dom,n=e.selection,i=e.formatter,u=/[a-z%]+$/i.exec(t.indentation)[0],c=parseInt(t.indentation,10),d=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||t.forced_root_block||l.getParent(n.getNode(),l.isBlock)||i.apply("div"),w(Gd(e),function(e){var t,n,i,r,o,s;t=l,n=a,i=d,r=c,o=u,e=e.dom(),"false"!==t.getContentEditable(e)&&(i=i?"margin":"padding",i="TABLE"===e.nodeName?"margin":i,i+="rtl"===t.getStyle(e,"direction",!0)?"Right":"Left","outdent"===n?(s=Math.max(0,parseInt(e.style[i]||0,10)-r),t.setStyle(e,i,s?s+o:"")):(s=parseInt(e.style[i]||0,10)+r+o,t.setStyle(e,i,s)))})},um=K.each,cm=K.extend,dm=K.map,fm=K.inArray;function hm(s){function t(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=p.state[e])return t(e);try{return s.getDoc().queryCommandState(e)}catch(e){}return!1}}function e(e,n){n=n||"exec",um(e,function(t,e){um(e.toLowerCase().split(","),function(e){p[n][e]=t})})}function n(e,t,n){e=e.toLowerCase(),p.value[e]=function(){return t.call(n||s)}}function i(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),s.getDoc().execCommand(e,t,n)}function r(e){return f.match(e)}function o(e,t){f.toggle(e,t?{value:t}:void 0),s.nodeChanged()}function a(e){h=d.getBookmark(e)}function l(){d.moveToBookmark(h)}function u(t){return function(){var e=d.isCollapsed()?[c.getParent(d.getNode(),c.isBlock)]:d.getSelectedBlocks(),e=dm(e,function(e){return!!f.matchNode(e,t)});return-1!==fm(e,!0)}}var c,d,f,h,p={state:{},exec:{},value:{}},m=s.settings;s.on("PreInit",function(){c=s.dom,d=s.selection,m=s.settings,f=s.formatter}),cm(this,{execCommand:function(t,n,i,e){var r,o=!1;if(!s.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?am.restore(s):s.focus(),(e=s.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(e=t.toLowerCase(),r=p.exec[e])return r(e,n,i),s.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(um(s.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,i))return s.fire("ExecCommand",{command:t,ui:n,value:i}),!(o=!0)}),o)return o;if(s.theme&&s.theme.execCommand&&s.theme.execCommand(t,n,i))return s.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{o=s.getDoc().execCommand(t,n,i)}catch(e){}return!!o&&(s.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}},queryCommandState:t,queryCommandValue:function(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=p.value[e])return t(e);try{return s.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),p.exec[e])return!0;try{return s.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:e,addCommand:function(e,r,o){e=e.toLowerCase(),p.exec[e]=function(e,t,n,i){return r.call(o||s,t,n,i)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),p.state[e]=function(){return t.call(n||s)}},addQueryValueHandler:n,hasCustomCommand:function(e){return e=e.toLowerCase(),!!p.exec[e]}}),e({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=s.getDoc();try{i(e)}catch(e){t=!0}!(t="paste"!==e||n.queryCommandEnabled(e)?t:!0)&&n.queryCommandSupported(e)||(t=s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),Y.mac&&(t=t.replace(/Ctrl\+/g,"â+")),s.notificationManager.open({text:t,type:"error"}))},unlink:function(){var e;d.isCollapsed()?(e=s.dom.getParent(s.selection.getStart(),"a"))&&s.dom.remove(e,!0):f.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),um("left,center,right,justify".split(","),function(e){t!==e&&f.remove("align"+e)}),"none"!==t&&o("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t;i(e),(e=c.getParent(d.getNode(),"ol,ul"))&&(t=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)&&(a(),c.split(t,e),l()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){o(e)},"ForeColor,HiliteColor":function(e,t,n){o(e,n)},FontName:function(e,t,n){Pp(s,n)},FontSize:function(e,t,n){Op(s,n)},RemoveFormat:function(e){f.remove(e)},mceBlockQuote:function(){o("blockquote")},FormatBlock:function(e,t,n){return o(n||"p")},mceCleanup:function(){var e=d.getBookmark();s.setContent(s.getContent()),d.moveToBookmark(e)},mceRemoveNode:function(e,t,n){n=n||d.getNode();n!==s.getBody()&&(a(),s.dom.remove(n,!0),l())},mceSelectNodeDepth:function(e,t,n){var i=0;c.getParent(d.getNode(),function(e){if(1===e.nodeType&&i++===n)return d.select(e),!1},s.getBody())},mceSelectNode:function(e,t,n){d.select(n)},mceInsertContent:function(e,t,n){hf.insertAtCaret(s,n)},mceInsertRawHTML:function(e,t,n){d.setContent("tiny_mce_marker");var i=s.getContent();s.setContent(i.replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){o(n)},mceSetContent:function(e,t,n){s.setContent(n)},"Indent,Outdent":function(e){lm(s,e)},mceRepaint:function(){},InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(e,t,n){s.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,d.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=c.getParent(d.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||f.remove("link"),n.href&&f.apply("link",n,i)},selectAll:function(){var e,t=c.getParent(d.getStart(),J.isContentEditableTrue);t&&((e=c.createRng()).selectNodeContents(t),d.setRng(e))},delete:function(){Np.deleteCommand(s)},forwardDelete:function(){Np.forwardDeleteCommand(s)},mceNewDocument:function(){s.setContent("")},InsertLineBreak:function(e,t,n){return Kp.insert(s,n),!0}});e({JustifyLeft:u("alignleft"),JustifyCenter:u("aligncenter"),JustifyRight:u("alignright"),JustifyFull:u("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":r,mceBlockQuote:function(){return r("blockquote")},Outdent:function(){var e;if(m.inline_styles){if((e=c.getParent(d.getStart(),c.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=c.getParent(d.getEnd(),c.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return t("InsertUnorderedList")||t("InsertOrderedList")||!m.inline_styles&&!!c.getParent(d.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=c.getParent(d.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),e({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}}),n("FontName",function(){return Rp(s)},this),n("FontSize",function(){return Ip(s)},this)}function pm(s){function a(){return!1}function l(){return!0}function i(e,t,n,i){var r,o,s;if(t=!1===t?a:t)for(t={func:t},i&&K.extend(t,i),s=(o=e.toLowerCase().split(" ")).length;s--;)e=o[s],(r=h[e])||(r=h[e]=[],d(e,!0)),n?r.unshift(t):r.push(t);return f}function u(e,t){var n,i,r,o,s;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(e=o[n],i=h[e],!e){for(r in h)d(r,!1),delete h[r];return f}if(i){if(t)for(s=i.length;s--;)i[s].func===t&&(i=i.slice(0,s).concat(i.slice(s+1)),h[e]=i);else i.length=0;i.length||(d(e,!1),delete h[e])}}else{for(e in h)d(e,!1);h={}}return f}var c,d,f=this,h={};c=(s=s||{}).scope||f,d=s.toggleEvent||a,f.fire=function(e,t){var n,i,r,o;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=c),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=l},t.stopPropagation=function(){t.isPropagationStopped=l},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=l},t.isDefaultPrevented=a,t.isPropagationStopped=a,t.isImmediatePropagationStopped=a),s.beforeFire&&s.beforeFire(t),n=h[e])for(i=0,r=n.length;i<r;i++){if((o=n[i]).once&&u(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(c,t))return t.preventDefault(),t}return t},f.on=i,f.off=u,f.once=function(e,t,n){return i(e,t,n,{once:!0})},f.has=function(e){return e=e.toLowerCase(),!(!h[e]||0===h[e].length)}}function mm(n){return n._eventDispatcher||(n._eventDispatcher=new pm({scope:n,toggleEvent:function(e,t){pm.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}function gm(e,t){Nm(j.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",Dm(e,"StyleWithCSS",!1),Dm(e,"enableInlineTableEditing",!1),Dm(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())}function vm(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=Pm.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function bm(e,t,n){Rm(e)?e.fire(t,n):Am(e)&&n.preventDefault()}function ym(o,s){var e,t;o.delegates||(o.delegates={}),o.delegates[s]||o.removed||(e=vm(o,s),o.settings.event_root?(Tm||(Tm={},o.editorManager.on("removeEditor",function(){if(!o.editorManager.activeEditor&&Tm){for(var e in Tm)o.dom.unbind(vm(o,e));Tm=null}})),Tm[s]||(Tm[s]=t=function(e){for(var t=e.target,n=o.editorManager.get(),i=n.length;i--;){var r=n[i].getBody();r!==t&&!Pm.isChildOf(t,r)||bm(n[i],s,e)}},Pm.bind(e,s,t))):(Pm.bind(e,s,t=function(e){bm(o,s,e)}),o.delegates[s]=t))}function xm(e){return e=oe(e)?e.join(" "):e,e=y(ie(e)?e.split(" "):[],On),v(e,function(e){return 0<e.length})}function _m(e,t){return e.sections().hasOwnProperty(t)}function wm(e,t,n,i){var n=xm(n.forced_plugins),r=xm(i.plugins),e=e&&_m(t,"mobile")?v(r,h(W,Bm)):r,r=(t=e,[].concat(xm(n)).concat(xm(t)));return K.extend(i,{plugins:r.join(" ")})}function Cm(e,t,n){return A.from(t.settings[n]).filter(e)}function km(e,t,n,i){var r,o,s,a=t in e.settings?e.settings[t]:n;return"hash"===i?(s={},"string"==typeof(o=a)?w(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){e=e.split("=");1<e.length?s[K.trim(e[0])]=K.trim(e[1]):s[K.trim(e[0])]=K.trim(e)}):s=o,s):"string"===i?Cm(ie,e,t).getOr(n):"number"===i?Cm(ue,e,t).getOr(n):"boolean"===i?Cm(ae,e,t).getOr(n):"object"===i?Cm(re,e,t).getOr(n):"array"===i?Cm(oe,e,t).getOr(n):"string[]"===i?Cm((r=ie,function(e){return oe(e)&&xe(e,r)}),e,t).getOr(n):"function"===i?Cm(le,e,t).getOr(n):a}var Tm,Em=K.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),wi=(pm.isNative=function(e){return!!Em[e.toLowerCase()]},{fire:function(e,t,n){if((!this.removed||"remove"===e||"detach"===e)&&(t=mm(this).fire(e,t,n),!1!==n&&this.parent))for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return mm(this).on(e,t,n)},off:function(e,t){return mm(this).off(e,t)},once:function(e,t){return mm(this).once(e,t)},hasEventListeners:function(e){return mm(this).has(e)}}),Sm={firePreProcess:function(e,t){return e.fire("PreProcess",t)},firePostProcess:function(e,t){return e.fire("PostProcess",t)},fireRemove:function(e){return e.fire("remove")},fireDetach:function(e){return e.fire("detach")},fireSwitchMode:function(e,t){return e.fire("SwitchMode",{mode:t})},fireObjectResizeStart:function(e,t,n,i){e.fire("ObjectResizeStart",{target:t,width:n,height:i})},fireObjectResized:function(e,t,n,i){e.fire("ObjectResized",{target:t,width:n,height:i})}},Dm=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},Nm=function(e,t,n){var i,r;Go(e,t)&&!1===n?(r=t,$o(i=e)?i.dom().classList.remove(r):Xo(i,r),Ko(i)):n&&Qo(e,t)},Am=function(e){return!0===e.readonly},Pm=c.DOM,Rm=function(e){return!e.hidden&&!e.readonly},Re=K.extend({},wi,{bindPendingEventDelegates:function(){var t=this;K.each(t._pendingNativeEvents,function(e){ym(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?ym(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(vm(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),i=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(vm(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&i&&(n.onload=null,i.unbind(t.getWin()),i.unbind(t.getDoc())),i&&(i.unbind(n),i.unbind(t.getContainer()))}}),Om=Ii("sections","settings"),Im=Ji.detect().deviceType.isTouch(),Bm=["lists","autolink","autosave"],Mm={theme:"mobile"},Fm=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},Lm=function(e,t,n,i){var r,o,i=function(n,e){e=Si(e,function(e,t){return W(n,t)});return Om(e.t,e.f)}(["mobile"],i),t=K.extend(t,n,i.settings(),(t=e,o=(r=i).settings().inline,t&&_m(r,"mobile")&&!o?function(e,t,n){e=e.sections(),e=e.hasOwnProperty(t)?e[t]:{};return K.extend({},n,e)}(i,"mobile",Mm):{}),{validate:!0,content_editable:i.settings().inline,external_plugins:function(e,t){t=t.external_plugins||{};return e&&e.external_plugins?K.extend({},e.external_plugins,t):t}(n,i.settings())});return wm(e,i,n,t)},Hm=K.each,jm=K.explode,zm={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Wm=K.makeMap("alt,ctrl,shift,meta,access");function qm(o){function s(e,t,n,i){return(e=K.map(jm(e,">"),l))[e.length-1]=K.extend(e[e.length-1],{func:n,scope:i||o}),K.extend(e[0],{desc:o.translate(t),subpatterns:e.slice(1)})}function n(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}function i(e){e.func&&e.func.call(e.scope)}var a={},r=[],l=function(e){var t,n,i={};for(n in Hm(jm(e,"+"),function(e){e in Wm?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=zm[e]||e.toUpperCase().charCodeAt(0))}),t=[i.keyCode],Wm)i[n]?t.push(n):i[n]=!1;return i.id=t.join(","),i.access&&(i.alt=!0,Y.mac?i.ctrl=!0:i.shift=!0),i.meta&&(Y.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i};o.on("keyup keypress keydown",function(t){var e;((e=t).altKey||e.ctrlKey||e.metaKey||"keydown"===(e=t).type&&112<=e.keyCode&&e.keyCode<=123)&&!t.isDefaultPrevented()&&(Hm(a,function(e){if(n(t,e))return r=e.subpatterns.slice(0),"keydown"===t.type&&i(e),!0}),n(t,r[0])&&(1===r.length&&"keydown"===t.type&&i(r[0]),r.shift()))}),this.add=function(e,t,n,i){var r=n;return"string"==typeof n?n=function(){o.execCommand(r,!1,null)}:K.isArray(r)&&(n=function(){o.execCommand(r[0],r[1],r[2])}),Hm(jm(K.trim(e.toLowerCase())),function(e){e=s(e,t,n,i);a[e.id]=e}),!0},this.remove=function(e){e=s(e);return!!a[e.id]&&(delete a[e.id],!0)}}function Um(t){return function(e){e=void 0!==e?e.dom():$.document;return A.from(e.activeElement).map(j.fromDom)}(Li(t)).filter(function(e){return t.dom().contains(e.dom())})}function Vm(t,e){return((e=e).collapsed?A.from(Ms(e.startContainer,e.startOffset)).map(j.fromDom):A.none()).bind(function(e){return no(e)?A.some(e):!1===br(t,e)?A.some(t):A.none()})}function $m(e,t){return t.dom()[e]}function Ym(e,t){return parseInt(Oi(t,e),10)}var Xm=function(e){var t=Li(e).dom();return e.dom()===t.activeElement},Qm=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})},Km=function(t,e){Vm(j.fromDom(t.getBody()),e).bind(function(e){return g.firstPositionIn(e.dom())}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},Gm=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Jm=function(e){return Xm(e)||Um(e).isSome()},Zm=function(e){var t;return e.inline?(t=(t=e).getBody())&&Jm(j.fromDom(t)):(t=e).iframeElement&&Xm(j.fromDom(t.iframeElement))},eg=function(e){return e.editorManager.setActive(e)},tg={focus:function(e,t){var n,i,r;e.removed||(t?eg(e):(t=(n=e).selection,e=n.settings.content_editable,i=n.getBody(),r=t.getRng(),n.quirks.refreshContentEditable(),t=Qm(n,t.getNode()),n.$.contains(i,t)?(Gm(t),Km(n,r)):(void 0!==n.bookmark&&!1===Zm(n)&&am.getRng(n).each(function(e){n.selection.setRng(e),r=e}),e||(Y.opera||Gm(i),n.getWin().focus()),(Y.gecko||e)&&(Gm(i),Km(n,r))),eg(n)))},hasFocus:Zm},ng=h($m,"clientWidth"),ig=h($m,"clientHeight"),rg=h(Ym,"margin-top"),og=h(Ym,"margin-left"),sg=function(e){return e.dom().getBoundingClientRect()},ag={isXYInContentArea:function(e,t,n){var i,r,o=j.fromDom(e.getBody()),o=e.inline?o:j.fromDom(o.dom().ownerDocument.documentElement),t=(e=e.inline,t=t,n=n,i=sg(r=o),{x:t-(e?i.left+r.dom().clientLeft+og(r):0),y:n-(e?i.top+r.dom().clientTop+rg(r):0)});return n=t.x,e=t.y,r=ng(i=o),i=ig(i),0<=n&&0<=e&&n<=r&&e<=i},isEditorAttachedToDom:function(e){e=e.inline?e.getBody():e.getContentAreaContainer();return A.from(e).map(j.fromDom).map(function(e){return br(Li(e),e)}).getOr(!1)}};function lg(n){function t(t){if(!n.removed&&ag.isEditorAttachedToDom(n))return ge(r,function(e){return s(o().getArgs(e),t)}).getOrThunk(function(){n.editorManager.setActive(n);var e=o().open(t,function(){u(e),a()});return l(e),a(),e})}var i,r=[],o=function(){var e=n.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():{open:t,close:t,reposition:t,getArgs:t};function t(){throw new Error("Theme did not provide a NotificationManager implementation.")}},s=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},a=function(){0<r.length&&o().reposition(r)},l=function(e){r.push(e)},u=function(t){ve(r,function(e){return e===t}).each(function(e){r.splice(e,1)})};return(i=n).on("SkinLoaded",function(){var e=i.settings.service_message;e&&t({text:e,type:"warning",timeout:0,icon:""})}),i.on("ResizeEditor ResizeWindow",function(){Ke.requestAnimationFrame(a)}),i.on("remove",function(){w(r.slice(),function(e){o().close(e)})}),{open:t,close:function(){A.from(r[0]).each(function(e){o().close(e),u(e),a()})},getNotifications:function(){return r}}}function ug(n){function i(){var e=n.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():{open:t,alert:t,confirm:t,close:t,getParams:t,setParams:t};function t(){throw new Error("Theme did not provide a WindowManager implementation.")}}function r(e,t){return function(){return t?t.apply(e,arguments):void 0}}function o(e){a.push(e),t(e)}function s(t){ve(a,function(e){return e===t}).each(function(e){a.splice(e,1),l(t),0===a.length&&n.focus()})}function e(){return A.from(a[a.length-1])}var a=[],t=function(e){n.fire("OpenWindow",{win:e})},l=function(e){n.fire("CloseWindow",{win:e})};return n.on("remove",function(){w(a.slice(0),function(e){i().close(e)})}),{windows:a,open:function(e,t){n.editorManager.setActive(n),am.store(n);e=i().open(e,t,s);return o(e),e},alert:function(e,t,n){e=i().alert(e,r(n||this,t),s);o(e)},confirm:function(e,t,n){e=i().confirm(e,r(n||this,t),s);o(e)},close:function(){e().each(function(e){i().close(e),s(e)})},getParams:function(){return e().map(i().getParams).getOr(null)},setParams:function(t){e().each(function(e){i().setParams(e,t)})},getWindows:function(){return a}}}function cg(e,t){e._skinLoaded?vg(e,t):e.on("SkinLoaded",function(){vg(e,t)})}function dg(e){for(var t=1;t<arguments.length;t++)t-1,0;var n=$.window.console;n&&(n.error||n.log).apply(n,arguments)}var fg={},hg="en",pg={setCode:function(e){e&&(hg=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return hg},rtl:!1,add:function(e,t){var n,i=fg[e];for(n in i||(fg[e]=i={}),t)i[n]=t[n];this.setCode(e)},translate:function(e){function n(e){return K.is(e,"function")?Object.prototype.toString.call(e):t(e)?"":""+e}function t(e){return""===e||null===e||K.is(e,"undefined")}function i(e){return e=n(e),K.hasOwn(o,e)?n(o[e]):e}var r,o=fg[hg]||{};return t(e)?"":K.is(e,"object")&&K.hasOwn(e,"raw")?n(e.raw):(K.is(e,"array")&&(r=e.slice(1),e=i(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return K.hasOwn(r,t)?n(r[t]):e})),i(e).replace(/{context:\w+}$/,""))},data:fg},mg=qo.PluginManager,gg=function(e,t){for(var n in mg.urls)if(mg.urls[n]+"/plugin"+t+".js"===e)return n;return null},vg=function(e,t){e.notificationManager.open({type:"error",text:t})},bg={pluginLoadError:function(e,t){cg(e,function(e,t){e=gg(t,e.suffix);return e?pg.translate(["Failed to load plugin: {0} from url {1}",e,t]):pg.translate(["Failed to load plugin url: {0}",t])}(e,t))},pluginInitError:function(e,t,n){t=pg.translate(["Failed to initialize plugin: {0}",t]);dg(t,n),cg(e,t)},uploadError:function(e,t){cg(e,pg.translate(["Failed to upload image: {0}",t]))},displayError:cg,initError:dg},yg=qo.PluginManager,xg=qo.ThemeManager;function _g(){return new(Ee.getOrDie("XMLHttpRequest"))}function wg(a,s){function l(e,t){return{url:t,blobInfo:e,status:!0}}function u(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function c(e,t){K.each(n[e],function(e){e(t)}),delete n[e]}var n={},r=function(e,n,i,t){var r,o=_g();o.open("POST",s.url),o.withCredentials=s.credentials,o.upload.onprogress=function(e){t(e.loaded/e.total*100)},o.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,t;o.status<200||300<=o.status?i("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?n((e=s.basePath,t=t.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):i("Invalid JSON: "+o.responseText)},(r=new $.FormData).append("file",e.blob(),e.filename()),o.send(r)},o=function(r,o,s){return a.markPending(r.blobUri()),new Be(function(t){function e(){}var n;try{var i=function(){n&&(n.close(),0)};o(r,function(e){i(),a.markUploaded(r.blobUri(),e),c(r.blobUri(),l(r,e)),t(l(r,e))},function(e){i(),a.removeFailed(r.blobUri()),c(r.blobUri(),u(r,e)),t(u(r,e))},function(e){e<0||100<e||(n=n||s()).progressBar.value(e)})}catch(e){t(u(r,e.message))}})},d=function(e){var t=e.blobUri();return new Be(function(e){n[t]=n[t]||[],n[t].push(e)})};return!1===le(s.handler)&&(s.handler=r),{upload:function(e,t){return s.url||s.handler!==r?(n=e,i=t,n=K.grep(e,function(e){return!a.isUploaded(e.blobUri())}),Be.all(K.map(n,function(e){return a.isPending(e.blobUri())?d(e):o(e,s.handler,i)}))):new Be(function(e){e([])});var n,i}}}function Cg(s){return new Be(function(t){var e,n,i,r,o=Sg(s);try{e=Eg.atob(o.data)}catch(e){return void t(new $.Blob([]))}for(r=e.length,n=new(Ee.getOrDie("Uint8Array"))(r),i=0;i<n.length;i++)n[i]=e.charCodeAt(i);t(new $.Blob([n],{type:o.type}))})}function kg(n,i,r,t){var o,s;0===i.src.indexOf("blob:")?(s=n.getByUri(i.src))?r({image:i,blobInfo:s}):Dg.uriToBlob(i.src).then(function(t){Dg.blobToDataUri(t).then(function(e){o=Dg.parseDataUri(e).data,s=n.create(Ag(),t,o),n.add(s),r({image:i,blobInfo:s})})},function(e){t(e)}):(o=Dg.parseDataUri(i.src).data,(s=n.findFirst(function(e){return e.base64()===o}))?r({image:i,blobInfo:s}):Dg.uriToBlob(i.src).then(function(e){s=n.create(Ag(),e,o),n.add(s),r({image:i,blobInfo:s})},function(e){t(e)}))}function Tg(e){return e?Ce(e.getElementsByTagName("img")):[]}var Eg={atob:function(e){return Ee.getOrDie("atob")(e)},requestAnimationFrame:function(e){Ee.getOrDie("requestAnimationFrame")(e)}},Sg=function(e){var t,e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]);return{type:t=n?n[1]:t,data:e[1]}},Dg={uriToBlob:function(e){var r;return 0===e.indexOf("blob:")?(r=e,new Be(function(e,t){function n(){t("Cannot convert "+r+" to Blob. Resource might not exist or is inaccessible.")}try{var i=_g();i.open("GET",r,!0),i.responseType="blob",i.onload=function(){200===this.status?e(this.response):n()},i.onerror=n,i.send()}catch(e){n()}})):0===e.indexOf("data:")?Cg(e):null},blobToDataUri:function(n){return new Be(function(e){var t=new(Ee.getOrDie("FileReader"));t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})},parseDataUri:Sg},Ng=0,Ag=function(e){return(e||"blobid")+Ng++};var Pg=0,Rg={uuid:function(e){return e+Pg+++("s"+(new Date).getTime().toString(36)+t()+t()+t());function t(){return Math.round(4294967295*Math.random()).toString(36)}}};function Og(){function r(e){var t,n;if(e.blob&&e.base64)return t=e.id||Rg.uuid("blobid"),n=e.name||t,{id:b(t),name:b(n),filename:b(n+"."+i(e.blob.type)),blob:b(e.blob),base64:b(e.base64),blobUri:b(e.blobUri||Se.createObjectURL(e.blob)),uri:b(e.uri)};throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}function t(t){return e(function(e){return e.id()===t})}var n=[],i=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"},e=function(e){return v(n,e)[0]};return{create:function(e,t,n,i){if(ie(e))return r({id:e,name:i,blob:t,base64:n});if(re(e))return r(e);throw new Error("Unknown input type")},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()===t})},findFirst:e,removeByUri:function(t){n=v(n,function(e){return e.blobUri()!==t||(Se.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){w(n,function(e){Se.revokeObjectURL(e.blobUri())}),n=[]}}}function Ig(){function n(e,t){return{status:e,resultUri:t}}function t(e){return e in i}var i={};return{hasBlobUri:t,getResultUri:function(e){e=i[e];return e?e.resultUri:null},isPending:function(e){return!!t(e)&&1===i[e].status},isUploaded:function(e){return!!t(e)&&2===i[e].status},markPending:function(e){i[e]=n(1,null)},markUploaded:function(e,t){i[e]=n(2,t)},removeFailed:function(e){delete i[e]},destroy:function(){i={}}}}function Bg(s){function i(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e}function n(t,n){w(s.undoManager.data,function(e){"fragmented"===e.type?e.fragments=y(e.fragments,function(e){return h(e,t,n)}):e.content=h(e.content,t,n)})}function t(t){return o=o||wg(c,{url:T.getImageUploadUrl(s),basePath:T.getImageUploadBasePath(s),credentials:T.getImagesUploadCredentials(s),handler:T.getImagesUploadHandler(s)}),g().then(f(function(n){var e=y(n,function(e){return e.blobInfo});return o.upload(e,p).then(f(function(e){e=y(e,function(e,t){t=n[t].image;return e.status&&T.shouldReplaceBlobUris(s)?m(t,e.url):e.error&&bg.uploadError(s,e.error),{element:t,status:e.status}});return t&&t(e),e}))}))}function e(e){if(T.isAutomaticUploadsEnabled(s))return t(e)}function a(t){return!1!==xe(d,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||T.getImagesDataImgFilter(s)(t))}function r(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=c.getResultUri(n);return t?'src="'+t+'"':(t=(t=u.getByUri(n))||me(s.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+t.blob().type+";base64,"+t.base64()+'"':e})}var o,l,u=Og(),c=Ig(),d=[],f=function(t){return function(e){return s.selection?t(e):[]}},h=function(e,t,n){return e=i(e,'src="'+t+'"','src="'+n+'"'),e=i(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},p=function(){return s.notificationManager.open({text:s.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},m=function(e,t){u.removeByUri(e.src),n(e.src,t),s.$(e).attr({src:T.shouldReuseFileName(s)?t+("?"+(new Date).getTime()):t,"data-mce-src":s.convertURL(t,"src")})},g=function(){var i,r,o;return l||(i=c,r=u,o={},l={findAll:function(e,n){n=n||b(!0),e=v(Tg(e),function(e){var t=e.src;return!!Y.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!t||t===Y.transparentSrc)&&(0===t.indexOf("blob:")?!i.isUploaded(t)&&n(e):0===t.indexOf("data:")&&n(e)))))});e=y(e,function(n){var e;return o[n.src]?new Be(function(t){o[n.src].then(function(e){if("string"==typeof e)return e;t({image:n,blobInfo:e.blobInfo})})}):(e=new Be(function(e,t){kg(r,n,e,t)}).then(function(e){return delete o[e.image.src],e}).catch(function(e){return delete o[n.src],e}),o[n.src]=e)});return Be.all(e)}}),l.findAll(s.getBody(),a).then(f(function(e){return e=v(e,function(e){return"string"!=typeof e||(bg.displayError(s,e),!1)}),w(e,function(e){n(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))};return s.on("setContent",function(){(T.isAutomaticUploadsEnabled(s)?e:g)()}),s.on("RawSaveContent",function(e){e.content=r(e.content)}),s.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=r(e.content))}),s.on("PostRender",function(){s.parser.addNodeFilter("img",function(e){w(e,function(e){var t=e.attr("src");u.getByUri(t)||(t=c.getResultUri(t))&&e.attr("src",t)})})}),{blobCache:u,addFilter:function(e){d.push(e)},uploadImages:t,uploadImagesAuto:e,scanForImages:g,destroy:function(){u.destroy(),c.destroy(),l=o=null}}}function Mg(e,t){return e.hasOwnProperty(t.nodeName)}function Fg(e){var t,n,i,r,o,s,a,l=e.settings,u=e.dom,c=e.selection,d=e.schema,f=d.getBlockElements(),h=c.getStart(),p=e.getBody(),m=l.forced_root_block;if(h&&J.isElement(h)&&m&&(l=p.nodeName.toLowerCase(),d.isValidChild(l,m.toLowerCase())&&!Wg(f,p,h))){for(l=(d=c.getRng()).startContainer,t=d.startOffset,n=d.endContainer,i=d.endOffset,a=tg.hasFocus(e),h=p.firstChild;h;)zg(f,h)?qg(f,h)?(h=(o=h).nextSibling,u.remove(o)):(r||(r=u.create(m,e.settings.forced_root_block_attrs),h.parentNode.insertBefore(r,h),s=!0),h=(o=h).nextSibling,r.appendChild(o)):(r=null,h=h.nextSibling);s&&a&&(d.setStart(l,t),d.setEnd(n,i),c.setRng(d),e.nodeChanged())}}function Lg(t){return Hi(t).fold(b([t]),function(e){return[t].concat(Lg(e))})}function Hg(t){return ji(t).fold(b([t]),function(e){return"br"===Zi(e)?_r(e).map(function(e){return[t].concat(Hg(e))}).getOr([]):[t].concat(Hg(e))})}function jg(n,e){return ba((i=(t=e).startContainer,t=t.startOffset,J.isText(i)?0===t?A.some(j.fromDom(i)):A.none():A.from(i.childNodes[t]).map(j.fromDom)),(t=(i=e).endContainer,i=i.endOffset,J.isText(t)?i===t.data.length?A.some(j.fromDom(t)):A.none():A.from(t.childNodes[i-1]).map(j.fromDom)),function(e,t){e=ge(Lg(n),h(f,e)),t=ge(Hg(n),h(f,t));return e.isSome()&&t.isSome()}).getOr(!1);var t,i}var zg=function(e,t){return!!J.isText(t)||!!J.isElement(t)&&(!Mg(e,t)&&!Ru.isBookmarkNode(t))},Wg=function(t,e,n){return q(Nf.parents(j.fromDom(n),j.fromDom(e)),function(e){return Mg(t,e.dom())})},qg=function(e,t){if(J.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Mg(e,t.nextSibling)))return!0}return!1},Ug=function(e){e.settings.forced_root_block&&e.on("NodeChange",h(Fg,e))},Vg=function(e,t,n,i){var r=n,o=new G(n,r),s=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==K.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(Y.ie&&Y.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},$g=function(e){e=e.selection.getSel();return e&&0<e.rangeCount};function Yg(r){var n,i=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t=r.selection.getRng(),t={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!==e.type&&Bp.isEq(t,n)||r.fire("SelectionChange"),n=t}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var e=r.selection.getStart(!0);!e||!Y.range&&r.selection.isCollapsed()||$g(r)&&!function(e){var t,n=r.$(e).parentsUntil(r.getBody()).add(e);if(n.length===i.length){for(t=n.length;0<=t&&n[t]===i[t];t--);if(-1===t)return i=n,!0}return i=n,!1}(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("MouseUp",function(e){!e.isDefaultPrevented()&&$g(r)&&("IMG"===r.selection.getNode().nodeName?Ke.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())}),this.nodeChanged=function(e){var t,n,i=r.selection;r.initialized&&i&&!r.settings.disable_nodechange&&!r.readonly&&(n=r.getBody(),(i=i.getStart(!0)||n).ownerDocument===r.getDoc()&&r.dom.isChildOf(i,n)||(i=n),t=[],r.dom.getParent(i,function(e){if(e===n)return!0;t.push(e)}),(e=e||{}).element=i,e.parents=t,r.fire("NodeChange",e))}}function Xg(e){return me(e,function(e,t){return e.concat(uv(t))},[])}function Qg(r,o,s,e,a,t){function n(e){var t,n,i=Xg([e]);for(-1===r&&(i=i.reverse()),t=0;t<i.length;t++)if(n=i[t],!s(n,c)){if(0<u.length&&o(n,p.last(u))&&l++,n.line=l,a(n))return!0;u.push(n)}}var l=0,u=[],c=p.last(t.getClientRects());return c&&(n(t=t.getNode()),function(e,t,n,i){for(;i=Zl(i,e,ca,t);)if(n(i))return}(r,e,n,t)),u}function Kg(e,t,n,i){function r(e){return p.last(e.getClientRects())}var o,s,a,l,t=_u(t),u=[],c=0,d=1===e?(o=t.next,s=Os,a=Rs,k.after(i)):(o=t.prev,s=Rs,a=Os,k.before(i)),f=r(d);do{if(d.isVisible()&&!a(l=r(d),f)){if(0<u.length&&s(l,p.last(u))&&c++,(l=fa(l)).position=d,l.line=c,n(l))return u;u.push(l)}}while(d=o(d));return u}function Gg(t){return function(e){return e.line>t}}function Jg(t){return function(e){return e.line===t}}function Zg(e,t){return Math.abs(e.left-t)}function ev(e,t){return Math.abs(e.right-t)}function tv(e,t){return e>=t.left&&e<=t.right}function nv(e,r){return p.reduce(e,function(e,t){var n=Math.min(Zg(e,r),ev(e,r)),i=Math.min(Zg(t,r),ev(t,r));return tv(r,t)||!tv(r,e)&&(i===n&&fv(t.node)||i<n)?t:e})}function iv(e,t,n,i){for(;i=hv(i,e,ca,t);)if(n(i))return}function rv(e,n){function t(t,e){return e=v(Xg([e]),function(e){return!t(e,n)}),i=i.concat(e),0===e.length}var i=[];return i.push(n),iv(lv.Up,e,h(t,Rs),n.node),iv(lv.Down,e,h(t,Os),n.node),i}function ov(e){e.dragging=!1,e.element=null,_v(e.ghost)}function sv(a){function i(e){e&&a.selection.setRng(e)}function n(){return a.selection.getRng()}function r(e,t){var n,i,r,o=a.$,s=a.dom;if(!e)return null;if(e.collapsed){if(!g(e))if(!1===t){if(i=p(-1,e),Ul(i.getNode(!0)))return h(-1,i.getNode(!0),!1,!1);if(Ul(i.getNode()))return h(-1,i.getNode(),!i.isAtEnd(),!1)}else{if(i=p(1,e),Ul(i.getNode()))return h(1,i.getNode(),!i.isAtEnd(),!1);if(Ul(i.getNode(!0)))return h(1,i.getNode(!0),!1,!1)}return null}return t=e.startContainer,i=e.startOffset,r=e.endOffset,3===t.nodeType&&0===i&&Nv(t.parentNode)&&(t=t.parentNode,i=s.nodeIndex(t),t=t.parentNode),1!==t.nodeType||(r===i+1&&t===e.endContainer&&(n=t.childNodes[i]),!Nv(n)||(r=n.cloneNode(!0),(t=a.fire("ObjectSelected",{target:n,targetClone:r})).isDefaultPrevented()))?null:(i=ps(j.fromDom(a.getBody()),"#"+f).fold(function(){return o([])},function(e){return o([e.dom()])}),t=t.targetClone,0===i.length&&(i=o('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",f)).appendTo(a.getBody()),e=a.dom.createRng(),t===r&&Y.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(t),e.setStartAfter(i[0].firstChild.firstChild),e.setEndAfter(t)):(i.empty().append("Â ").append(t).append("Â "),e.setStart(i[0].firstChild,1),e.setEnd(i[0].lastChild,0)),i.css({top:s.getPos(n,a.getBody()).y}),i[0].focus(),(r=a.selection.getSel()).removeAllRanges(),r.addRange(e),w(ls(j.fromDom(a.getBody()),"*[data-mce-selected]"),function(e){ur(e,"data-mce-selected")}),n.setAttribute("data-mce-selected","1"),l=n,v(),e)}function o(){l&&(l.removeAttribute("data-mce-selected"),ps(j.fromDom(a.getBody()),"#"+f).each(rs),l=null),ps(j.fromDom(a.getBody()),"#"+f).each(rs),l=null}var l,e,t,s,u,c=a.getBody(),d=ql(a.getBody(),function(e){return a.dom.isBlock(e)},function(){return tg.hasFocus(a)}),f="sel-"+a.dom.uniqueId(),h=function(e,t,n,i){return void 0===i&&(i=!0),a.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(i&&a.selection.scrollIntoView(t,-1===e),d.show(n,t))},p=function(e,t){return t=ru(e,c,t),-1===e?k.fromRangeStart(t):k.fromRangeEnd(t)},m=function(e){return Xs(e)||Ks(e)||Gs(e)},g=function(e){return m(e.startContainer)||m(e.endContainer)},v=function(){d.hide()};function b(e,t){var e=a.dom.getParent(e,a.dom.isBlock),t=a.dom.getParent(t,a.dom.isBlock);return!(!e||!a.dom.isChildOf(e,t)||!1!==Nv(Av(a,e)))||e&&(t=t,!(a.dom.getParent(e,a.dom.isBlock)===a.dom.getParent(t,a.dom.isBlock))&&(e=_u(t=e),!!t.firstChild&&(t=k.before(t.firstChild),(e=e.next(t))&&!$f(e)&&!Yf(e))))}return Y.ceFalse&&(a.on("mouseup",function(e){var t=n();t.collapsed&&ag.isXYInContentArea(a,e.clientX,e.clientY)&&i(Ep(a,t,!1))}),a.on("click",function(e){var t=Av(a,e.target);t&&(Nv(t)&&(e.preventDefault(),a.focus()),Dv(t)&&a.dom.isChildOf(t,a.selection.getNode())&&o())}),a.on("blur NewBlock",function(){o()}),a.on("ResizeWindow FullscreenStateChanged",function(){return d.reposition()}),u=!1,(s=a).on("touchstart",function(){u=!1}),s.on("touchmove",function(){u=!0}),s.on("touchend",function(e){var t=Av(s,e.target);Nv(t)&&!u&&(e.preventDefault(),r(Tp(s,t)))}),a.on("mousedown",function(e){var t,n=e.target;n!==c&&"HTML"!==n.nodeName&&!a.dom.isChildOf(n,c)||!1===ag.isXYInContentArea(a,e.clientX,e.clientY)||((t=Av(a,n))?Nv(t)?(e.preventDefault(),r(Tp(a,t))):(o(),Dv(t)&&e.shiftKey||mv.isXYWithinRange(e.clientX,e.clientY,a.selection.getRng())||(v(),a.selection.placeCaretAt(e.clientX,e.clientY))):!1===Ul(n)&&(o(),v(),(t=pv(c,e.clientX,e.clientY))&&!b(e.target,t.node)&&(e.preventDefault(),n=h(1,t.node,t.before,!1),a.getBody().focus(),i(n))))}),a.on("keypress",function(e){z.modifierPressed(e)||(e.keyCode,Nv(a.selection.getNode())&&e.preventDefault())}),a.on("getSelectionRange",function(e){var t=e.range;l&&(l.parentNode?((t=t.cloneRange()).selectNode(l),e.range=t):l=null)}),a.on("setSelectionRange",function(e){e.range=function(e){var t=a.schema.getShortEndedElements(),n=a.dom.createRng(),i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset;if(sr(t,i.nodeName.toLowerCase()))if(r===0)n.setStartBefore(i);else n.setStartAfter(i);else n.setStart(i,r);if(sr(t,o.nodeName.toLowerCase()))if(s===0)n.setEndBefore(o);else n.setEndAfter(o);else n.setEnd(o,s);return n}(e.range);var t=r(e.range,e.forward);t&&(e.range=t)}),a.on("AfterSetSelectionRange",function(e){var e=e.range;g(e)||"mcepastebin"===e.startContainer.parentNode.id||v(),e=e.startContainer.parentNode,a.dom.hasClass(e,"mce-offscreen-selection")||o()}),a.on("copy",function(e){var t,n=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||Y.ie||(t=(t=a.dom.get(f))&&t.getElementsByTagName("*")[0])&&(e.preventDefault(),n.clearData(),n.setData("text/html",t.outerHTML),n.setData("text/plain",t.outerText))}),Ev.init(a),Sv.setup(a),e=a.contentStyles,t=".mce-content-body",e.push(d.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")),{showCaret:h,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Zs(e),i(n()),a.selection.scrollIntoView(e[0]))},hideFakeCaret:v,destroy:function(){d.destroy(),l=null}}}function av(e,t,n){var i,r,o=1,s=e.getShortEndedElements(),a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(a.lastIndex=i=n;r=a.exec(t);){if(i=a.lastIndex,"/"===r[1])o--;else if(!r[1]){if(r[2]in s)continue;o++}if(0===o)break}return i}var lv,z={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Y.mac?e.metaKey:e.ctrlKey&&!e.altKey}},uv=function(t){function e(e){return y(e,function(e){return(e=fa(e)).node=t,e})}var n;return J.isElement(t)?e(t.getClientRects()):J.isText(t)?((n=t.ownerDocument.createRange()).setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())):void 0},cv=((i=lv=lv||{})[i.Up=-1]="Up",i[i.Down=1]="Down",h(Qg,lv.Up,Rs,Os)),dv=h(Qg,lv.Down,Os,Rs),fv=J.isContentEditableFalse,hv=Zl,pv=function(e,t,n){var i=Xg(v(Ce(e.getElementsByTagName("*")),Ul)),i=v(i,function(e){return n>=e.top&&n<=e.bottom}),i=nv(i,t);return(i=i&&nv(rv(e,i),t))&&Ul(i.node)?(e=t,{node:(t=i).node,before:Zg(t,e)<ev(t,e)}):null},mv={isXYWithinRange:function(t,n,e){if(e.collapsed)return!1;if(Y.ie&&Y.ie<=11&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var i=e.startContainer.childNodes[e.startOffset];if(J.isElement(i))return q(i.getClientRects(),function(e){return Is(e,t,n)})}return q(e.getClientRects(),function(e){return Is(e,t,n)})}},gv=function(e){var t=e.getBoundingClientRect(),e=e.ownerDocument,n=e.documentElement,e=e.defaultView;return{top:t.top+e.pageYOffset-n.clientTop,left:t.left+e.pageXOffset-n.clientLeft}},vv=function(e){var t=e.getBody(),n=e.getDoc().documentElement,i={left:t.scrollLeft,top:t.scrollTop},t={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?i:t},bv=function(e,t){return r=(r=e).inline?gv(r.getBody()):{left:0,top:0},i=(n=e).getBody(),n=n.inline?{left:i.scrollLeft,top:i.scrollTop}:{left:0,top:0},i=e,{pageX:(t=(e=t).target.ownerDocument!==i.getDoc()?(t=gv(i.getContentAreaContainer()),i=vv(i),{left:e.pageX-t.left+i.left,top:e.pageY-t.top+i.top}):{left:e.pageX,top:e.pageY}).left-r.left+n.left,pageY:t.top-r.top+n.top};var n,i,r},yv=J.isContentEditableFalse,xv=J.isContentEditableTrue,_v=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},wv=function(o,s){return function(e){var t,n,i,r;0===e.button&&(n=ge(s.dom.getParents(e.target),_a(yv,xv)).getOr(null),i=s.getBody(),yv(r=n)&&r!==i&&(r=s.dom.getPos(n),i=s.getBody(),t=s.getDoc().documentElement,o.element=n,o.screenX=e.screenX,o.screenY=e.screenY,o.maxX=(s.inline?i.scrollWidth:t.offsetWidth)-2,o.maxY=(s.inline?i.scrollHeight:t.offsetHeight)-2,o.relX=e.pageX-r.x,o.relY=e.pageY-r.y,o.width=n.offsetWidth,o.height=n.offsetHeight,o.ghost=(i=s,t=n,e=o.width,r=o.height,t=t.cloneNode(!0),i.dom.setStyles(t,{width:e,height:r}),i.dom.setAttrib(t,"data-mce-selected",null),n=i.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),i.dom.setStyles(n,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:e,height:r}),i.dom.setStyles(t,{margin:0,boxSizing:"border-box"}),n.appendChild(t),n)))}},Cv=function(u,c){var d=Ke.throttle(function(e,t){c._selectionOverrides.hideFakeCaret(),c.selection.placeCaretAt(e,t)},0);return function(e){var t,n,i,r,o,s,a,l=Math.max(Math.abs(e.screenX-u.screenX),Math.abs(e.screenY-u.screenY));if(u.element&&!u.dragging&&10<l){if(c.fire("dragstart",{target:u.element}).isDefaultPrevented())return;u.dragging=!0,c.focus()}u.dragging&&(l=u,l={pageX:(a=bv(c,e)).pageX-l.relX,pageY:a.pageY+5},a=u.ghost,s=c.getBody(),a.parentNode!==s&&s.appendChild(a),s=u.ghost,a=l,l=u.width,t=u.height,n=u.maxX,i=u.maxY,o=r=0,s.style.left=a.pageX+"px",s.style.top=a.pageY+"px",a.pageX+l>n&&(r=a.pageX+l-n),a.pageY+t>i&&(o=a.pageY+t-i),s.style.width=l-r+"px",s.style.height=t-o+"px",d(e.clientX,e.clientY))}},kv=function(o,s){return function(e){var t,n,i,r;o.dragging&&(i=function(e){e=e.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e}((n=s).selection),r=o.element,i===r||n.dom.isChildOf(i,r)||yv(i)||(t=function(e){e=e.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e}(o.element),(n=s.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY})).isDefaultPrevented()||(t=n.targetClone,s.undoManager.transact(function(){_v(o.element),s.insertContent(s.dom.getOuterHTML(t)),s._selectionOverrides.hideFakeCaret()})))),ov(o)}},Tv=function(e,t){return function(){e.dragging&&t.fire("dragend"),ov(e)}},Ev={init:function(e){var t,n,i,r,o,s,a,l,u;t=e,n={},i=c.DOM,r=$.document,o=wv(n,t),s=Cv(n,t),a=kv(n,t),l=Tv(n,t),t.on("mousedown",o),t.on("mousemove",s),t.on("mouseup",a),i.bind(r,"mousemove",s),i.bind(r,"mouseup",l),t.on("remove",function(){i.unbind(r,"mousemove",s),i.unbind(r,"mouseup",l)}),(u=e).on("drop",function(e){var t=void 0!==e.clientX?u.getDoc().elementFromPoint(e.clientX,e.clientY):null;(yv(t)||yv(u.dom.getContentEditableParent(t)))&&e.preventDefault()})}},Sv={setup:function(t){var e=Uo(function(){var e;t.removed||t.selection.getRng().collapsed&&(e=Od(t,t.selection.getRng(),!1),t.selection.setRng(e))},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})}},Dv=J.isContentEditableTrue,Nv=J.isContentEditableFalse,Av=function(e,t){for(var n=e.getBody();t&&t!==n;){if(Dv(t)||Nv(t))return t;t=t.parentNode}return null};function Pv(H,j){void 0===j&&(j=Eo());function e(){}!1!==(H=H||{}).fix_self_closing&&(H.fix_self_closing=!0);var z=H.comment||e,W=H.cdata||e,q=H.text||e,U=H.start||e,V=H.end||e,$=H.pi||e,Y=H.doctype||e;return{parse:function(e){for(var t,n,a,i,r,o,l,s,u,c,d,f,h,p,m,g,v,b,y,x=0,_=[],w=0,C=vo.decode,k=K.makeMap("src,href,data,background,formaction,poster,xlink:href"),T=/((java|vb)script|mhtml):/i,E=function(e){for(var t,n=_.length;n--&&_[n].name!==e;);if(0<=n){for(t=_.length-1;n<=t;t--)(e=_[t]).valid&&V(e.name);_.length=n}},S=function(e,t,n,i,r){var o,s;if(n=(t=t.toLowerCase())in R?t:C(n||i||r||""),O&&!l&&!1==(0===(i=t).indexOf("data-")||0===i.indexOf("aria-"))){if(!(o=h[t])&&p){for(s=p.length;s--&&!(o=p[s]).pattern.test(t););-1===s&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(k[t]&&!H.allow_script_urls){var r=n.replace(/[\s\u0000-\u001F]+/g,"");try{r=decodeURIComponent(r)}catch(e){r=unescape(r)}if(T.test(r))return;if(i=r,!(r=H).allow_html_data_urls&&(/^data:image\//i.test(i)?!1===r.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(i):/^data:/i.test(i)))return}l&&(t in k||0===t.indexOf("on"))||(a.map[t]=n,a.push({name:t,value:n}))},D=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,A=j.getShortEndedElements(),P=H.self_closing_elements||j.getSelfClosingElements(),R=j.getBoolAttrs(),O=H.validate,I=H.remove_internals,M=H.fix_self_closing,F=j.getSpecialElements(),L=e+">";t=D.exec(L);){if(x<t.index&&q(C(e.substr(x,t.index-x))),n=t[6])E(n=":"===(n=n.toLowerCase()).charAt(0)?n.substr(1):n);else if(n=t[7]){if(t.index+t[0].length>e.length){q(C(e.substr(t.index))),x=t.index+t[0].length;continue}s=(n=":"===(n=n.toLowerCase()).charAt(0)?n.substr(1):n)in A,M&&P[n]&&0<_.length&&_[_.length-1].name===n&&E(n);y=N,B=t[8];var B=(y=y.exec(B))&&(B=y[1],y=y[2],"string"==typeof B&&"data-mce-bogus"===B.toLowerCase())?y:null;if(null!==B){if("all"===B){x=av(j,e,D.lastIndex),D.lastIndex=x;continue}c=!1}if(!O||(u=j.getElementRule(n))){if(c=!0,O&&(h=u.attributes,p=u.attributePatterns),(f=t[8])?((l=-1!==f.indexOf("data-mce-type"))&&I&&(c=!1),(a=[]).map={},f.replace(N,S)):(a=[]).map={},O&&!l){if(m=u.attributesRequired,g=u.attributesDefault,v=u.attributesForced,u.removeEmptyAttrs&&!a.length&&(c=!1),v)for(i=v.length;i--;)o=(d=v[i]).name,"{$uid}"===(b=d.value)&&(b="mce_"+w++),a.map[o]=b,a.push({name:o,value:b});if(g)for(i=g.length;i--;)(o=(d=g[i]).name)in a.map||("{$uid}"===(b=d.value)&&(b="mce_"+w++),a.map[o]=b,a.push({name:o,value:b}));if(m){for(i=m.length;i--&&!(m[i]in a.map););-1===i&&(c=!1)}if(d=a.map["data-mce-bogus"]){if("all"===d){x=av(j,e,D.lastIndex),D.lastIndex=x;continue}c=!1}}c&&U(n,a,s)}else c=!1;if(y=F[n]){y.lastIndex=x=t.index+t[0].length,x=(t=y.exec(e))?(c&&(r=e.substr(x,t.index-x)),t.index+t[0].length):(r=e.substr(x),e.length),c&&(0<r.length&&q(r,!0),V(n)),D.lastIndex=x;continue}s||(f&&f.indexOf("/")===f.length-1?c&&V(n):_.push({name:n,valid:c}))}else(n=t[1])?(">"===n.charAt(0)&&(n=" "+n),H.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),z(n)):(n=t[2])?W(function(e){for(var t=e;/<!--|--!?>/g.test(t);)t=t.replace(/<!--|--!?>/g,"");return t}(n)):(n=t[3])?Y(n):(n=t[4])&&$(n,t[5]);x=t.index+t[0].length}for(x<e.length&&q(C(e.substr(x))),i=_.length-1;0<=i;i--)(n=_[i]).valid&&V(n.name)}}}(Pv=Pv||{}).findEndTag=av;function Rv(e,t){for(var n,i,r,o=t,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a=e.schema,o=function(e,t){e=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(e,"")}(e.getTempAttrs(),o),l=a.getShortEndedElements();r=s.exec(o);)n=s.lastIndex,i=r[0].length,r=l[r[1]]?n:Mv.findEndTag(a,o,n),o=o.substring(0,n-i)+o.substring(r),s.lastIndex=n-i;return C.trim(o)}function Ov(e){return J.isElement(e)?e.outerHTML:J.isText(e)?vo.encodeRaw(e.data,!1):J.isComment(e)?"\x3c!--"+e.data+"--\x3e":""}function Iv(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}function Bv(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}var Mv=Pv,Fv={trimExternal:Rv,trimInternal:Rv},Lv={KEEP:0,DELETE:2,INSERT:1,diff:function(p,m){function u(e,t,n,i,r){var o=function(e,t,n,i){var r=t-e,o=i-n;if(r===0||o===0)return null;var s=r-o,a=o+r,l=(a%2===0?a:a+1)/2,u,c,d,f,h;for(g[1+l]=e,v[1+l]=t+1,u=0;u<=l;++u){for(c=-u;c<=u;c+=2){d=c+l;if(c===-u||c!==u&&g[d-1]<g[d+1])g[d]=g[d+1];else g[d]=g[d-1]+1;f=g[d];h=f-e+n-c;while(f<t&&h<i&&p[f]===m[h]){g[d]=++f;++h}if(s%2!==0&&s-u<=c&&c<=s+u)if(v[d-s]<=g[d])return b(v[d-s],c+e-n,t,i)}for(c=s-u;c<=s+u;c+=2){d=c+l-s;if(c===s-u||c!==s+u&&v[d+1]<=v[d-1])v[d]=v[d+1]-1;else v[d]=v[d-1];f=v[d]-1;h=f-e+n-c;while(f>=e&&h>=n&&p[f]===m[h]){v[d]=f--;h--}if(s%2===0&&-u<=c&&c<=u)if(v[d]<=g[d+s])return b(v[d],c+e-n,t,i)}}}(e,t,n,i);if(null===o||o.start===t&&o.diag===t-i||o.end===e&&o.diag===e-n)for(var s=e,a=n;s<t||a<i;)s<t&&a<i&&p[s]===m[a]?(r.push([0,p[s]]),++s,++a):i-n<t-e?(r.push([2,p[s]]),++s):(r.push([1,m[a]]),++a);else{u(e,o.start,n,o.start-o.diag,r);for(var l=o.start;l<o.end;++l)r.push([0,p[l]]);u(o.end,t,o.end-o.diag,i,r)}}var e=p.length+m.length+2,g=new Array(e),v=new Array(e),b=function(e,t,n,i){for(var r=e;r-t<i&&r<n&&p[r]===m[r-t];)++r;return{start:e,end:r,diag:t}},e=[];return u(0,p.length,0,m.length,e),e}},Hv=function(e,t,n){t=function(e){var t,n=$.document.createElement("div"),i=$.document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)i.appendChild(t);return i}(t);e.hasChildNodes()&&n<e.childNodes.length?(n=e.childNodes[n]).parentNode.insertBefore(t,n):e.appendChild(t)},jv=function(e,t){e.hasChildNodes()&&t<e.childNodes.length&&(e=e.childNodes[t]).parentNode.removeChild(e)},zv=function(e){return v(y(Ce(e.childNodes),Ov),function(e){return 0<e.length})},Wv=function(e,t){var n,i,r=y(Ce(t.childNodes),Ov);return r=Lv.diff(r,e),n=t,i=0,w(r,function(e){e[0]===Lv.KEEP?i++:e[0]===Lv.INSERT?(Hv(n,e[1],i),i++):e[0]===Lv.DELETE&&jv(n,i)}),t},qv=ss(A.none()),Uv=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Vv=function(e){var t=j.fromTag("body",qv.get().getOrThunk(function(){var e=$.document.implementation.createHTMLDocument("undo");return qv.set(A.some(e)),e}));return ks(t,Uv(e)),w(ls(t,"*[data-mce-bogus]"),os),t.dom().innerHTML},$v={createFragmentedLevel:Iv,createCompleteLevel:Bv,createFromEditor:function(t){var e=zv(t.getBody()),e=ye(e,function(e){e=Fv.trimInternal(t.serializer,e);return 0<e.length?[e]:[]}),n=e.join("");return-1!==n.indexOf("</iframe>")?Iv(e):Bv(n)},applyToEditor:function(e,t,n){"fragmented"===t.type?Wv(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return!(!e||!t)&&(n=t,Uv(e)===Uv(n)||(n=t,Vv(e)===Vv(n)));var n}};function Yv(o){function s(e){o.setDirty(e)}function i(e){f(!1),l.add({},e)}function t(){l.typing&&(f(!1),l.add())}var a,r,l=this,u=0,c=[],n=0,d=function(){return 0===n},f=function(e){d()&&(l.typing=e)};o.on("init",function(){l.add()}),o.on("BeforeExecCommand",function(e){e=e.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(t(),l.beforeChange())}),o.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&i(e)}),o.on("ObjectResizeStart Cut",function(){l.beforeChange()}),o.on("SaveContent ObjectResized blur",i),o.on("DragEnd",i),o.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(i(),o.nodeChanged()),46!==t&&8!==t||o.nodeChanged(),r&&l.typing&&!1===$v.isEq($v.createFromEditor(o),c[0])&&(!1===o.isDirty()&&(s(!0),o.fire("change",{level:c[0],lastLevel:null})),o.fire("TypingUndo"),r=!1,o.nodeChanged()))}),o.on("KeyDown",function(e){var t,n=e.keyCode;e.isDefaultPrevented()||(33<=n&&n<=36||37<=n&&n<=40||45===n?l.typing&&i(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(n<16||20<n)||224===n||91===n||l.typing||t||(l.beforeChange(),f(!0),l.add({},e),r=!0)))}),o.on("MouseDown",function(e){l.typing&&i(e)});return o.on("input",function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data)&&i(e)}),o.addShortcut("meta+z","","Undo"),o.addShortcut("meta+y,meta+shift+z","","Redo"),o.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||o.nodeChanged()}),l={data:c,typing:!1,beforeChange:function(){d()&&(a=Al.getUndoBookmark(o.selection))},add:function(e,t){var n,i=o.settings,r=$v.createFromEditor(o);if(e=K.extend(e=e||{},r),!1===d()||o.removed)return null;if(r=c[u],o.fire("BeforeAddUndo",{level:e,lastLevel:r,originalEvent:t}).isDefaultPrevented())return null;if(r&&$v.isEq(r,e))return null;if(c[u]&&(c[u].beforeBookmark=a),i.custom_undo_redo_levels&&c.length>i.custom_undo_redo_levels){for(n=0;n<c.length-1;n++)c[n]=c[n+1];c.length--,u=c.length}e.bookmark=Al.getUndoBookmark(o.selection),u<c.length-1&&(c.length=u+1),c.push(e),u=c.length-1;i={level:e,lastLevel:r,originalEvent:t};return o.fire("AddUndo",i),0<u&&(s(!0),o.fire("change",i)),e},undo:function(){var e;return l.typing&&(l.add(),l.typing=!1,f(!1)),0<u&&(e=c[--u],$v.applyToEditor(o,e,!0),s(!0),o.fire("undo",{level:e})),e},redo:function(){var e;return u<c.length-1&&(e=c[++u],$v.applyToEditor(o,e,!1),s(!0),o.fire("redo",{level:e})),e},clear:function(){c=[],u=0,l.typing=!1,l.data=c,o.fire("ClearUndos")},hasUndo:function(){return 0<u||l.typing&&c[0]&&!$v.isEq($v.createFromEditor(o),c[0])},hasRedo:function(){return u<c.length-1&&!l.typing},transact:function(e){return t(),l.beforeChange(),l.ignore(e),l.add()},ignore:function(e){try{n++,e()}finally{n--}},extra:function(e,t){var n;l.transact(e)&&(e=c[u].bookmark,n=c[u-1],$v.applyToEditor(o,n,!0),l.transact(t)&&(c[u-1].beforeBookmark=e))}}}var Xv={},Qv=p.filter,Kv=p.each;Pe=function(e){var t,n=e.selection.getRng(),i=J.matchNodeNames("pre");n.collapsed||(t=e.selection.getSelectedBlocks(),Kv(Qv(Qv(t,i),function(e){return i(e.previousSibling)&&-1!==p.indexOf(t,e.previousSibling)}),function(e){var t;t=e.previousSibling,Q(e=e).remove(),Q(t).append("<br><br>").append(e.childNodes)}))},Xv[Oe="pre"]||(Xv[Oe]=[]),Xv[Oe].push(Pe);function Gv(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)}function Jv(e,t,n){var i,r=t[n?"startContainer":"endContainer"],t=t[n?"startOffset":"endOffset"];return J.isElement(r)&&(i=r.childNodes.length-1,!n&&t&&t--,r=r.childNodes[i<t?i:t]),J.isText(r)&&n&&t>=r.nodeValue.length&&(r=new G(r,e.getBody()).next()||r),r=J.isText(r)&&!n&&0===t?new G(r,e.getBody()).prev()||r:r}function Zv(e,t,n,i,r){return t=j.fromDom(t),e=j.fromDom(e.create(i,r)),i=(n?kr:Cr)(t),ns(e,i),(n?(Jo(t,e),es):(Zo(t,e),ts))(e,t),e.dom()}function eb(e,t,n){var i,r,o=new fc(e);if(t&&n&&(t=mb(t,"previousSibling"),n=mb(n,"nextSibling"),o.compare(t,n))){for(i=t.nextSibling;i&&i!==n;)i=(r=i).nextSibling,t.appendChild(r);return e.remove(n),K.each(K.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function tb(n,e){return h(function(e,t){return!(!t||!P.getStyle(n,t,e))},e)}function nb(i,e,t){return h(function(e,t,n){i.setStyle(n,e,t),""===n.getAttribute("style")&&n.removeAttribute("style"),vb(i,n)},e,t)}function ib(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=P.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))}function rb(p,m,g,i){function v(n,e){var t;e=e||x,n&&(e.onformat&&e.onformat(n,e,g,i),kb(e.styles,function(e,t){h.setStyle(n,t,P.replaceVars(e,g))}),e.styles&&(t=h.getAttrib(n,"style"))&&n.setAttribute("data-mce-style",t),kb(e.attributes,function(e,t){h.setAttrib(n,t,P.replaceVars(e,g))}),kb(e.classes,function(e){e=P.replaceVars(e,g),h.hasClass(n,e)||h.addClass(n,e)}))}function b(e,t){var n=!1;return!!x.selector&&(kb(e,function(e){return!("collapsed"in e&&e.collapsed!==f)&&h.is(t,e.selector)&&!Rl(t)?(v(t,e),!(n=!0)):void 0}),n)}function e(l,e,t,u){var c=[],d=!0,f=x.inline||x.block,h=l.create(f);v(h),Wu(l,e,function(e){var s,a=function(e){var t,n=d,i=e.nodeName.toLowerCase(),r=e.parentNode.nodeName.toLowerCase();if(1===e.nodeType&&l.getContentEditable(e)&&(n=d,d="true"===l.getContentEditable(e),t=!0),P.isEq(i,"br"))s=0,x.block&&l.remove(e);else if(x.wrapper&&sp.matchNode(p,e,m,g))s=0;else if(d&&!t&&x.block&&!x.wrapper&&P.isTextBlock(p,i)&&P.isValid(p,r,f))e=l.rename(e,f),v(e),c.push(e),s=0;else{if(x.selector){var o=b(y,e);if(!x.inline||o)return void(s=0)}d&&!t&&P.isValid(p,f,i)&&P.isValid(p,r,f)&&(u||3!==e.nodeType||1!==e.nodeValue.length||65279!==e.nodeValue.charCodeAt(0))&&!(Rl(e)||x.inline&&l.isBlock(e))?(s||(s=l.clone(h,!1),e.parentNode.insertBefore(s,e),c.push(s)),s.appendChild(e)):(s=0,kb(K.grep(e.childNodes),a),t&&(d=n),s=0)}};kb(e,a)}),!0===x.links&&kb(c,function(e){var t=function(e){"A"===e.nodeName&&v(e,x),kb(K.grep(e.childNodes),t)};t(e)}),kb(c,function(e){var t,n,i,r=function(e){var n=!1;return kb(e.childNodes,function(e){if((t=e)&&1===t.nodeType&&!Ru.isBookmarkNode(t)&&!Rl(t)&&!J.isBogus(t))return n=e,!1;var t}),n};t=0,kb(e.childNodes,function(e){P.isWhiteSpaceNode(e)||Ru.isBookmarkNode(e)||t++}),n=t,(1<c.length||!l.isBlock(e))&&0===n?l.remove(e,1):(x.inline||x.wrapper)&&(x.exact||1!==n||((r=r(n=e))&&!Ru.isBookmarkNode(r)&&sp.matchName(l,r,x)&&(i=l.clone(r,!1),v(i),l.replace(i,n,!0),l.remove(r,1)),e=i||n),bb(p,y,g,e),Cb(p,x,m,g,e),xb(l,x,g,e),_b(l,x,g,e),wb(l,x,g,e))})}var t,n,r,o,s,a,l,u,c,d,y=p.formatter.get(m),x=y[0],f=!i&&p.selection.isCollapsed(),h=p.dom,_=p.selection;if("false"===h.getContentEditable(_.getNode())){i=_.getNode();for(var w=0,C=y.length;w<C;w++)if(y[w].ceFalseOverride&&h.is(i,y[w].selector))return void v(i,y[w])}else x&&(i?i.nodeType?b(y,i)||((n=h.createRng()).setStartBefore(i),n.setEndAfter(i),e(h,ju.expandRng(p,n,y),0,!0)):e(h,i,0,!0):f&&x.inline&&!h.select("td[data-mce-selected],th[data-mce-selected]").length?(n=m,r=g,s=(t=p).selection,a=s.getRng(!0),l=a.startOffset,u=a.startContainer.nodeValue,(c=Ol(t.getBody(),s.getStart()))&&(o=dp(c)),d=/[^\s\u00a0\u00ad\u200b\ufeff]/,u&&0<l&&l<u.length&&d.test(u.charAt(l))&&d.test(u.charAt(l-1))?(d=s.getBookmark(),a.collapse(!0),a=ju.expandRng(t,a,t.formatter.get(n)),a=ap.split(a),t.formatter.apply(n,r,a),s.moveToBookmark(d)):(c&&o.nodeValue===lp||(o=(c=cp(t.getDoc(),fp(!0).dom())).firstChild,a.insertNode(c),l=1),t.formatter.apply(n,r,c),s.setCursorLocation(o,l))):(u=p.selection.getNode(),p.settings.forced_root_block||!y[0].defaultBlock||h.getParent(u,h.isBlock)||rb(p,y[0].defaultBlock),p.selection.setRng(ef.normalize(p.selection.getRng())),d=Al.getPersistentBookmark(p.selection,!0),e(h,ju.expandRng(p,_.getRng(),y)),x.styles&&yb(h,x,g,u),_.moveToBookmark(d),P.moveStart(h,_,_.getRng()),p.nodeChanged()),ob(m,p))}var ob=function(e,t){Kv(Xv[e],function(e){e(t)})},sb=/^(src|href|style)$/,ab=K.each,lb=P.isEq,ub=function(e,t,n,i){e=e.create(n,i);return t.parentNode.insertBefore(e,t),e.appendChild(t),e},cb=function(e,t,n,i){return!(t=P.getNonWhiteSpaceSibling(t,n,i))||"BR"===t.nodeName||e.isBlock(t)},db=function(e,n,i,r,o){var t,s,a,l,u,c,d,f,h,p,m=e.dom;if(f=m,!(lb(c=r,(u=n).inline)||lb(c,u.block)||(u.selector?J.isElement(c)&&f.is(c,u.selector):void 0)||(f=r,n.links&&"A"===f.tagName)))return!1;if("all"!==n.remove)for(ab(n.styles,function(e,t){e=P.normalizeStyleValue(m,P.replaceVars(e,i),t),"number"==typeof t&&(t=e,o=0),!n.remove_similar&&o&&!lb(P.getStyle(m,o,t),e)||m.setStyle(r,t,""),a=1}),a&&""===m.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),ab(n.attributes,function(e,t){var n;e=P.replaceVars(e,i),"number"==typeof t&&(t=e,o=0),o&&!lb(m.getAttrib(o,t),e)||("class"===t&&(e=m.getAttrib(r,t))&&(n="",ab(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)?m.setAttrib(r,t,n):("class"===t&&r.removeAttribute("className"),sb.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)))}),ab(n.classes,function(e){e=P.replaceVars(e,i),o&&!m.hasClass(o,e)||m.removeClass(r,e)}),s=m.getAttribs(r),t=0;t<s.length;t++){var g=s[t].nodeName;if(0!==g.indexOf("_")&&0!==g.indexOf("data-"))return!1}return"none"!==n.remove?(l=e,c=n,f=(u=r).parentNode,h=l.dom,p=l.settings.forced_root_block,c.block&&(p?f!==h.getRoot()||c.list_block&&lb(u,c.list_block)||ab(K.grep(u.childNodes),function(e){P.isValid(l,p,e.nodeName.toLowerCase())?d?d.appendChild(e):(d=ub(h,e,p),h.setAttribs(d,l.settings.forced_root_block_attrs)):d=0}):h.isBlock(u)&&!h.isBlock(f)&&(cb(h,u,!1)||cb(h,u.firstChild,!0,1)||u.insertBefore(h.create("br"),u.firstChild),cb(h,u,!0)||cb(h,u.lastChild,!1,1)||u.appendChild(h.create("br")))),c.selector&&c.inline&&!lb(c.inline,u)||h.remove(u,1),!0):void 0},fb={removeFormat:db,remove:function(x,_,w,e,C){function o(e){n=x,i=_,r=w,o=C,ab(P.getParents(n.dom,e.parentNode).reverse(),function(e){var t;s||"_start"===e.id||"_end"===e.id||(t=sp.matchNode(n,e,i,r,o))&&!1!==t.split&&(s=e)});var n,i,r,o,s,t,a,l,u,c,d,f=x,h=k,p=s,m=e,g=!0,v=T,b=w,y=f.dom;if(p){for(d=p.parentNode,t=m.parentNode;t&&t!==d;t=t.parentNode){for(a=y.clone(t,!1),c=0;c<h.length;c++)if(db(f,h[c],b,a,a)){a=0;break}a&&(l&&a.appendChild(l),u=u||a,l=a)}!g||v.mixed&&y.isBlock(p)||(m=y.split(p,m)),l&&(e.parentNode.insertBefore(l,e),u.appendChild(e))}return m}function s(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return i(n)&&(n=n[e?"firstChild":"lastChild"]),J.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n}function t(e){var t,n,i,r=e.commonAncestorContainer;if(e=ju.expandRng(x,e,k,!0),T.split){if(e=ap.split(e),(t=Jv(x,e,!0))!==(n=Jv(x,e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"===t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&/^(TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n=n.firstChild||n),Gv(l,t,n))return i=A.from(t.firstChild).getOr(t),o(Zv(l,i,!0,"span",{id:"_start","data-mce-type":"bookmark"})),s(!0);if(Gv(l,n,t))return i=A.from(n.lastChild).getOr(n),o(Zv(l,i,!1,"span",{id:"_end","data-mce-type":"bookmark"})),s(!1);t=ub(l,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=ub(l,n,"span",{id:"_end","data-mce-type":"bookmark"}),o(t),o(n),t=s(!0),n=s()}else t=n=o(t);e.startContainer=t.parentNode||t,e.startOffset=l.nodeIndex(t),e.endContainer=n.parentNode||n,e.endOffset=l.nodeIndex(n)+1}Wu(l,e,function(e){ab(e,function(e){u(e),J.isElement(e)&&"underline"===x.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===P.getTextDecoration(l,e.parentNode)&&db(x,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var k=x.formatter.get(_),T=k[0],a=!0,l=x.dom,n=x.selection,i=function(e){return Ru.isBookmarkNode(e)&&J.isElement(e)&&("_start"===e.id||"_end"===e.id)},u=function(e){var t,n,i,r,o;if(J.isElement(e)&&l.getContentEditable(e)&&(r=a,a="true"===l.getContentEditable(e),o=!0),t=K.grep(e.childNodes),a&&!o)for(n=0,i=k.length;n<i&&!db(x,k[n],w,e,e);n++);if(T.deep&&t.length){for(n=0,i=t.length;n<i;n++)u(t[n]);o&&(a=r)}};if(e)e.nodeType?((v=l.createRng()).setStartBefore(e),v.setEndAfter(e),t(v)):t(e);else if("false"===l.getContentEditable(n.getNode())){e=n.getNode();for(var r=0,c=k.length;r<c&&(!k[r].ceFalseOverride||!db(x,k[r],w,e,e));r++);}else if(n.isCollapsed()&&T.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length){var d,f,h=x,p=_,m=w,g=C,v=h.dom,b=h.selection,y=[],E=b.getRng(),S=E.startContainer,D=E.startOffset,N=S;for(3===S.nodeType&&(D!==S.nodeValue.length&&(d=!0),N=N.parentNode);N;){if(sp.matchNode(h,N,p,m,g)){f=N;break}N.nextSibling&&(d=!0),y.push(N),N=N.parentNode}f&&(d?(D=b.getBookmark(),E.collapse(!0),S=ju.expandRng(h,E,h.formatter.get(p),!0),S=ap.split(S),h.formatter.remove(p,m,S),b.moveToBookmark(D)):(E=Ol(h.getBody(),f),S=fp(!1).dom(),D=mp(y,S),pp(h,S,E||f),hp(h,E,!1),b.setCursorLocation(D,1),v.isEmpty(f)&&v.remove(f)))}else S=Al.getPersistentBookmark(x.selection,!0),t(n.getRng()),n.moveToBookmark(S),T.inline&&sp.match(x,_,w,n.getStart())&&P.moveStart(l,n,n.getRng()),x.nodeChanged()}},hb=K.each,pb=function(e){return e&&1===e.nodeType&&!Ru.isBookmarkNode(e)&&!Rl(e)&&!J.isBogus(e)},mb=function(e,t){for(var n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Ru.isBookmarkNode(n))return n}return e},gb=function(e,t,n){hb(e.childNodes,function(e){pb(e)&&(t(e)&&n(e),e.hasChildNodes()&&gb(e,t,n))})},vb=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},bb=function(o,e,s,a){hb(e,function(t){var i,e,n,r;hb(o.dom.select(t.inline,a),function(e){pb(e)&&fb.removeFormat(o,t,s,e,t.exact?e:null)}),i=o.dom,n=a,(e=t).clear_child_styles&&(r=e.links?"*:not(a)":"*",hb(i.select(r,n),function(n){pb(n)&&hb(e.styles,function(e,t){i.setStyle(n,t,"")})}))})},yb=function(e,t,n,i){(t.styles.color||t.styles.textDecoration)&&(K.walk(i,h(ib,e),"childNodes"),ib(e,i))},xb=function(e,t,n,i){t.styles&&t.styles.backgroundColor&&gb(i,tb(e,"fontSize"),nb(e,"backgroundColor",P.replaceVars(t.styles.backgroundColor,n)))},_b=function(e,t,n,i){"sub"!==t.inline&&"sup"!==t.inline||(gb(i,tb(e,"fontSize"),nb(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))},wb=function(e,t,n,i){i&&!1!==t.merge_siblings&&(i=eb(e,P.getNonWhiteSpaceSibling(i),i),eb(e,i,P.getNonWhiteSpaceSibling(i,!0)))},Cb=function(t,n,i,r,o){sp.matchNode(t,o.parentNode,i,r)&&fb.removeFormat(t,n,r,o)||n.merge_with_parents&&t.dom.getParent(o.parentNode,function(e){if(sp.matchNode(t,e,i,r))return fb.removeFormat(t,n,r,o),!0})},kb=K.each,Tb={applyFormat:rb},Eb=K.each,Sb={formatChanged:function(e,t,n,i,r){var o,s,a,l,u,c;null===t.get()&&(s=e,a={},(o=t).set({}),s.on("NodeChange",function(n){var i=P.getParents(s.dom,n.element),r={},i=K.grep(i,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});Eb(o.get(),function(e,n){Eb(i,function(t){return s.formatter.matchNode(t,n,{},e.similar)?(a[n]||(Eb(e,function(e){e(!0,{node:t,format:n,parents:i})}),a[n]=e),r[n]=e,!1):!sp.matchesUnInheritedFormatSelector(s,t,n)&&void 0})}),Eb(a,function(e,t){r[t]||(delete a[t],Eb(e,function(e){e(!1,{node:n.element,format:t,parents:i})}))})})),e=n,l=i,u=r,c=(n=t).get(),Eb(e.split(","),function(e){c[e]||(c[e]=[],c[e].similar=u),c[e].push(l)}),n.set(c)}},Db={get:function(i){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){K.each(t,function(e,t){i.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return K.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}};function Nb(e){function n(e,t){e&&("string"!=typeof e?K.each(e,function(e,t){n(t,e)}):(t=t.length?t:[t],K.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),i[e]=t))}var i={};return n(Db.get(e.dom)),n(e.settings.formats),{get:function(e){return e?i[e]:i},register:n,unregister:function(e){return e&&i[e]&&delete i[e],i}}}function Ab(e,t){function l(e){var t,n;return i="string"==typeof e?{name:e,classes:[],attrs:{}}:e,e=Ob.create(i.name),t=e,(n=i).classes.length&&Ob.addClass(t,n.classes.join(" ")),Ob.setAttribs(t,n.attrs),e}function u(t,e,n){var i,r,o=0<e.length&&e[0],s=o&&o.name,a=function(e,t){e="string"!=typeof e?e.nodeName.toLowerCase():e,e=c.getElementRule(e),e=e&&e.parentsRequired;return!(!e||!e.length)&&(t&&-1!==K.inArray(e,t)?t:e[0])}(t,s);if(a)s===a?(r=e[0],e=e.slice(1)):r=a;else if(o)r=e[0],e=e.slice(1);else if(!n)return t;return r&&(i=l(r)).appendChild(t),n&&(i||(i=Ob.create("div")).appendChild(t),K.each(n,function(e){e=l(e);i.insertBefore(e,t)})),u(i,e,r&&r.siblings)}var i,n,c=t&&t.schema||Eo({});return e&&e.length?(i=e[0],t=l(i),(n=Ob.create("div")).appendChild(u(t,e.slice(1),i.siblings)),n):""}function Pb(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),K.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var e=K.map(e.split(/(?:~\+|~|\+)/),Ib),t=e.pop();return e.length&&(t.siblings=e),t}).reverse()):[]}var Rb=K.each,Ob=c.DOM,Ib=function(e){var t,o={classes:[],attrs:{}};return"*"!==(e=o.selector=K.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,i,r){switch(t){case"#":o.attrs.id=n;break;case".":o.classes.push(n);break;case":":-1!==K.inArray("checked disabled enabled read-only required".split(" "),n)&&(o.attrs[n]=n)}return"["===i&&(t=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(o.attrs[t[1]]=t[2]),""})),o.name=t||"div",o},Bb={getCssText:function(n,e){var t,i,r,o,s="",a=n.settings.preview_styles;if(!1===a)return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");function l(e){return e.replace(/%(\w+)/g,"")}if("string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(a=e.preview)?"":(t=e.block||e.inline||"span",r=(r=Pb(e.selector)).length?(r[0].name||(r[0].name=t),t=e.selector,Ab(r,n)):Ab([t],n),i=Ob.select(t,r)[0]||r.firstChild,Rb(e.styles,function(e,t){(e=l(e))&&Ob.setStyle(i,t,e)}),Rb(e.attributes,function(e,t){(e=l(e))&&Ob.setAttrib(i,t,e)}),Rb(e.classes,function(e){e=l(e),Ob.hasClass(i,e)||Ob.addClass(i,e)}),n.fire("PreviewFormats"),Ob.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),o=Ob.getStyle(n.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,Rb(a.split(" "),function(e){var t=Ob.getStyle(i,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=Ob.getStyle(n.getBody(),e,!0),"#ffffff"===Ob.toHex(t).toLowerCase())||"color"===e&&"#000000"===Ob.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===o)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*o+"px"}"border"===e&&t&&(s+="padding:0 2px;"),s+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),Ob.remove(r),s)},parseSelector:Pb,selectorToHtml:function(e,t){return Ab(Pb(e),t)}},Mb={toggle:function(e,t,n,i,r){t=t.get(n);!sp.match(e,n,i,r)||"toggle"in t[0]&&!t[0].toggle?Tb.applyFormat(e,n,i,r):fb.remove(e,n,i,r)}},Fb={setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}};function Lb(e){var t=Nb(e),n=ss(null);return Fb.setup(e),gp(e),{get:t.get,register:t.register,unregister:t.unregister,apply:h(Tb.applyFormat,e),remove:h(fb.remove,e),toggle:h(Mb.toggle,e,t),match:h(sp.match,e),matchAll:h(sp.matchAll,e),matchNode:h(sp.matchNode,e),canApply:h(sp.canApply,e),formatChanged:h(Sb.formatChanged,e,n),getCssText:h(Bb.getCssText,e)}}function Hb(e,t,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[s])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[s])return i}}var jb,zb=Object.prototype.hasOwnProperty,Wb=(jb=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<e.length;i++){var r,o=e[i];for(r in o)zb.call(o,r)&&(n[r]=jb(n[r],o[r]))}return n}),qb={register:function(t,l,u){t.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),t.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r=e.length,o="data-mce-"+t,s=l.url_converter,a=l.url_converter_scope;r--;)void 0!==(i=(n=e[r]).attributes.map[o])?(n.attr(t,0<i.length?i:null),n.attr(o,null)):(i=n.attributes.map[t],"style"===t?i=u.serializeStyle(u.parseStyle(i),n.name):s&&(i=s.call(a,i,t,n.name)),n.attr(t,0<i.length?i:null))}),t.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(t=e[i]).attr("class")&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),t.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||(A.from(i.firstChild).exists(function(e){return!C.isZwsp(e.value)})?i.unwrap():i.remove())}),t.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=vo.decode(t.value))}),t.addNodeFilter("script,style",function(e,t){for(var n,i,r,o=e.length,s=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};o--;)i=(n=e[o]).firstChild?n.firstChild.value:"","script"===t?((r=n.attr("type"))&&n.attr("type","mce-no/type"===r?null:r.replace(/^mce\-/,"")),"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="\x3c!--\n"+s(i)+"\n--\x3e")}),t.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1!==n.type||"input"!==t||"type"in n.attributes.map||n.attr("type","text")}),t.addAttributeFilter("data-mce-type",function(e){w(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){function t(e){return e&&"br"===e.name}var n,e=e.lastChild;t(e)&&t(n=e.prev)&&(e.remove(),n.remove())}},Ub={process:function(e,t,n){return a=n,(s=e)&&s.hasEventListeners("PreProcess")&&!a.no_events?(s=t,a=n,e=(n=e).dom,s=s.cloneNode(!0),(i=$.document.implementation).createHTMLDocument&&(r=i.createHTMLDocument(""),K.each("BODY"===s.nodeName?s.childNodes:[s],function(e){r.body.appendChild(r.importNode(e,!0))}),s="BODY"!==s.nodeName?r.body.firstChild:r.body,o=e.doc,e.doc=r),Sm.firePreProcess(n,Wb(a,{node:s})),o&&(e.doc=o),s):t;var i,r,o,s,a}},Vb=function(e,s,a){e.addNodeFilter("font",function(e){w(e,function(e){var t,n=s.parse(e.attr("style")),i=e.attr("color"),r=e.attr("face"),o=e.attr("size");i&&(n.color=i),r&&(n["font-family"]=r),o&&(n["font-size"]=a[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",s.serialize(n)),t=e,w(["color","face","size"],function(e){t.attr(e,null)})})})},$b=function(e,n){e.addNodeFilter("strike",function(e){w(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})},Yb={register:function(e,t){var n;t.inline_styles&&(e=e,t=t,n=Do(),t.convert_fonts_to_spans&&Vb(e,n,K.explode(t.font_size_legacy_values)),$b(e,n))}},Xb=/^[ \t\r\n]*$/,Qb={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Kb=(Gb.create=function(e,t){var n,i=new Gb(e,Qb[e]||1);if(t)for(n in t)i.attr(n,t[n]);return i},Gb.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},Gb.prototype.attr=function(e,t){var n,i;if("string"!=typeof e){for(i in e)this.attr(i,e[i]);return this}if(n=this.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),this}else{if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});n.map[e]=t}return this}},Gb.prototype.clone=function(){var e,t,n,i,r,o=new Gb(this.name,this.type);if(n=this.attributes){for((r=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(i=n[e]).name&&(r[r.length]={name:i.name,value:i.value},r.map[i.name]=i.value);o.attributes=r}return o.value=this.value,o.shortEnded=this.shortEnded,o},Gb.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},Gb.prototype.unwrap=function(){for(var e,t=this.firstChild;t;)e=t.next,this.insert(t,this,!0),t=e;this.remove()},Gb.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},Gb.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},Gb.prototype.insert=function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},Gb.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Hb(n,this))n.name===e&&t.push(n);return t},Gb.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=Hb(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},Gb.prototype.isEmpty=function(e,t,n){var i,r,o=this.firstChild;if(t=t||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(e[o.name])return!1;for(i=o.attributes.length;i--;)if("name"===(r=o.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!Xb.test(o.value))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&Xb.test(o.value))return!1;if(n&&n(o))return!1}while(o=Hb(o,this));return!0},Gb.prototype.walk=function(e){return Hb(this,null,e)},Gb);function Gb(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function Jb(e){return ny(e,"#text")&&"Â "===e.firstChild.value}function Zb(e,t){return e&&(t[e.name]||"br"===e.name)}function ey(e,p){var m=e.schema;p.remove_trailing_brs&&e.addNodeFilter("br",function(e,t,n){var i,r,o,s,a,l,u,c=e.length,d=K.extend({},m.getBlockElements()),f=m.getNonEmptyElements(),h=m.getWhiteSpaceElements();for(d.body=1,i=0;i<c;i++)if(o=(r=e[i]).parent,d[r.parent.name]&&r===o.lastChild){for(a=r.prev;a;){if("span"!==(l=a.name)||"bookmark"!==a.attr("data-mce-type")){if("br"!==l)break;if("br"===l){r=null;break}}a=a.prev}r&&(r.remove(),ry(m,f,h,o)&&(u=m.getElementRule(o.name))&&(u.removeEmpty?o.remove():u.paddEmpty&&ty(p,n,d,o)))}else{for(s=r;o&&o.firstChild===s&&o.lastChild===s&&!d[(s=o).name];)o=o.parent;s===o&&!0!==p.padd_empty_with_br&&((u=new Kb("#text",3)).value="Â ",r.replace(u))}}),e.addAttributeFilter("href",function(e){var t,n=e.length,i=function(e){return e.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")};if(!p.allow_unsafe_link_target)for(;n--;)"a"===(t=e[n]).name&&"_blank"===t.attr("target")&&t.attr("rel",function(e){e=e?K.trim(e):"";return/\b(noopener)\b/g.test(e)?e:i(e)}(t.attr("rel")))}),p.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),p.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)"ul"!==(n=(t=e[i]).parent).name&&"ol"!==n.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((n=new Kb("li",1)).attr("style","list-style-type: none"),t.wrap(n)))}),p.validate&&m.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,n,i,r,o,s,a,l=e.length,u=m.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],a=!1,(s=u["*"])&&s[r]&&(a=!0),s=u[t.name],(a=!a&&s&&s[r]?!0:a)&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}})}var ty=function(e,t,n,i){(e.padd_empty_with_br||t.insert)&&n[i.name]?i.empty().append(new Kb("br",1)).shortEnded=!0:i.empty().append(new Kb("#text",3)).value="Â "},ny=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},iy=function(e,t){e=e.getElementRule(t.name);return e&&e.paddEmpty},ry=function(t,e,n,i){return i.isEmpty(e,n,function(e){return iy(t,e)})},oy=K.makeMap,sy=K.each,ay=K.explode,ly=K.extend;function uy(U,V){void 0===V&&(V=Eo());var $={},Y=[],X={},Q={},K=((U=U||{}).validate=!("validate"in U)||U.validate,U.root_name=U.root_name||"body",function(e){var t,n,i=e.name;i in $&&((n=X[i])?n.push(e):X[i]=[e]),t=Y.length;for(;t--;)(i=Y[t].name)in e.attributes.map&&((n=Q[i])?n.push(e):Q[i]=[e]);return e}),e={schema:V,addAttributeFilter:function(e,n){sy(ay(e),function(e){for(var t=0;t<Y.length;t++)if(Y[t].name===e)return void Y[t].callbacks.push(n);Y.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(Y)},addNodeFilter:function(e,n){sy(ay(e),function(e){var t=$[e];t||($[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e,t=[];for(e in $)$.hasOwnProperty(e)&&t.push({name:e,callbacks:$[e]});return t},filterNode:K,parse:function(M,o){function F(){function e(e){e&&((i=e.firstChild)&&3===i.type&&(i.value=i.value.replace(b,"")),(i=e.lastChild)&&3===i.type&&(i.value=i.value.replace(y,"")))}var t,n,i=w.firstChild;if(V.isValidChild(w.name,g.toLowerCase())){for(;i;)t=i.next,3===i.type||1===i.type&&"p"!==i.name&&!c[i.name]&&!i.attr("data-mce-type")?(n||((n=a(g,1)).attr(U.forced_root_block_attrs),w.insert(n,i)),n.append(i)):(e(n),n=null),i=t;e(n)}}function a(e,t){var n,t=new Kb(e,t);return e in $&&((n=X[e])?n.push(t):X[e]=[t]),t}function l(e){for(var t,n=V.getBlockElements(),i=e.prev;i&&3===i.type;){if(0<(t=i.value.replace(y,"")).length)return i.value=t;if(t=i.next){if(3===t.type&&t.value.length){i=i.prev;continue}if(!n[t.name]&&"script"!==t.name&&"style"!==t.name){i=i.prev;continue}}t=i.prev,i.remove(),i=t}}var e,t,n,i,r,u,s,c,d,f=[],h=(o=o||{},X={},Q={},c=ly(oy("script,style,head,html,body,title,meta,param"),V.getBlockElements()),V.getNonEmptyElements()),p=V.children,m=U.validate,g=("forced_root_block"in o?o:U).forced_root_block,v=V.getWhiteSpaceElements(),b=/^[ \t\r\n]+/,y=/[ \t\r\n]+$/,L=/[ \t\r\n]+/g,x=/^[ \t\r\n]+$/,_=v.hasOwnProperty(o.context)||v.hasOwnProperty(U.root_name),H=Mv({validate:m,allow_script_urls:U.allow_script_urls,allow_conditional_comments:U.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(V.getSelfClosingElements()),cdata:function(e){d.append(a("#cdata",4)).value=e},text:function(e,t){var n;_||(e=e.replace(L," "),Zb(d.lastChild,c)&&(e=e.replace(b,""))),0!==e.length&&((n=a("#text",3)).raw=!!t,d.append(n).value=e)},comment:function(e){d.append(a("#comment",8)).value=e},pi:function(e,t){d.append(a(e,7)).value=t,l(d)},doctype:function(e){d.append(a("#doctype",10)).value=e,l(d)},start:function(e,t,n){var i,r,o,s=m?V.getElementRule(e):{};if(s){for((i=a(s.outputName||e,1)).attributes=t,i.shortEnded=n,d.append(i),(s=p[d.name])&&p[i.name]&&!s[i.name]&&f.push(i),r=Y.length;r--;)(o=Y[r].name)in t.map&&((u=Q[o])?u.push(i):Q[o]=[i]);c[e]&&l(i),n||(d=i),!_&&v[e]&&(_=!0)}},end:function(e){var t,n,i,r=m?V.getElementRule(e):{};if(r){if(c[e]&&!_){if((t=d.firstChild)&&3===t.type)if(0<(n=t.value.replace(b,"")).length)t.value=n,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)n=t.value,i=t.next,0!==n.length&&!x.test(n)||(t.remove(),t=i),t=i;if((t=d.lastChild)&&3===t.type)if(0<(n=t.value.replace(y,"")).length)t.value=n,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)n=t.value,i=t.prev,0!==n.length&&!x.test(n)||(t.remove(),t=i),t=i}_&&v[e]&&(_=!1),r.removeEmpty&&ry(V,h,v,d)&&!d.attributes.map.name&&!d.attr("id")?(e=d.parent,c[d.name]?d.empty().remove():d.unwrap(),d=e):(r.paddEmpty&&(Jb(d)||ry(V,h,v,d))&&ty(U,o,c,d),d=d.parent)}}},V),w=d=new Kb(o.context||U.root_name,11);if(H.parse(M),m&&f.length)if(o.context)o.invalid=!0;else for(var C,k,T,E,S,D,N,A,P,R,O=f,j=oy("tr,td,th,tbody,thead,tfoot,table"),I=V.getNonEmptyElements(),z=V.getWhiteSpaceElements(),W=V.getTextBlockElements(),q=V.getSpecialElements(),B=0;B<O.length;B++)if((C=O[B]).parent&&!C.fixed)if(W[C.name]&&"li"===C.parent.name){for(P=C.next;P&&W[P.name];)P.name="li",P.fixed=!0,C.parent.insert(P,C.parent),P=P.next;C.unwrap(C)}else{for(T=[C],k=C.parent;k&&!V.isValidChild(k.name,C.name)&&!j[k.name];k=k.parent)T.push(k);if(k&&1<T.length){for(T.reverse(),E=S=K(T[0].clone()),A=0;A<T.length-1;A++){for(V.isValidChild(S.name,T[A].name)?(D=K(T[A].clone()),S.append(D)):D=S,N=T[A].firstChild;N&&N!==T[A+1];)R=N.next,D.append(N),N=R;S=D}ry(V,I,z,E)?k.insert(C,T[0],!0):(k.insert(E,T[0],!0),k.insert(C,E)),(ry(V,I,z,k=T[0])||ny(k,"br"))&&k.empty().remove()}else C.parent&&("li"===C.name?!(P=C.prev)||"ul"!==P.name&&"ul"!==P.name?!(P=C.next)||"ul"!==P.name&&"ul"!==P.name?C.wrap(K(new Kb("ul",1))):P.insert(C,P.firstChild,!0):P.append(C):V.isValidChild(C.parent.name,"div")&&V.isValidChild("div",C.name)?C.wrap(K(new Kb("div",1))):q[C.name]?C.empty().remove():C.unwrap())}if(g&&("body"===w.name||o.isRootContent)&&F(),!o.invalid){for(s in X){for(u=$[s],i=(e=X[s]).length;i--;)e[i].parent||e.splice(i,1);for(t=0,n=u.length;t<n;t++)u[t](e,s,o)}for(t=0,n=Y.length;t<n;t++)if((u=Y[t]).name in Q){for(i=(e=Q[u.name]).length;i--;)e[i].parent||e.splice(i,1);for(i=0,r=u.callbacks.length;i<r;i++)u.callbacks[i](e,u.name,o)}}return w}};return ey(e,U),Yb.register(e,U),e}function cy(e,t,n){-1===K.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))}function dy(e,t,n){return e=C.trim(n.getInner?t.innerHTML:e.getOuterHTML(t)),n.selection||ro(j.fromDom(t))?e:K.trim(e)}function fy(e,t,n){return n=n.selection?Wb({forced_root_block:!1},n):n,e=e.parse(t,n),qb.trimTrailingBr(e),e}function hy(e,t,n,i,r){return t=my(t,n,i),py(e,r,t)}var py=function(e,t,n){return!t.no_events&&e?Sm.firePostProcess(e,Wb(t,{content:n})).content:n},my=function(e,t,n){return gc(e,t).serialize(n)};function gy(e,t){n=e,o=["data-mce-selected"],s=(i=t)&&i.dom?i.dom:c.DOM,a=i&&i.schema?i.schema:Eo(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,r=uy(n,a),qb.register(r,n,s);var n,i,r,o,s,a,e={schema:a,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:function(e,t){t=Wb({format:"html"},t||{}),e=Ub.process(i,e,t),e=dy(s,e,t),e=fy(r,e,t);return"tree"===t.format?e:hy(i,n,a,e,t)},addRules:function(e){a.addValidElements(e)},setRules:function(e){a.setValidElements(e)},addTempAttr:h(cy,r,o),getTempAttrs:function(){return o}};return{schema:e.schema,addNodeFilter:e.addNodeFilter,addAttributeFilter:e.addAttributeFilter,serialize:e.serialize,addRules:e.addRules,setRules:e.setRules,addTempAttr:e.addTempAttr,getTempAttrs:e.getTempAttrs}}function vy(e){return{getBookmark:h(Ru.getBookmark,e),moveToBookmark:h(Ru.moveToBookmark,e)}}(vy=vy||{}).isBookmarkNode=Ru.isBookmarkNode;function by(e,t){for(var n=e.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(f(r[o],t))return A.some(z0(o,i));return A.none()}function yy(t,n){return ge(t,function(e){return"li"===Zi(e)&&jg(e,n)}).fold(b([]),function(e){return ge(t,function(e){return"ul"===Zi(e)||"ol"===Zi(e)}).map(function(e){return[j.fromTag("li"),j.fromTag(Zi(e))]}).getOr([])})}function xy(e,t){var n,i=j.fromDom(t.commonAncestorContainer),e=Nf.parentsAndSelf(i,e),r=v(e,function(e){return Hr(e)||Qr(e)}),e=yy(e,t),t=r.concat(e.length?e:eo(n=i)?xr(n).filter(Zr).fold(b([]),function(e){return[n,e]}):Zr(n)?[n]:[]);return y(t,Ws)}function _y(e,t,n,i,r){var o=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return A.from(o).map(j.fromDom).map(function(e){return i&&t.collapsed?e:Er(e,r(e,s)).getOr(e)}).bind(function(e){return er(e)?A.some(e):xr(e)}).map(function(e){return e.dom()}).getOr(e)}function wy(e,t){for(var n=e;e&&J.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}function Cy(e){return!(!e||!e.ownerDocument)&&br(j.fromDom(e.ownerDocument),j.fromDom(e))}function ky(s,o,e,a){function t(e,t){return J0.setContent(a,e,t)}function i(e){var t=n();t.collapse(!!e),r(t)}function n(){function e(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var t,n,i;if(!o)return null;if(null==(i=o.document))return null;if(void 0!==a.bookmark&&!1===tg.hasFocus(a)){var r=am.getRng(a);if(r.isSome())return r.map(function(e){return F0.processRanges(a,[e])[0]}).getOr(i.createRange())}try{(t=f())&&!J.isRestrictedNode(t.anchorNode)&&(n=0<t.rangeCount?t.getRangeAt(0):(t.createRange?t:i).createRange())}catch(e){}return(n=(n=F0.processRanges(a,[n])[0])||(i.createRange?i.createRange():i.body.createTextRange())).setStart&&9===n.startContainer.nodeType&&n.collapsed&&(r=s.getRoot(),n.setStart(r,0),n.setEnd(r,0)),u&&c&&(0===e(n.START_TO_START,n,u)&&0===e(n.END_TO_END,n,u)?n=c:c=u=null),n}function r(e,t){var n;if(s1(e)){var i=o1(e)?e:null;if(i){c=null;try{i.select()}catch(e){}}else{if(i=f(),e=a.fire("SetSelectionRange",{range:e,forward:t}).range,i){c=e;try{i.removeAllRanges(),i.addRange(e)}catch(e){}!1===t&&i.extend&&(i.collapse(e.endContainer,e.endOffset),i.extend(e.startContainer,e.startOffset)),u=0<i.rangeCount?i.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!i.setBaseAndExtent||Y.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(i.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),i.anchorNode===e.startContainer&&i.focusNode===e.endContainer||i.setBaseAndExtent(n,0,n,1)),a.fire("AfterSetSelectionRange",{range:e,forward:t})}}}function l(){var e,t,n=f();return!(n&&n.anchorNode&&n.focusNode)||((e=s.createRng()).setStart(n.anchorNode,n.anchorOffset),e.collapse(!0),(t=s.createRng()).setStart(n.focusNode,n.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)}var u,c,d,f=function(){return o.getSelection?o.getSelection():o.document.selection},h={bookmarkManager:null,controlSelection:null,dom:s,win:o,serializer:e,editor:a,collapse:i,setCursorLocation:function(e,t){var n=s.createRng();e?(n.setStart(e,t),n.setEnd(e,t),r(n),i(!1)):(Vg(s,n,a.getBody(),!0),r(n))},getContent:function(e){return G0.getContent(a,e)},setContent:t,getBookmark:function(e,t){return p.getBookmark(e,t)},moveToBookmark:function(e){return p.moveToBookmark(e)},select:function(e,t){return i1(s,e,t).each(r),e},isCollapsed:function(){var e=n(),t=f();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:l,setNode:function(e){return t(s.getOuterHTML(e)),e},getNode:function(){return t1(a.getBody(),n())},getSel:f,setRng:r,getRng:n,getStart:function(e){return Z0(a.getBody(),n(),e)},getEnd:function(e){return e1(a.getBody(),n(),e)},getSelectedBlocks:function(e,t){return n1(s,n(),e,t)},normalize:function(){var e=n(),t=f();return!Yh.hasMultipleRanges(t)&&$g(a)?((t=Wp.normalize(s,e)).each(function(e){r(e,l())}),t.getOr(e)):e},selectorChanged:function(e,t){var o;return d||(d={},o={},a.on("NodeChange",function(e){var n=e.element,i=s.getParents(n,null,s.getRoot()),r={};r1(d,function(e,n){r1(i,function(t){if(s.is(t,n))return o[n]||(r1(e,function(e){e(!0,{node:t,selector:n,parents:i})}),o[n]=e),r[n]=e,!1})}),r1(o,function(e,t){r[t]||(delete o[t],r1(e,function(e){e(!1,{node:n,selector:t,parents:i})}))})})),d[e]||(d[e]=[]),d[e].push(t),h},getScrollContainer:function(){for(var e,t=s.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){return wp.scrollElementIntoView(a,e,t)},placeCaretAt:function(e,t){return r(M0.fromPoint(e,t,a.getDoc()))},getBoundingClientRect:function(){var e=n();return e.collapsed?k.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){o=u=c=null,m.destroy()}},p=A0(h),m=O0(h,a);return h.bookmarkManager=p,h.controlSelection=m,h}function Ty(e,t){return e===vl.Backwards?t.reverse():t}function Ey(e,t,n,i){for(var r,o,s,a=_u(n),l=i,u=[];l&&(o=a,s=l,o=t===vl.Forwards?o.next(s):o.prev(s));){if(J.isBr(o.getNode(!1)))return t===vl.Forwards?{positions:Ty(t,u).concat([o]),breakType:N0.Br,breakAt:A.some(o)}:{positions:Ty(t,u),breakType:N0.Br,breakAt:A.some(o)};if(o.isVisible()){if(e(l,o))return s=l,r=o,r=J.isBr(r.getNode(t===vl.Forwards))?N0.Br:!1===tu(s,r)?N0.Block:N0.Wrap,{positions:Ty(t,u),breakType:r,breakAt:A.some(o)};u.push(o)}l=o}return{positions:Ty(t,u),breakType:N0.Eol,breakAt:A.none()}}function Sy(n,i,r,e){return i(r,e).breakAt.map(function(e){var t=i(r,e).positions;return n===vl.Backwards?t.concat(e):[e].concat(t)}).getOr([])}function Dy(e,r){return me(e,function(e,i){return e.fold(function(){return A.some(i)},function(n){return ba(U(n.getClientRects()),U(i.getClientRects()),function(e,t){e=Math.abs(r-e.left);return Math.abs(r-t.left)<=e?i:n}).or(e)})},A.none())}function Ny(t,e){return U(e.getClientRects()).bind(function(e){return Dy(t,e.left)})}function Ay(e,t,n,i){var r=e===vl.Forwards,o=r?$f:Yf;if(!i.collapsed){var s=f1(i);if(d1(s))return Rd(e,t,s,e===vl.Backwards,!0)}var s=Ts(i.startContainer),a=ou(e,t.getBody(),i);return o(a)?Tp(t,a.getNode(!r)):(a=D.normalizePosition(r,n(a)))?o(a)?Rd(e,t,a.getNode(!r),r,!0):(n=n(a))&&o(n)&&lu(a,n)?Rd(e,t,n.getNode(!r),r,!0):s?Od(t,a.toRange(),!0):null:s?i:null}function Py(e,t,n){var i,r=_u(e.getBody()),o=h(au,r.next),r=h(au,r.prev);n.collapsed&&e.settings.forced_root_block&&(i=e.dom.getParent(n.startContainer,"PRE"))&&!(1===t?o:r)(k.fromRangeStart(n))&&(o=function(e){e=e.dom.create(T.getForcedRootBlock(e));return(!Y.ie||11<=Y.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(e),1===t?e.$(i).after(o):e.$(i).before(o),e.selection.select(o,!0),e.selection.collapse())}function Ry(e,t){var n,i,r,o,s,a,l=t?1:-1,t=t?dv:cv,u=e.selection.getRng();return n=l,i=e,t=t,s=f1(r=u),r=ou(n,i.getBody(),r),t=t(i.getBody(),Gg(1),r),t=v(t,Jg(1)),a=p.last(r.getClientRects()),($f(r)||Xf(r))&&(s=r.getNode()),(Yf(r)||Qf(r))&&(s=r.getNode(!0)),(o=a?(r=a.left,(a=nv(t,r))&&d1(a.node)?(t=Math.abs(r-a.left),o=Math.abs(r-a.right),Rd(n,i,a.node,t<o,!0)):s&&(t=Kg(n,i.getBody(),Gg(1),s),a=(a=nv(v(t,Jg(1)),r))||p.last(v(t,Jg(0))))?Od(i,a.position.toRange(),!0):void 0):null)||(o=Py(e,l,u),null)}function Oy(e,t,n,i,r){var o,s,a,n=ls(j.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),e=v((o=e,ye(n,function(e){var t=g1(fa(e.getBoundingClientRect()),-1);return[{x:t.left,y:o(t),cell:e},{x:t.right,y:o(t),cell:e}]})),function(e){return t(e,r)});return s=i,a=r,me(e,function(e,i){return e.fold(function(){return A.some(i)},function(e){var t=Math.sqrt(Math.abs(e.x-s)+Math.abs(e.y-a)),n=Math.sqrt(Math.abs(i.x-s)+Math.abs(i.y-a));return A.some(n<t?i:e)})},A.none()).map(function(e){return e.cell})}function Iy(t,n){return U(n.getClientRects()).bind(function(e){return v1(t,e.left,e.top)}).bind(function(e){return Ny((t=e,g.lastPositionIn(t).map(function(e){return a1(t,e).positions.concat(e)}).getOr([])),n);var t})}function By(t,n){return we(n.getClientRects()).bind(function(e){return b1(t,e.left,e.top)}).bind(function(e){return Ny((t=e,g.firstPositionIn(t).map(function(e){return[e].concat(l1(t,e).positions)}).getOr([])),n);var t})}function My(e,t,n){var i,r,o,s=e(t,n);return(o=s).breakType===N0.Wrap&&0===o.positions.length||!J.isBr(n.getNode())&&((o=s).breakType===N0.Br&&1===o.positions.length)?(i=e,r=t,!s.breakAt.map(function(e){return i(r,e).breakAt.isSome()}).getOr(!1)):s.breakAt.isNone()}function Fy(e,t,n,i){var r,o,s,a=e.selection.getRng(),l=t?1:-1;return!(!Ja()||(r=t,o=n,s=k.fromRangeStart(a),!g.positionIn(!r,o).map(function(e){return e.isEqual(s)}).getOr(!1)))&&(a=Rd(l,e,n,!t,!0),Id(e,a),!0)}function Ly(e,t){return t=t.getNode(e),J.isElement(t)&&"TABLE"===t.nodeName?A.some(t):A.none()}function Hy(a,l,u){var e=Ly(!!l,u),t=!1===l;e.fold(function(){return Id(a,u.toRange())},function(s){return g.positionIn(t,a.getBody()).filter(function(e){return e.isEqual(u)}).fold(function(){return Id(a,u.toRange())},function(e){var n,i,r,t,o;n=l,i=a,r=s,t=u,(o=T.getForcedRootBlock(i))?i.undoManager.transact(function(){var e=j.fromTag(o),t=(Ai(e,T.getForcedRootBlockAttrs(i)),ts(e,j.fromTag("br")),(n?Zo:Jo)(j.fromDom(r),e),i.dom.createRng());t.setStart(e.dom(),0),t.setEnd(e.dom(),0),Id(i,t)}):Id(i,t.toRange())})})}function jy(e,t,n,i){var r,o,s,a,l,u,c,d=e.selection.getRng(),d=k.fromRangeStart(d),f=e.getBody();return!t&&y1(i,d)?(l=f,r=Iy(u=n,c=d).orThunk(function(){return U(c.getClientRects()).bind(function(e){return Dy(u1(l,k.before(u)),e.left)})}).getOr(k.before(u)),Hy(e,t,r),!0):!(!t||!x1(i,d))&&(o=f,r=By(s=n,a=d).orThunk(function(){return U(a.getClientRects()).bind(function(e){return Dy(c1(o,k.after(s)),e.left)})}).getOr(k.after(s)),Hy(e,t,r),!0)}function zy(e){return W(["figcaption"],Zi(e))}function Wy(e){var t=$.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t}function qy(e,t,n){(n?ts:es)(e,t)}function Uy(e,t,n,i){return""===t?(r=e,o=i,s=j.fromTag("br"),qy(r,s,o),Wy(s)):(r=e,o=i,s=t,e=n,s=j.fromTag(s),i=j.fromTag("br"),Ai(s,e),ts(s,i),qy(r,s,o),Wy(i));var r,o,s}function Vy(e,t,n){return(t?(t=e.dom(),l1(t,n)):(t=e.dom(),a1(t,n))).breakAt.isNone()}function $y(t,n){var i=j.fromDom(t.getBody()),r=k.fromRangeStart(t.selection.getRng()),o=T.getForcedRootBlock(t),s=T.getForcedRootBlockAttrs(t);return function(e,t){t=h(f,t);return hs(j.fromDom(e.container()),Kr,t).filter(zy)}(r,i).exists(function(){var e;return!!Vy(i,n,r)&&(e=Uy(i,o,s,n),t.selection.setRng(e),!0)})}function Yy(e,i){return ye(y(e,function(e){return Wb({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:o},e)}),function(e){return t=e,(n=i).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n})}function Xy(e){return A.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))}function Qy(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}function Ky(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e}function Gy(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&!J.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===t}function Jy(e){e.innerHTML='<br data-mce-bogus="1">'}function Zy(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}function e0(e,t){return E1.getParentBlock(e).filter(function(e){return 0<t.length&&gr(j.fromDom(e),t)}).isSome()}function t0(e,t){return F1.shouldBlockNewLine(e)}function n0(n){return function(e,t){return""===T.getForcedRootBlock(e)===n}}function i0(n){return function(e,t){return E1.isListItemParentBlock(e)===n}}function r0(e){return H1("pre",e)}function o0(n){return function(e,t){return T.shouldPutBrInPre(e)===n}}function s0(e,t){return F1.shouldInsertBr(e)}function a0(e,t){return t}function l0(e){var t=T.getForcedRootBlock(e),n=E1.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")}function u0(e,t){return function(n,i){return me(e,function(e,t){return e&&t(n,i)},!0)?A.some(t):A.none()}}function c0(n,i){var e=i.container(),t=i.offset();return J.isText(e)?(e.insertData(t,n),A.some(m(e,t+n.length))):su(i).map(function(e){var t=j.fromText(n);return(i.isAtEnd()?Zo:Jo)(e,t),m(t.dom(),n.length)})}function d0(e,t,n){return g.navigateIgnore(e,t,n,Vf)}function f0(e,t){return ge(Nf.parentsAndSelf(j.fromDom(t.container()),e),Kr)}function h0(e,n,i){return d0(e,n.dom(),i).forall(function(t){return f0(n,i).fold(function(){return!1===tu(t,i,n.dom())},function(e){return!1===tu(t,i,n.dom())&&br(e,j.fromDom(t.container()))})})}function p0(t,n,i){return f0(n,i).fold(function(){return d0(t,n.dom(),i).forall(function(e){return!1===tu(e,i,n.dom())})},function(e){return d0(t,e.dom(),i).isNone()})}function m0(e){return m.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}function g0(e,t){return t=v(Nf.parentsAndSelf(j.fromDom(t.container()),e),Kr),U(t).getOr(e)}function v0(e,t){return m0(t)?Uf(t):Uf(t)||g.prevPosition(g0(e,t).dom(),t).exists(Uf)}function b0(e,t){return m0(t)?qf(t):qf(t)||g.nextPosition(g0(e,t).dom(),t).exists(qf)}function y0(e){return su(e).bind(function(e){return hs(e,er)}).exists(function(e){return e=Oi(e,"white-space"),W(["pre","pre-wrap"],e)})}function x0(e,t){return n=t,g.prevPosition(e.dom(),n).isNone()||(n=t,g.nextPosition(e.dom(),n).isNone()||$1(e,t)||Y1(e,t)||Nc(e,t)||Dc(e,t));var n}function _0(e,t){i=(t=t).container(),n=t.offset();var n,i=J.isText(i)&&n<i.data.length?m(i,n+1):t;return!y0(i)&&(Y1(e,i)||Q1(e,i)||Dc(e,i)||b0(e,i))}function w0(e,t){return n=e,!y0(i=t)&&($1(n,i)||X1(n,i)||Nc(n,i)||v0(n,i))||_0(e,t);var n,i}function C0(e,t){return Wf(e.charAt(t))}function k0(e){return e=e.container(),J.isText(e)&&Rn(e.data,"Â ")}function T0(e){var n,t=e.data,i=(n=t.split(""),y(n,function(e,t){return Wf(e)&&0<t&&t<n.length-1&&Pc(n[t-1])&&Pc(n[t+1])?" ":e}).join(""));return i!==t&&(e.data=i,!0)}function E0(s,e){return A.some(e).filter(k0).bind(function(e){var t,n,i,r,o=e.container();return t=s,i=(n=o).data,r=m(n,0),(!C0(i,0)||w0(t,r)?T0(o):(n.data=" "+i.slice(1),!0))||(t=s,n=(r=o).data,i=m(r,n.length-1),!(!C0(n,n.length-1)||w0(t,i))&&(r.data=n.slice(0,-1)+" ",!0))?A.some(e):A.none()})}function S0(n,i){return function(e){return t=n,(!y0(e=e)&&(x0(t,e)||v0(t,e)||b0(t,e))?U1:V1)(i);var t}}function D0(e,t){var n=Z1(e);n&&("compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),ex(e,n)):Qs(n)&&(ex(e,n),e.undoManager.add()))}var N0,A0=vy,P0=J.isContentEditableFalse,R0=J.isContentEditableTrue,O0=function(n,o){function F(e){var t,n,i=e.target;t=e,n=o.selection.getRng(),!P(t.target)||mv.isXYWithinRange(t.clientX,t.clientY,n)||e.isDefaultPrevented()||o.selection.select(i)}function i(e){var i,r,t;B(),M(),t=k.getPos(e,N),p=t.x,m=t.y,t=e.getBoundingClientRect(),i=t.width||t.right-t.left,r=t.height||t.bottom-t.top,l!==e&&(l=e,x=_=0),t=o.fire("ObjectSelected",{target:e}),H(e)&&!t.isDefaultPrevented()?T(A,function(t,e){var n=k.get("mceResizeHandle"+e);n&&k.remove(n),n=k.add(N,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===Y.ie&&(n.contentEditable=!1),k.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),f=e.screenX,h=e.screenY,g=R(l).clientWidth,v=R(l).clientHeight,b=v/g,(d=t).startPos={x:i*t[0]+p,y:r*t[1]+m},w=N.scrollWidth,C=N.scrollHeight,u=l.cloneNode(!0),k.addClass(u,"mce-clonedresizable"),k.setAttrib(u,"data-mce-bogus","all"),u.contentEditable=!1,u.unSelectabe=!0,k.setStyles(u,{left:p,top:m,margin:0}),u.removeAttribute("data-mce-selected"),N.appendChild(u),k.bind(E,"mousemove",O),k.bind(E,"mouseup",I),S!==E&&(k.bind(S,"mousemove",O),k.bind(S,"mouseup",I)),c=k.add(N,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},g+" &times; "+v)}),t.elm=n,k.setStyles(n,{left:i*t[0]+p-n.offsetWidth/2,top:r*t[1]+m-n.offsetHeight/2})}):B(),l.setAttribute("data-mce-selected","1")}function r(e){function t(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}y||o.removed||(T(k.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),e="mousedown"===e.type?e.target:n.getNode(),t(e=k.$(e).closest("table,img,figure.image,hr")[0],N)&&(a(),t(n.getStart(!0),e)&&t(n.getEnd(!0),e))?i(e):B())}function s(e){return P0(function(e,t){for(;t&&t!==e;){if(R0(t)||P0(t))return t;t=t.parentNode}return null}(o.getBody(),e))}function a(){try{o.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}var l,u,c,d,f,h,p,m,g,v,b,y,x,_,w,C,k=o.dom,T=K.each,E=o.getDoc(),S=$.document,L=Math.abs,D=Math.round,N=o.getBody(),A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},e=".mce-content-body",P=(o.contentStyles.push(e+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+e+" .mce-resizehandle:hover {background: #000}"+e+" img[data-mce-selected],"+e+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+e+" .mce-clonedresizable {position: absolute;"+(Y.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+e+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),function(e){return e&&("IMG"===e.nodeName||o.dom.is(e,"figure.image"))}),R=function(e){return o.dom.is(e,"figure.image")?e.querySelector("img"):e},H=function(e){var t=o.settings.object_resizing;return!1!==t&&!Y.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==o.getBody()&&gr(j.fromDom(e),t)))},O=function(e){var t,n=e.screenX-f,i=e.screenY-h;x=n*d[2]+g,_=i*d[3]+v,x=x<5?5:x,_=_<5?5:_,(P(l)&&!1!==o.settings.resize_img_proportional?!z.modifierPressed(e):z.modifierPressed(e)||P(l)&&d[2]*d[3]!=0)&&(L(n)>L(i)?(_=D(x*b),x=D(_/b)):(x=D(_/b),_=D(x*b))),k.setStyles(R(u),{width:x,height:_}),e=d.startPos.x+n,t=d.startPos.y+i,k.setStyles(c,{left:e=0<e?e:0,top:t=0<t?t:0,display:"block"}),c.innerHTML=x+" &times; "+_,d[2]<0&&u.clientWidth<=x&&k.setStyle(u,"left",p+(g-x)),d[3]<0&&u.clientHeight<=_&&k.setStyle(u,"top",m+(v-_)),(n=N.scrollWidth-w)+(i=N.scrollHeight-C)!=0&&k.setStyles(c,{left:e-n,top:t-i}),y||(Sm.fireObjectResizeStart(o,l,g,v),y=!0)},I=function(){y=!1;function e(e,t){t&&(l.style[e]||!o.schema.isValid(l.nodeName.toLowerCase(),e)?k.setStyle(R(l),e,t):k.setAttrib(R(l),e,t))}e("width",x),e("height",_),k.unbind(E,"mousemove",O),k.unbind(E,"mouseup",I),S!==E&&(k.unbind(S,"mousemove",O),k.unbind(S,"mouseup",I)),k.remove(u),k.remove(c),i(l),Sm.fireObjectResized(o,l,x,_),k.setAttrib(l,"style",k.getAttrib(l,"style")),o.nodeChanged()},B=function(){var e,t;for(e in M(),l&&l.removeAttribute("data-mce-selected"),A)(t=k.get("mceResizeHandle"+e))&&(k.unbind(t),k.remove(t))},M=function(){for(var e in A){e=A[e];e.elm&&(k.unbind(e.elm),delete e.elm)}};o.on("init",function(){a(),Y.ie&&11<=Y.ie&&(o.on("mousedown click",function(e){var t=e.target,n=t.nodeName;y||!/^(TABLE|IMG|HR)$/.test(n)||s(t)||(2!==e.button&&o.selection.select(t,"TABLE"===n),"mousedown"===e.type&&o.nodeChanged())}),o.dom.bind(N,"mscontrolselect",function(e){function t(e){Ke.setEditorTimeout(o,function(){o.selection.select(e)})}s(e.target)?(e.preventDefault(),t(e.target)):/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))}));var t=Ke.throttle(function(e){o.composing||r(e)});o.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),o.on("keyup compositionend",function(e){l&&"TABLE"===l.nodeName&&t(e)}),o.on("hide blur",B),o.on("contextmenu",F)}),o.on("remove",M);return{isResizable:H,showResizeRect:i,hideResizeRect:B,updateResizeRect:r,destroy:function(){l=u=null}}},I0=function(e){return J.isContentEditableTrue(e)||J.isContentEditableFalse(e)},B0=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},M0={fromPoint:function(t,n,i){var r,e,o=i;if(o.caretPositionFromPoint)(e=o.caretPositionFromPoint(t,n))&&((r=i.createRange()).setStart(e.offsetNode,e.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(t,n);else if(o.body.createTextRange){r=o.body.createTextRange();try{r.moveToPoint(t,n),r.collapse(!0)}catch(e){r=function(e,n,t){var i=t.elementFromPoint(e,n),r=t.body.createTextRange();if(i&&"HTML"!==i.tagName||(i=t.body),r.moveToElementText(i),0<(t=(t=K.toArray(r.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(t[0].bottom+t[0].top)/2;try{return r.moveToPoint(e,n),r.collapse(!0),r}catch(e){}}return null}(t,n,i)}return e=r,o=i.body,t=e&&e.parentElement?e.parentElement():null,J.isContentEditableFalse(B0(t,o,I0))?null:e}return r}},F0={processRanges:function(n,e){return y(e,function(e){var t=n.fire("GetSelectionRange",{range:e});return t.range!==e?t.range:e})}},L0=function(e,t){var n=(t||$.document).createDocumentFragment();return w(e,function(e){n.appendChild(e.dom())}),j.fromDom(n)},H0=Ii("element","width","rows"),j0=Ii("element","cells"),z0=Ii("x","y"),W0=function(e,t){e=parseInt(Pi(e,t),10);return isNaN(e)?1:e},q0=function(e,t,n){e=e.rows();return!!(e[n]?e[n].cells():[])[t]},U0=function(e){return me(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},V0=function(e,t,n,i,r){for(var o=[],s=e.rows(),a=n;a<=r;a++){var l=s[a].cells(),l=t<i?l.slice(t,i+1):l.slice(i,t+1);o.push(j0(s[a].element(),l))}return o},$0={fromDom:function(e){var p=H0(Ws(e),0,[]);return w(ls(e,"tr"),function(f,h){w(ls(f,"td,th"),function(e,t){for(var n=p,i=function(e,t,n){for(;q0(e,t,n);)t++;return t}(p,t,h),r=h,o=f,s=e,a=W0(s,"rowspan"),l=W0(s,"colspan"),u=n.rows(),c=r;c<r+a;c++){u[c]||(u[c]=j0(qs(o),[]));for(var d=i;d<i+l;d++)u[c].cells()[d]=c===r&&d===i?s:Ws(s)}})}),H0(p.element(),U0(p.rows()),p.rows())},toDom:function(e){return t=y((e=e).rows(),function(e){var t=y(e.cells(),function(e){e=qs(e);return ur(e,"colspan"),ur(e,"rowspan"),e}),e=Ws(e.element());return ns(e,t),e}),e=Ws(e.element()),n=j.fromTag("tbody"),ns(n,t),ts(e,n),e;var t,n},subsection:function(s,e,t){return by(s,e).bind(function(o){return by(s,t).map(function(e){return t=s,e=e,i=(n=o).x(),n=n.y(),r=e.x(),e=e.y(),i=n<e?V0(t,i,n,r,e):V0(t,i,e,r,n),H0(t.element(),U0(i),i);var t,n,i,r})})}},Y0=function(){return L0([])},X0=function(e,t){var n=j.fromDom(t.cloneContents()),e=xy(e,t);return n=me(e,function(e,t){return ts(t,e),t},n),0<e.length?L0([n]):n},Q0=function(e,t){return cs(t,"table",h(f,e))},K0={read:function(e,t){var i,n=Xh.getCellsFromElementOrRanges(t,e);return 0<n.length?Q0(e,(i=n)[0]).bind(function(e){var t=i[0],n=i[i.length-1],e=$0.fromDom(e);return $0.subsection(e,t,n).map(function(e){return L0([$0.toDom(e)])})}).getOrThunk(Y0):(n=e,0<(e=t).length&&e[0].collapsed?Y0():X0(n,e[0]))}},G0={getContent:function(e,t){var n,i,r,o,s,a;return(t=void 0===t?{}:t).get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented()?(e.fire("GetContent",t),t.content):"text"===t.format?(a=e,A.from(a.selection.getRng()).map(function(e){var e=a.dom.add(a.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),t=C.trim(e.innerText);return a.dom.remove(e),t}).getOr("")):(t.getInner=!0,i=t,r=(n=e).selection.getRng(),o=n.dom.create("body"),s=n.selection.getSel(),s=F0.processRanges(n,Yh.getRanges(s)),(s=i.contextual?K0.read(j.fromDom(n.getBody()),s).dom():r.cloneContents())&&o.appendChild(s),r=n.selection.serializer.serialize(o,i),"tree"===t.format?r:(t.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",t),t.content))}},J0={setContent:function(e,t,n){o=t;var i,r,n=Cs(Cs({format:"html"},n),{set:!0,selection:!0,content:o}),o=e.selection.getRng(),s=e.getDoc();if(!n.no_events&&(n=e.fire("BeforeSetContent",n)).isDefaultPrevented())e.fire("SetContent",n);else{if(a=e,t="raw"!==(i=n).format?(r=a.parser.parse(i.content,Cs({isRootContent:!0,forced_root_block:!1},i)),gc({validate:a.validate},a.schema).serialize(r)):i.content,o.insertNode){t+='<span id="__caret">_</span>',o.startContainer===s&&o.endContainer===s||(o.deleteContents(),0===s.body.childNodes.length)?s.body.innerHTML=t:o.createContextualFragment?o.insertNode(o.createContextualFragment(t)):(a=s.createDocumentFragment(),r=s.createElement("div"),a.appendChild(r),r.outerHTML=t,o.insertNode(a)),i=e.dom.get("__caret"),(o=s.createRange()).setStartBefore(i),o.setEndBefore(i),e.selection.setRng(o),e.dom.remove("__caret");try{e.selection.setRng(o)}catch(e){}}else{var a=o;a.item&&(s.execCommand("Delete",!1,null),a=e.selection.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t)}n.no_events||e.fire("SetContent",n)}}},Z0=function(e,t,n){return _y(e,t,!0,n,function(e,t){return Math.min(e.dom().childNodes.length,t)})},e1=function(e,t,n){return _y(e,t,!1,n,function(e,t){return 0<t?t-1:t})},t1=function(e,t){var n,i,r,o,s;return t?(i=t.startContainer,r=t.endContainer,o=t.startOffset,s=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(i===r&&s-o<2&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?wy(i.nextSibling,!0):i.parentNode,r=0===s?wy(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n):e},n1=function(e,t,n,i){var r=[],o=e.getRoot();if(n=e.getParent(n||Z0(o,t,t.collapsed),e.isBlock),i=e.getParent(i||e1(o,t,t.collapsed),e.isBlock),n&&n!==o&&r.push(n),n&&i&&n!==i)for(var s,a=new G(n,o);(s=a.next())&&s!==i;)e.isBlock(s)&&r.push(s);return i&&n!==i&&i!==o&&r.push(i),r},i1=function(i,e,r){return A.from(e).map(function(e){var t=i.nodeIndex(e),n=i.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),r&&(Vg(i,n,e,!0),Vg(i,n,e,!1)),n})},r1=K.each,o1=function(e){return!!e.select},s1=function(e){return!!e&&(!!o1(e)||Cy(e.startContainer)&&Cy(e.endContainer))},a1=((Ie=N0=N0||{})[Ie.Br=0]="Br",Ie[Ie.Block=1]="Block",Ie[Ie.Wrap=2]="Wrap",Ie[Ie.Eol=3]="Eol",h(Ey,m.isAbove,-1)),l1=h(Ey,m.isBelow,1),u1=h(Sy,-1,a1),c1=h(Sy,1,l1),d1=J.isContentEditableFalse,f1=Bs,h1=function(o,s){return function(){r=s,t=_u((e=o).getBody()),n=h(au,t.next),t=h(au,t.prev),i=r?vl.Forwards:vl.Backwards,r=r?n:t,n=e.selection.getRng();var e,t,n,i,r=(t=Ay(i,e,r,n))||(Py(e,i,n),null);return!!r&&(Id(o,r),!0)}},p1=function(t,n){return function(){var e=Ry(t,n);return!!e&&(Id(t,e),!0)}},m1=function(n,i){return function(){var t,e=i?k.fromRangeEnd(n.selection.getRng()):k.fromRangeStart(n.selection.getRng()),e=(i?l1:a1)(n.getBody(),e);return(i?we:U)(e.positions).filter((t=i,function(e){return(t?Yf:$f)(e)})).fold(b(!1),function(e){return n.selection.setRng(e.toRange()),!0})}},g1=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},v1=h(Oy,function(e){return e.bottom},function(e,t){return e.y<t}),b1=h(Oy,function(e){return e.top},function(e,t){return e.y>t}),y1=h(My,a1),x1=h(My,l1),_1=function(t,n){return function(){return A.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(e){return A.from(t.dom.getParent(e,"table")).map(function(e){return Fy(t,n,e)})}).getOr(!1)}},w1=function(n,i){return function(){return A.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(t){return A.from(n.dom.getParent(t,"table")).map(function(e){return jy(n,i,e,t)})}).getOr(!1)}},C1=function(e,t){return function(){return!!e.selection.isCollapsed()&&$y(e,t)}},s={match:Yy,action:function(e){for(var t=1;t<arguments.length;t++)t-1,0;var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n)}},execute:function(e,t){return ge(Yy(e,t),function(e){return e.action()})}},k1=function(r,o){r.on("keydown",function(e){var t,n,i;!1===e.isDefaultPrevented()&&(t=r,n=o,i=e,e=Ji.detect().os,s.execute([{keyCode:z.RIGHT,action:h1(t,!0)},{keyCode:z.LEFT,action:h1(t,!1)},{keyCode:z.UP,action:p1(t,!1)},{keyCode:z.DOWN,action:p1(t,!0)},{keyCode:z.RIGHT,action:_1(t,!0)},{keyCode:z.LEFT,action:_1(t,!1)},{keyCode:z.UP,action:w1(t,!1)},{keyCode:z.DOWN,action:w1(t,!0)},{keyCode:z.RIGHT,action:Rh.move(t,n,!0)},{keyCode:z.LEFT,action:Rh.move(t,n,!1)},{keyCode:z.RIGHT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:Rh.moveNextWord(t,n)},{keyCode:z.LEFT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:Rh.movePrevWord(t,n)},{keyCode:z.UP,action:C1(t,!1)},{keyCode:z.DOWN,action:C1(t,!0)}],i).each(function(e){i.preventDefault()}))})},T1=function(r,o){r.on("keydown",function(e){var t,n,i;!1===e.isDefaultPrevented()&&(t=r,n=o,i=e,s.execute([{keyCode:z.BACKSPACE,action:s.action(lh.backspaceDelete,t,!1)},{keyCode:z.DELETE,action:s.action(lh.backspaceDelete,t,!0)},{keyCode:z.BACKSPACE,action:s.action(Dp.backspaceDelete,t,!1)},{keyCode:z.DELETE,action:s.action(Dp.backspaceDelete,t,!0)},{keyCode:z.BACKSPACE,action:s.action(Fh.backspaceDelete,t,n,!1)},{keyCode:z.DELETE,action:s.action(Fh.backspaceDelete,t,n,!0)},{keyCode:z.BACKSPACE,action:s.action(np.backspaceDelete,t,!1)},{keyCode:z.DELETE,action:s.action(np.backspaceDelete,t,!0)},{keyCode:z.BACKSPACE,action:s.action(Hf.backspaceDelete,t,!1)},{keyCode:z.DELETE,action:s.action(Hf.backspaceDelete,t,!0)},{keyCode:z.BACKSPACE,action:s.action(Bf.backspaceDelete,t,!1)},{keyCode:z.DELETE,action:s.action(Bf.backspaceDelete,t,!0)},{keyCode:z.BACKSPACE,action:s.action(_p.backspaceDelete,t,!1)},{keyCode:z.DELETE,action:s.action(_p.backspaceDelete,t,!0)}],i).each(function(e){i.preventDefault()}))}),r.on("keyup",function(e){var t;!1===e.isDefaultPrevented()&&(t=r,e=e,s.execute([{keyCode:z.BACKSPACE,action:s.action(lh.paddEmptyElement,t)},{keyCode:z.DELETE,action:s.action(lh.paddEmptyElement,t)}],e))})},E1={moveToCaretPosition:function(e,t){var n,i,r,o,s=t,a=e.dom,l=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(!/^(LI|DT|DD)$/.test(t.nodeName)||(o=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(a.doc.createTextNode("Â "),t.firstChild),r=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new G(t,t);i=n.current();){if(J.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(l[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}s=i,i=n.next()}i||(r.setStart(s,0),r.setEnd(s,0))}else J.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),a.remove(void 0),e.selection.scrollIntoView(t)}},getEditableRoot:function(e,t){for(var n,i=e.getRoot(),r=t;r!==i&&"false"!==e.getContentEditable(r);)"true"===e.getContentEditable(r)&&(n=r),r=r.parentNode;return r!==i?n:i},getParentBlock:Xy,getParentBlockName:function(e){return Xy(e).fold(b(""),function(e){return e.nodeName.toUpperCase()})},isListItemParentBlock:function(e){return Xy(e).filter(function(e){return eo(j.fromDom(e))}).isSome()}},S1=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},D1=function(e,t,n,i,r){var o,s=e.dom,a=e.selection.getRng();n!==e.getBody()&&(o=(r=S1(o=n)&&S1(o.parentNode)?"LI":r)?t(r):s.create("BR"),Gy(n,i,!0)&&Gy(n,i,!1)?Qy(n,"LI")?s.insertAfter(o,Ky(n)):s.replace(o,n):Gy(n,i,!0)?Qy(n,"LI")?(s.insertAfter(o,Ky(n)),o.appendChild(s.doc.createTextNode(" ")),o.appendChild(n)):n.parentNode.insertBefore(o,n):Gy(n,i,!1)?s.insertAfter(o,Ky(n)):(n=Ky(n),(t=a.cloneRange()).setStartAfter(i),t.setEndAfter(n),a=t.extractContents(),"LI"===r&&(t="LI",(r=a).firstChild&&r.firstChild.nodeName===t)?(o=a.firstChild,s.insertAfter(a,n)):(s.insertAfter(a,n),s.insertAfter(o,n))),s.remove(i),E1.moveToCaretPosition(e,o))},N1=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},A1=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},P1=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},R1=function(e,t,n){return!1===J.isText(t)?n:e?1===n&&t.data.charAt(n-1)===C.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===C.ZWSP?t.data.length:n},O1=function(e,t){for(var n,i=e.getRoot(),r=t;r!==i&&"false"!==e.getContentEditable(r);)"true"===e.getContentEditable(r)&&(n=r),r=r.parentNode;return r!==i?n:i},I1=function(n,i,e){A.from(e.style).map(n.dom.parseStyle).each(function(e){var t=function(e){var t={},n=e.dom();if(Di(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);t[r]=n.style[r]}return t}(j.fromDom(i)),t=Cs(Cs({},t),e);n.dom.setStyles(i,t)});var t=A.from(e.class).map(function(e){return e.split(/\s+/)}),r=A.from(i.className).map(function(e){return v(e.split(/\s+/),function(e){return""!==e})}),o=(ba(t,r,function(t,e){e=v(e,function(e){return!W(t,e)}),e=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}(t,e);n.dom.setAttrib(i,"class",e.join(" "))}),["style","class"]),t=Si(e,function(e,t){return!W(o,t)}).t;n.dom.setAttribs(i,t)},B1=function(e,t){var n=T.getForcedRootBlock(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&(n=T.getForcedRootBlockAttrs(e),I1(e,t,n))},M1=function(s,e){function t(e){var t,n=l,i=b.getTextInlineElements(),r=e||"TABLE"===d||"HR"===d?v.create(e||h):u.cloneNode(!1),o=r;if(!1===T.shouldKeepStyles(s))v.setAttrib(r,"style",null),v.setAttrib(r,"class",null);else for(;!i[n.nodeName]||Rl(n)||Ru.isBookmarkNode(n)||(t=n.cloneNode(!1),v.setAttrib(t,"id",""),r.hasChildNodes()?t.appendChild(r.firstChild):o=t,r.appendChild(t)),(n=n.parentNode)&&n!==a;);return B1(s,r),Jy(o),r}function n(e){var t,n,i,r=R1(e,l,o);if(!J.isText(l)||!(e?0<r:r<l.nodeValue.length)){if((l.parentNode!==u||!p||e)&&(!e||!J.isElement(l)||l!==u.firstChild)){if(Zy(l,"TABLE")||Zy(l,"HR"))return p&&!e||!p&&e;for(t=new G(l,u),J.isText(l)&&(e&&0===r?t.prev():e||r!==l.nodeValue.length||t.next());n=t.current();){if(J.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),y[i]&&"br"!==i))return}else if(J.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return;e?t.prev():t.next()}}return 1}}function i(){r=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?t(h):t(),T.shouldEndContainerOnEmptyBlock(s)&&P1(v,c)&&v.isEmpty(u)?r=v.split(c,u):v.insertAfter(r,u),E1.moveToCaretPosition(s,r)}var a,l,o,u,r,c,d,f,h,p,m,g,v=s.dom,b=s.schema,y=b.getNonEmptyElements(),x=s.selection.getRng();if(Wp.normalize(v,x).each(function(e){x.setStart(e.startContainer,e.startOffset),x.setEnd(e.endContainer,e.endOffset)}),l=x.startContainer,o=x.startOffset,h=T.getForcedRootBlock(s),g=e.shiftKey,J.isElement(l)&&l.hasChildNodes()&&(p=o>l.childNodes.length-1,l=l.childNodes[Math.min(o,l.childNodes.length-1)]||l,o=p&&J.isText(l)?l.nodeValue.length:0),a=O1(v,l))if((h&&!g||!h&&g)&&(l=function(e,t,n,i,r){var o,s,a,l,t=t||"P",u=e.dom,c=O1(u,i),d=u.getParent(i,u.isBlock);if(!d||!P1(u,d)){if(c=((d=d||c)===e.getBody()||A1(d)?d:d.parentNode).nodeName.toLowerCase(),!d.hasChildNodes())return o=u.create(t),B1(e,o),d.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(a=i;a.parentNode!==d;)a=a.parentNode;for(;a&&!u.isBlock(a);)a=(s=a).previousSibling;if(s&&e.schema.isValidChild(c,t.toLowerCase())){for(o=u.create(t),B1(e,o),s.parentNode.insertBefore(o,s),a=s;a&&!u.isBlock(a);)l=a.nextSibling,o.appendChild(a),a=l;n.setStart(i,r),n.setEnd(i,r)}}return i}(s,h,x,l,o)),u=v.getParent(l,v.isBlock),c=u?v.getParent(u.parentNode,v.isBlock):null,d=u?u.nodeName.toUpperCase():"","LI"!==(f=c?c.nodeName.toUpperCase():"")||e.ctrlKey||(c=(u=c).parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&v.isEmpty(u))D1(s,t,c,u,h);else if(!h||u!==s.getBody()){if(h=h||"P",Ts(u))r=Zs(u),v.isEmpty(u)&&Jy(u),B1(s,r),E1.moveToCaretPosition(s,r);else if(n())i();else if(n(!0))r=u.parentNode.insertBefore(t(),u),E1.moveToCaretPosition(s,Zy(u,"HR")?r:u);else{(e=(g=x).cloneRange()).setStart(g.startContainer,R1(!0,g.startContainer,g.startOffset)),e.setEnd(g.endContainer,R1(!1,g.endContainer,g.endOffset)),(g=e.cloneRange()).setEndAfter(u),e=g.extractContents(),w(as(j.fromDom(e),tr),function(e){e=e.dom();e.nodeValue=C.trim(e.nodeValue)});for(var _=e;J.isText(_)&&(_.nodeValue=_.nodeValue.replace(/^[\r\n]+/,"")),_=_.firstChild;);r=e.firstChild,v.insertAfter(e,u),!function(e,t,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;J.isElement(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)(!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue||N1(e,r))&&e.remove(r)}}(v,y,r),g=v,(e=u).normalize(),(m=e.lastChild)&&!/^(left|right)$/gi.test(g.getStyle(m,"float",!0))||g.add(e,"br"),v.isEmpty(u)&&Jy(u),r.normalize(),v.isEmpty(r)?(v.remove(r),i()):(B1(s,r),E1.moveToCaretPosition(s,r))}v.setAttrib(r,"id",""),s.fire("NewBlock",{newBlock:r})}},F1={shouldInsertBr:function(e){return e0(e,T.getBrNewLineSelector(e))},shouldBlockNewLine:function(e){return e0(e,T.getNoNewLineSelector(e))}},L1=n([{br:[]},{block:[]},{none:[]}]),H1=function(n,i){return function(e,t){return E1.getParentBlockName(e)===n.toUpperCase()===i}},j1=function(e,t){return vh([u0([t0],L1.none()),u0([H1("summary",!0)],L1.br()),u0([r0(!0),o0(!1),a0],L1.br()),u0([r0(!0),o0(!1)],L1.block()),u0([r0(!0),o0(!0),a0],L1.block()),u0([r0(!0),o0(!0)],L1.br()),u0([i0(!0),a0],L1.br()),u0([i0(!0)],L1.block()),u0([n0(!0),a0,l0],L1.block()),u0([n0(!0)],L1.br()),u0([s0],L1.br()),u0([n0(!1),a0],L1.br()),u0([l0],L1.block())],[e,t.shiftKey]).getOr(L1.none())},z1={insert:function(e,t){j1(e,t).fold(function(){Kp.insert(e,t)},function(){M1(e,t)},o)}},W1=function(e){e.typing&&(e.typing=!1,e.add())},q1=function(i){i.on("keydown",function(e){var t,n;e.keyCode===z.ENTER&&(t=i,(n=e).isDefaultPrevented()||(n.preventDefault(),W1(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),z1.insert(t,n)})))})},U1=h(c0,"Â "),V1=h(c0," "),$1=h(p0,!1),Y1=h(p0,!0),X1=h(h0,!1),Q1=h(h0,!0),K1=function(t){var e=j.fromDom(t.getBody());t.selection.isCollapsed()&&E0(e,m.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})},G1=function(e){var t,n,i,r,o=k.fromRangeStart(e.selection.getRng()),s=j.fromDom(e.getBody());return!!e.selection.isCollapsed()&&(t=h(D.isInlineTarget,e),n=k.fromRangeStart(e.selection.getRng()),Sh.readLocation(t,e.getBody(),n).bind((r=s,function(e){return e.fold(function(e){return g.prevPosition(r.dom(),k.before(e))},function(e){return g.firstPositionIn(e)},function(e){return g.lastPositionIn(e)},function(e){return g.nextPosition(r.dom(),k.after(e))})})).bind(S0(s,o)).exists((i=e,function(e){return i.selection.setRng(e.toRange()),i.nodeChanged(),!0})))},J1=function(n){n.on("keydown",function(e){var t;!1===e.isDefaultPrevented()&&(t=e,s.execute([{keyCode:z.SPACEBAR,action:s.action(G1,n)}],t).each(function(e){t.preventDefault()}))})},Z1=function(e){return ps(j.fromDom(e.getBody()),"*[data-mce-caret]").fold(b(null),function(e){return e.dom()})},ex=function(e,t){t.hasAttribute("data-mce-caret")&&(Zs(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},tx=function(e){e.on("keyup compositionstart",h(D0,e))},nx=Ji.detect().browser,ix=function(e){var t=Uo(function(){e.composing||K1(e)},0);nx.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},rx=function(i){i.on("keydown",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=i,n=e,s.execute([{keyCode:z.END,action:m1(t,!0)},{keyCode:z.HOME,action:m1(t,!1)}],n).each(function(e){n.preventDefault()}))})},ox=function(e){var t,n=Rh.setupSelectedState(e);tx(e),k1(e,n),T1(e,n),q1(e),J1(e),ix(t=e),t.on("input",function(e){!1===e.isComposing&&K1(t)}),rx(e)};function sx(o){function e(e,t){try{o.getDoc().execCommand(e,!1,t)}catch(e){}}function s(e){return e.isDefaultPrevented()}function t(){o.shortcuts.add("meta+a",null,"SelectAll")}function n(){function n(){var e=h.getAttribs(p.getStart().cloneNode(!1));return function(){var t=p.getStart();t!==o.getBody()&&(h.setAttrib(t,"style",null),c(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function i(){return!p.isCollapsed()&&h.getParent(p.getStart(),h.isBlock)!==h.getParent(p.getEnd(),h.isBlock)}o.on("keypress",function(e){var t;if(!s(e)&&(8===e.keyCode||46===e.keyCode)&&i())return t=n(),o.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),h.bind(o.getDoc(),"cut",function(e){var t;!s(e)&&i()&&(t=n(),Ke.setEditorTimeout(o,function(){t()}))})}function i(){o.on("keydown",function(e){if(!s(e)&&e.keyCode===d&&p.isCollapsed()&&0===p.getRng().startOffset){var t=p.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function r(){m.readonly||o.on("BeforeExecCommand MouseDown",function(){e("StyleWithCSS",!1),e("enableInlineTableEditing",!1),m.object_resizing||e("enableObjectResizing",!1)})}function a(){o.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||c(h.select("a"),function(e){var t=e.parentNode,n=h.getRoot();if(t.lastChild===e){for(;t&&!h.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}h.add(t,"br",{"data-mce-bogus":1})}})})}function l(){o.inline||(o.contentStyles.push("body {min-height: 150px}"),o.on("click",function(e){"HTML"===e.target.nodeName&&(11<Y.ie?o.getBody().focus():(e=o.selection.getRng(),o.getBody().focus(),o.selection.setRng(e),o.selection.normalize(),o.nodeChanged()))}))}function u(){o.on("dragstart",function(e){var t;(e=e).dataTransfer&&(o.selection.isCollapsed()&&"IMG"===e.target.tagName&&p.select(e.target),0<(t=o.selection.getContent()).length&&(t=x+escape(o.id)+","+escape(t),e.dataTransfer.setData(_,t)))}),o.on("drop",function(e){var t;s(e)||(t=(t=e).dataTransfer&&(t=t.dataTransfer.getData(_))&&0<=t.indexOf(x)?(t=t.substr(x.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null)&&t.id!==o.id&&(e.preventDefault(),e=M0.fromPoint(e.x,e.y,o.getDoc()),p.setRng(e),e=t.html,t=!0,o.queryCommandSupported("mceInsertClipboardContent")?o.execCommand("mceInsertClipboardContent",!1,{content:e,internal:t}):o.execCommand("mceInsertContent",!1,e))})}var c=K.each,d=z.BACKSPACE,f=z.DELETE,h=o.dom,p=o.selection,m=o.settings,g=o.parser,v=Y.gecko,b=Y.ie,y=Y.webkit,x="data:text/mce-internal,",_=b?"Text":"URL";function w(e){var t=h.create("body"),e=e.cloneContents();return t.appendChild(e),p.serializer.serialize(t,{format:"html"})}return o.on("keydown",function(e){var t,n,i,r;if(!s(e)&&e.keyCode===z.BACKSPACE&&(t=(e=p.getRng()).startContainer,n=e.startOffset,i=h.getRoot(),r=t,e.collapsed&&0===n)){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==i;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(o.formatter.toggle("blockquote",null,r),(e=h.createRng()).setStart(t,0),e.setEnd(t,0),p.setRng(e))}}),o.on("keydown",function(e){var t,n,i=e.keyCode;s(e)||i!==f&&i!==d||(i=o.selection.isCollapsed(),t=o.getBody(),i&&!h.isEmpty(t)||!i&&(i=o.selection.getRng(),i=w(i),(n=h.createRng()).selectNode(o.getBody()),i!==w(n))||(e.preventDefault(),o.setContent(""),t.firstChild&&h.isBlock(t.firstChild)?o.selection.setCursorLocation(t.firstChild,0):o.selection.setCursorLocation(t,0),o.nodeChanged()))}),Y.windowsPhone||o.on("keyup focusin mouseup",function(e){z.modifierPressed(e)||p.normalize()},!0),y&&(o.settings.content_editable||h.bind(o.getDoc(),"mousedown mouseup",function(e){var t;e.target===o.getDoc().documentElement&&(t=p.getRng(),o.getBody().focus(),"mousedown"===e.type?Xs(t.startContainer)||p.placeCaretAt(e.clientX,e.clientY):p.setRng(t))}),o.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==h.getContentEditableParent(t)&&(e.preventDefault(),o.selection.select(t),o.nodeChanged()),"A"===t.nodeName&&h.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),p.select(t))}),m.forced_root_block&&o.on("init",function(){e("DefaultParagraphSeparator",m.forced_root_block)}),o.on("init",function(){o.dom.bind(o.getBody(),"submit",function(e){e.preventDefault()})}),i(),g.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),Y.iOS?(o.inline||o.on("keydown",function(){$.document.activeElement===$.document.body&&o.getWin().focus()}),l(),o.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),o.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):t()),11<=Y.ie&&(l(),i()),Y.ie&&(t(),e("AutoUrlDetect",!1),u()),v&&(o.on("keydown",function(e){var t,n;s(e)||e.keyCode!==d||o.getBody().getElementsByTagName("hr").length&&p.isCollapsed()&&0===p.getRng().startOffset&&(n=(t=p.getNode()).previousSibling,"HR"===t.nodeName?(h.remove(t),e.preventDefault()):n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(h.remove(n),e.preventDefault()))}),$.Range.prototype.getClientRects||o.on("mousedown",function(e){var t;s(e)||"HTML"!==e.target.nodeName||((t=o.getBody()).blur(),Ke.setEditorTimeout(o,function(){t.focus()}))}),n(),r(),a(),o.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),Y.mac&&o.on("keydown",function(e){!z.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),o.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),i()),{refreshContentEditable:function(){},isHidden:function(){var e;return!v||o.removed?0:!(e=o.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}function ax(e){return J.isElement(e)&&Jr(j.fromDom(e))}function lx(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),Px(e)}function ux(e){return{editorContainer:e,iframeContainer:e}}function cx(e){return"-"===e.charAt(0)}function dx(n,e){var t,i,r,o=this;n=Jx(n),t=(e=o.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)?o.source=n:(r=0===n.indexOf("//"),0!==n.indexOf("/")||r||(n=(t&&t.protocol||"http")+"://mce_host"+n),/^[\w\-]*:?\/\//.test(n)||(i=e.base_uri?e.base_uri.path:new dx($.document.location.href).directory,n=""==e.base_uri.protocol?"//mce_host"+o.toAbsPath(i,n):(n=/([^#?]*)([#?]?.*)/.exec(n),(t&&t.protocol||"http")+"://mce_host"+o.toAbsPath(i,n[1])+n[2])),n=n.replace(/@@/g,"(mce_at)"),n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n),Gx(Zx,function(e,t){t=(t=n[t])&&t.replace(/\(mce_at\)/g,"@@");o[e]=t}),t&&(o.protocol||(o.protocol=t.protocol),o.userInfo||(o.userInfo=t.userInfo),o.port||"mce_host"!==o.host||(o.port=t.port),o.host&&"mce_host"!==o.host||(o.host=t.host),o.source=""),r&&(o.protocol=""))}function fx(r,o){return void 0===o&&(o={}),A.from(r.getBody()).fold(b("tree"===o.format?new Kb("body",11):""),function(e){var t,n=r,i=o;if(i.format=i.format||t_,i.get=!0,i.getInner=!0,i.no_events||n.fire("BeforeGetContent",i),"raw"===i.format)t=K.trim(Fv.trimExternal(n.serializer,e.innerHTML));else if("text"===i.format)t=C.trim(e.innerText||e.textContent);else{if("tree"===i.format)return n.serializer.serialize(e,i);t=n_(n,n.serializer.serialize(e,i))}return"text"===i.format||ro(j.fromDom(e))?i.content=t:i.content=K.trim(t),i.no_events||n.fire("GetContent",i),i.content})}function hx(e,t){t(e),e.firstChild&&hx(e.firstChild,t),e.next&&hx(e.next,t)}function px(e){return e instanceof Kb}function mx(s,a,l){return(l=void 0===l?{}:l).format=l.format||"html",l.set=!0,l.content=px(a)?"":a,px(a)||l.no_events||(s.fire("BeforeSetContent",l),a=l.content),A.from(s.getBody()).fold(b(a),function(e){return px(a)?(n=e,i=a,r=l,i_((t=s).parser.getNodeFilters(),t.parser.getAttributeFilters(),i),o=gc({validate:t.validate},t.schema).serialize(i),r.content=ro(j.fromDom(n))?o:K.trim(o),r_(t,r.content),r.no_events||t.fire("SetContent",r),i):(n=s,o=e,t=l,0===(r=a).length||/^\s+$/.test(r)?(i='<br data-mce-bogus="1">',"TABLE"===o.nodeName?r="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(r="<li>"+i+"</li>"),r=(e=T.getForcedRootBlock(n))&&n.schema.isValidChild(o.nodeName.toLowerCase(),e.toLowerCase())?n.dom.createHTML(e,n.settings.forced_root_block_attrs,r=i):r||'<br data-mce-bogus="1">',r_(n,r),n.fire("SetContent",t)):("raw"!==t.format&&(r=gc({validate:n.validate},n.schema).serialize(n.parser.parse(r,{isRootContent:!0,insert:!0}))),t.content=ro(j.fromDom(o))?r:K.trim(r),r_(n,t.content),t.no_events||n.fire("SetContent",t)),t.content);var t,n,i,r,o})}function gx(e){A.from(e).each(function(e){return e.destroy()})}function vx(e){var t,n,i,r;e.removed||(t=e._selectionOverrides,n=e.editorUpload,i=e.getBody(),r=e.getElement(),i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&o_.remove(r.nextSibling),Sm.fireRemove(e),e.editorManager.remove(e),!e.inline&&i&&o_.setStyle(e.id,"display",e.orgDisplay),Sm.fireDetach(e),o_.remove(e.getContainer()),gx(t),gx(n),e.destroy())}function bx(e,t){var n=e.selection,i=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),gx(n),gx(i)),(n=(t=e).formElement)&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),o_.unbind(n,"submit reset",t.formEventDelegate)),(i=e).contentAreaContainer=i.formElement=i.container=i.editorContainer=null,i.bodyElement=i.contentDocument=i.contentWindow=null,i.iframeElement=i.targetElm=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),e.destroyed=!0):e.remove())}function yx(e,t,n){var i=this,r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI;t=function(e,t,n,i,r){t=Fm(t,n,e);return Lm(Im,t,i,r)}(i,e,r,n.defaultSettings,t),i.settings=t,qo.language=t.language||"en",qo.languageLoad=t.language_load,qo.baseURL=n.baseURL,i.id=e,i.setDirty(!1),i.plugins={},i.documentBaseURI=new dx(t.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new qm(i),i.loadedCSS={},i.editorCommands=new hm(i),i.suffix=n.suffix,i.editorManager=n,i.inline=t.inline,i.buttons={},i.menuItems={},t.cache_suffix&&(Y.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(Y.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=Q.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})}function xx(e){return d_.isEditorUIElement(e)}function _x(n,e){e=e.editor,m_.register(e),e.on("focusin",function(){var e=n.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),n.setActive(this),(n.focusedEditor=this).fire("focus",{blurredEditor:e}),this.focus(!0))}),e.on("focusout",function(){var t=this;Ke.setEditorTimeout(t,function(){var e=n.focusedEditor;v_(t,b_())||e!==t||(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null)})}),Tx||(Tx=function(e){var t=n.activeEditor,e=e.target;t&&e.ownerDocument===$.document&&e!==$.document.body&&!v_(t,e)&&n.focusedEditor===t&&(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null)},g_.bind($.document,"focusin",Tx))}function wx(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(g_.unbind($.document,"focusin",Tx),Tx=null)}function Cx(t){var n=t.type;w_(N_.get(),function(e){switch(n){case"scroll":e.fire("ScrollWindow",t);break;case"resize":e.fire("ResizeWindow",t)}})}function kx(e){e!==T_&&(e?Q(window).on("resize scroll",Cx):Q(window).off("resize scroll",Cx),T_=e)}var Tx,Ex,Sx=function(e){var t,n=e.selection.getRng(),i=m.fromRangeStart(n),r=m.fromRangeEnd(n);m.isElementPosition(i)&&(t=i.container(),ax(t)&&g.firstPositionIn(t).each(function(e){return n.setStart(e.container(),e.offset())})),m.isElementPosition(r)&&(t=i.container(),ax(t)&&g.lastPositionIn(t).each(function(e){return n.setEnd(e.container(),e.offset())})),e.selection.setRng(ef.normalize(n))},Dx=function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})},Nx=function(e){e.parser.addNodeFilter("details",function(e){w(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){w(e,function(e){var t=e.attr("data-mce-open");e.attr("open",ie(t)?t:null),e.attr("data-mce-open",null)})})},Ax=c.DOM,Px=function(t){t.settings.auto_focus&&Ke.setEditorTimeout(t,function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()},100)},Rx=function(t,e){var n,a,i,r=t.settings,o=t.getElement(),s=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),e||r.content_editable||(s.open(),s.write(t.iframeHTML),s.close()),r.content_editable&&(t.on("remove",function(){var e=this.getBody();Ax.removeClass(e,"mce-content-body"),Ax.removeClass(e,"mce-edit-focus"),Ax.setAttrib(e,"contentEditable",null)}),Ax.addClass(o,"mce-content-body"),t.contentDocument=s=r.content_document||$.document,t.contentWindow=r.content_window||$.window,t.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),(e=t.getBody()).disabled=!0,t.readonly=r.readonly,t.readonly||(t.inline&&"static"===Ax.getStyle(e,"position",!0)&&(e.style.position="relative"),e.contentEditable=t.getParam("content_editable_state",!0)),e.disabled=!1,t.editorUpload=Bg(t),t.schema=Eo(r),t.dom=c(s,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:r.content_editable,schema:t.schema,contentCssCors:T.shouldUseContentCssCors(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((o=uy((a=t).settings,a.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,o=e.length,s=a.dom;o--;)i=(n=e[o]).attr(t),n.attributes.map[r="data-mce-"+t]||0!==i.indexOf("data:")&&0!==i.indexOf("blob:")&&("style"===t?((i=s.serializeStyle(s.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,a.convertURL(i,t,n.name)))}),o.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),o.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=a.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&0===t.getAll("br").length&&(t.append(new Kb("br",1)).shortEnded=!0)}),o),t.serializer=gy(r,t),t.selection=ky(t.dom,t.getWin(),t.serializer,t),t.annotator=Ju(t),t.formatter=Lb(t),t.undoManager=Yv(t),t._nodeChangeDispatcher=new Yg(t),t._selectionOverrides=sv(t),Dx(o=t),Nx(o),(i=t).on("click",function(e){3<=e.detail&&Sx(i)}),ox(t),Ug(t),t.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(s.body.spellcheck=!1,Ax.setAttrib(e,"spellcheck","false")),t.quirks=sx(t),t.fire("PostRender"),r.directionality&&(e.dir=r.directionality),r.nowrap&&(e.style.whiteSpace="nowrap"),r.protect&&t.on("BeforeSetContent",function(t){K.each(r.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),0<t.contentStyles.length&&(n="",K.each(t.contentStyles,function(e){n+=e+"\r\n"}),t.dom.addStyle(n)),((o=t).inline?Ax:o.dom).styleSheetLoader.loadAll(t.contentCSS,function(e){lx(t)},function(e){lx(t)}),r.content_style&&(s=t,e=r.content_style,s=j.fromDom(t.getDoc().head),o=j.fromTag("style"),lr(o,"type","text/css"),ts(o,j.fromText(e)),ts(s,o))},Ox=c.DOM,Ix=function(e,t){var n;return!!($.document.domain!==$.window.location.hostname&&Y.ie&&Y.ie<12)&&(n=Rg.uuid("mce"),e[n]=function(){Rx(e)},n='javascript:(function(){document.open();document.domain="'+$.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()",Ox.setAttrib(t,"src",n),!0)},Bx=function(e,t,n,i){var r=j.fromTag("iframe");return Ai(r,i),Ai(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ri(r,{width:"100%",height:function(e){e="number"==typeof e?e+"px":e;return e||""}(n),display:"block"}),r},Mx=function(e){var t,n,i=T.getDocType(e)+"<html><head>";return T.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(i+='<base href="'+e.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=T.getBodyId(e),n=T.getBodyClass(e),T.getContentSecurityPolicy(e)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+T.getContentSecurityPolicy(e)+'" />'),i+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'},Fx=function(e,t){o=t,i=(n=e).editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),(r=Bx(n.id,i,o.height,T.getIframeAttrs(n)).dom()).onload=function(){r.onload=null,n.fire("load")},i=Ix(n,r),n.contentAreaContainer=o.iframeContainer,n.iframeElement=r,n.iframeHTML=Mx(n),Ox.add(o.iframeContainer,r);var n,i,r,o=i;t.editorContainer&&(Ox.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Ox.isHidden(t.editorContainer)),e.getElement().style.display="none",Ox.setAttrib(e.id,"aria-hidden","true"),o||Rx(e)},Lx=c.DOM,Hx=function(t,n,i){var e=yg.get(i),r=yg.urls[i]||t.documentBaseUrl.replace(/\/$/,"");if(i=K.trim(i),e&&-1===K.inArray(n,i)&&(K.each(yg.dependencies(i),function(e){Hx(t,n,e)}),!t.plugins[i]))try{var o=new e(t,r,t.$);(t.plugins[i]=o).init&&(o.init(t,r),n.push(i))}catch(e){bg.pluginInitError(t,i,e)}},jx=function(e){return e.replace(/^\-/,"")},zx=function(e){var t=e.settings,n=e.getElement(),i=t.width||Lx.getStyle(n,"width")||"100%",r=t.height||Lx.getStyle(n,"height")||n.offsetHeight,o=t.min_height||100,s=/^[0-9\.]+(|px)$/i;return s.test(""+i)&&(i=Math.max(parseInt(i,10),100)),s.test(""+r)&&(r=Math.max(parseInt(r,10),o)),s=e.theme.renderUI({targetNode:n,width:i,height:r,deltaWidth:t.delta_width,deltaHeight:t.delta_height}),t.content_editable||(r=(s.iframeHeight||r)+("number"==typeof r?s.deltaHeight||0:""))<o&&(r=o),s.height=r,s},Wx=function(e){var t=e.getElement(),n=e.settings.theme(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight||t.offsetHeight,n},qx=function(e){var t=e.getElement();return e.inline?ux(null):(e=t,t=Lx.create("div"),Lx.insertAfter(t,e),ux(t))},Ux={init:function(t){var n,i,e,r,o=t.settings,s=t.getElement();return t.rtl=o.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(o.language),o.aria_label=o.aria_label||Lx.getAttrib(s,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),r=(s=t).settings.theme,ie(r)?(s.settings.theme=jx(r),e=xg.get(r),s.theme=new e(s,xg.urls[r]),s.theme.init&&s.theme.init(s,xg.urls[r]||s.documentBaseUrl.replace(/\/$/,""),s.$)):s.theme={},n=t,i=[],K.each(n.settings.plugins.split(/[ ,]/),function(e){Hx(n,i,jx(e))}),r=(e=t).settings,s=e.getElement(),e.orgDisplay=s.style.display,s=(ie(r.theme)?zx:le(r.theme)?Wx:qx)(e),t.editorContainer=s.editorContainer||null,o.content_css&&K.each(K.explode(o.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),o.content_editable?Rx(t):Fx(t,s)}},Vx=c.DOM,$x=function(e,t){var n=t.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url)},Yx=function(e,t,n,i){var r=t.settings,o=r.theme;ie(o)?(cx(o)||xg.urls.hasOwnProperty(o)||((r=r.theme_url)?xg.load(o,t.documentBaseURI.toAbsolute(r)):xg.load(o,"themes/"+o+"/theme"+n+".js")),e.loadQueue(function(){xg.waitFor(o,i)})):i()},Xx=function(n,i){K.isArray(n.plugins)&&(n.plugins=n.plugins.join(" ")),K.each(n.external_plugins,function(e,t){yg.load(t,e),n.plugins+=" "+t}),K.each(n.plugins.split(/[ ,]/),function(e){var t;(e=K.trim(e))&&!yg.urls[e]&&(cx(e)?(e=e.substr(1,e.length),t=yg.dependencies(e),K.each(t,function(e){e=yg.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"},e),yg.load(e.resource,e)})):yg.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+i+".js"}))})},Qx=function(t){function e(){Vx.unbind($.window,"ready",e),t.render()}var n,i,r,o,s=t.settings,a=t.id;Qe.Event.domLoaded?t.getElement()&&Y.contentEditable&&(s.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"),(n=t.getElement().form||Vx.getParent(a,"form"))&&(t.formElement=n,s.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(Vx.insertAfter(Vx.create("input",{type:"hidden",name:a}),a),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},Vx.bind(n,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!s.submit_patch||n.submit.nodeType||n.submit.length||n._mceOldSubmit||(n._mceOldSubmit=n.submit,n.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),n._mceOldSubmit(n)})),t.windowManager=ug(t),t.notificationManager=lg(t),"xml"===s.encoding&&t.on("GetContent",function(e){e.save&&(e.content=Vx.encode(e.content))}),s.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),s.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),r=(i=t).suffix,o=zo.ScriptLoader,Yx(o,i,r,function(){$x(o,i),Xx(i.settings,r),o.loadQueue(function(){i.removed||Ux.init(i)},i,function(e){bg.pluginLoadError(i,e[0]),i.removed||Ux.init(i)})})):Vx.bind($.window,"ready",e)},Kx=function(e,t,n){var i=e.sidebars||[];i.push({name:t,settings:n}),e.sidebars=i},Gx=K.each,Jx=K.trim,Zx="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),e_={ftp:21,http:80,https:443,mailto:25},t_=(dx.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t,n;return"./"===e?e:"mce_host"!==(e=new dx(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol?e.getURI():(t=this.getURI())===(n=e.getURI())||"/"===t.charAt(t.length-1)&&t.substr(0,t.length-1)===n?t:(n=this.toRelPath(this.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,t){return(e=new dx(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=e_[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,s="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!==n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!==n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)s+="../";for(i=o-1,r=n.length;i<r;i++)s+=i!==o-1?"/"+n[i]:n[i];return s},toAbsPath:function(e,t){var n,i=0,r=[],o=/\/$/.test(t)?"/":"";for(e=e.split("/"),t=t.split("/"),Gx(e,function(e){e&&r.push(e)}),e=r,n=t.length-1,r=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."===t[n]?i++:0<i?i--:r.push(t[n]));return 0!==(e=(n=e.length-i)<=0?r.reverse().join("/"):e.slice(0,n).join("/")+"/"+r.reverse().join("/")).indexOf("/")&&(e="/"+e),o&&e.lastIndexOf("/")!==e.length-1&&(e+=o),e},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},dx.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),{type:t=(n=/data:([^;]+)/.exec(e[0]))?n[1]:t,data:e[1]}},dx.getDocumentBaseUrl=function(e){e=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},"html"),n_=function(e,t){e=T.getForcedRootBlock(e),e=new RegExp("^(<"+e+"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/"+e+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(e,"")},i_=function(e,t,n){e=function(e,n,t){var i,r={},o={},s=[];for(i in t.firstChild&&hx(t.firstChild,function(t){w(e,function(e){e.name===t.name&&(r[e.name]?r[e.name].nodes.push(t):r[e.name]={filter:e,nodes:[t]})}),w(n,function(e){"string"==typeof t.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(t):o[e.name]={filter:e,nodes:[t]})})}),r)r.hasOwnProperty(i)&&s.push(r[i]);for(i in o)o.hasOwnProperty(i)&&s.push(o[i]);return s}(e,t,n);w(e,function(t){w(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},r_=function(e,t){var n;e.dom.setHTML(e.getBody(),t),n=e,tg.hasFocus(n)&&g.firstPositionIn(n.getBody()).each(function(e){var t=e.getNode(),t=J.isTable(t)?g.firstPositionIn(t).getOr(e):e;n.selection.setRng(t.toRange())})},o_=c.DOM,s_=c.DOM,a_=K.extend,l_=K.each,u_=K.resolve,c_=Y.ie,d_=(a_(yx.prototype={render:function(){Qx(this)},focus:function(e){tg.focus(this,e)},hasFocus:function(){return tg.hasFocus(this)},execCallback:function(e){for(var t=1;t<arguments.length;t++)t-1,0;var n,i=this.settings[e];if(i)return this.callbackLookup&&(n=this.callbackLookup[e])&&(i=n.func,n=n.scope),"string"==typeof i&&(n=(n=i.replace(/\.\w+$/,""))?u_(n):0,i=u_(i),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:i,scope:n}),i.apply(n||this,Array.prototype.slice.call(arguments,1))},translate:function(e){var n,i;return e&&K.is(e,"string")&&(n=this.settings.language||"en",e=(i=this.editorManager.i18n).data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return i.data[n+"."+t]||"{#"+t+"}"})),this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return km(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return Kx(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:Rg.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(s_.show(this.getContainer()),s_.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(c_&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(s_.hide(e.getContainer()),s_.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=null,t):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"===e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(!e.is_removing&&i.inline||(r.innerHTML=t),(n=s_.getParent(i.id,"form"))&&l_(n.elements,function(e){if(e.name===i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){return mx(this,e,t)},getContent:function(e){return fx(this,e)},insertContent:function(e,t){t&&(e=a_({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){var t,n;(n=e)!==((t=this).readonly?"readonly":"design")&&(t.initialized?gm(t,"readonly"===n):t.on("init",function(){gm(t,"readonly"===n)}),Sm.fireSwitchMode(t,n))},getContainer:function(){return this.container||(this.container=s_.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=s_.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this.settings;if(i.urlconverter_callback)return this.execCallback("urlconverter_callback",e,n,!0,t);if(i.convert_urls&&(!n||"LINK"!==n.nodeName)&&0!==e.indexOf("file:")&&0!==e.length){if(i.relative_urls)return this.documentBaseURI.toRelative(e);e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)}return e},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),void 0===i.hasVisual&&(i.hasVisual=r.visual),l_(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",void((t=o.getAttrib(e,"border"))&&"0"!==t||!i.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href")||(t=o.getAttrib(e,"name")||e.id,n=r.visual_anchor_class||"mce-item-anchor",t&&i.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){vx(this)},destroy:function(e){bx(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Re),{isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}}),f_=function(e){return"nodechange"===e.type&&e.selectionChange},h_=function(e){e.on("focusout",function(){am.store(e)})},p_=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},m_={register:function(n){var e,t,i=Uo(function(){am.store(n)},0);function r(){t.throttle()}n.inline&&(e=n,t=i,c.DOM.bind($.document,"mouseup",r),e.on("remove",function(){c.DOM.unbind($.document,"mouseup",r)})),n.on("init",function(){var t,e;t=n,e=i,Ji.detect().browser.isIE()?h_(t):p_(t,e),t.on("keyup nodechange",function(e){f_(e)||am.store(t)})}),n.on("remove",function(){i.cancel()})}},g_=c.DOM,v_=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==g_.getParent(e,function(e){return xx(e)||!!n&&t.dom.is(e,n)})},b_=function(){try{return $.document.activeElement}catch(e){return $.document.body}},y_=function(e){e.on("AddEditor",h(_x,e)),e.on("RemoveEditor",h(wx,e))},x_=c.DOM,__=K.explode,w_=K.each,C_=K.extend,k_=0,T_=!1,E_=[],S_=[],D_=function(t){var e=S_;delete E_[t.id];for(var n=0;n<E_.length;n++)if(E_[n]===t){E_.splice(n,1);break}return S_=v(S_,function(e){return t!==e}),N_.activeEditor===t&&(N_.activeEditor=0<S_.length?S_[0]:null),N_.focusedEditor===t&&(N_.focusedEditor=null),e.length!==S_.length},N_={defaultSettings:{},$:Q,majorVersion:"4",minorVersion:"9.11",releaseDate:"2020-07-13",editors:E_,i18n:pg,activeEditor:null,settings:{},setup:function(){var e,t="",n=dx.getDocumentBaseUrl($.document.location),i=(/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),window.tinymce||window.tinyMCEPreInit);if(i)e=i.base||i.baseURL,t=i.suffix;else{for(var r=$.document.getElementsByTagName("script"),o=0;o<r.length;o++){var s=r[o].src||"";if(""!==s){var a=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==a.indexOf(".min")&&(t=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}!e&&$.document.currentScript&&(-1!==(s=$.document.currentScript.src).indexOf(".min")&&(t=".min"),e=s.substring(0,s.lastIndexOf("/")))}this.baseURL=new dx(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new dx(this.baseURL),this.suffix=t,y_(this)},overrideDefaults:function(e){var t,n=e.base_url,i=(n&&(this.baseURL=new dx(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,"")),this.baseURI=new dx(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),(this.defaultSettings=e).plugin_base_urls);for(t in i)qo.PluginManager.urls[t]=i[t]},init:function(s){var n,a=this,i=K.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," "),t=function(e,t){return e.inline&&t.tagName.toLowerCase()in i},l=function(e){var t=e.id;return t||(t=(t=e.name)&&!x_.get(t)?e.name:x_.uniqueId(),e.setAttribute("id",t)),t},e=function(e){e=s[e];if(e)return e.apply(a,Array.prototype.slice.call(arguments,2))},r=function(e,t){return t.constructor===RegExp?t.test(e.className):x_.hasClass(e,t)},u=function(t){var e,n=[];if(Y.ie&&Y.ie<11)return bg.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)w_(t.types,function(e){n=n.concat(x_.select(e.selector))});else{if(t.selector)return x_.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&w_(__(e),function(t){var e;(e=x_.get(t))?n.push(e):w_($.document.forms,function(e){w_(e.elements,function(e){e.name===t&&(t="mce_editor_"+k_++,x_.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":w_(x_.select("textarea"),function(e){t.editor_deselector&&r(e,t.editor_deselector)||t.editor_selector&&!r(e,t.editor_selector)||n.push(e)})}}return n},c=function(e){n=e},d=function(){function n(e,t,n){e=new yx(e,t,a),o.push(e),e.on("init",function(){++r===i.length&&c(o)}),e.targetElm=e.targetElm||n,e.render()}var i,r=0,o=[];x_.unbind(window,"ready",d),e("onpageload"),i=Q.unique(u(s)),s.types?w_(s.types,function(t){K.each(i,function(e){return!x_.is(e,t.selector)||(n(l(e),C_({},s,t),e),!1)})}):(K.each(i,function(e){(e=a.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(D_(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)}),0===(i=K.grep(i,function(e){return!a.get(e.id)})).length?c([]):w_(i,function(e){t(s,e)?bg.initError("Could not initialize inline editor on invalid inline target element",e):n(l(e),s,e)}))};return a.settings=s,x_.bind(window,"ready",d),new Be(function(t){n?t(n):c=function(e){t(e)}})},get:function(t){return 0===arguments.length?S_.slice(0):ie(t)?ge(S_,function(e){return e.id===t}).getOr(null):ue(t)&&S_[t]||null},add:function(e){var t=this;return E_[e.id]!==e&&(null===t.get(e.id)&&("length"!==e.id&&(E_[e.id]=e),E_.push(e),S_.push(e)),kx(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Ex||(Ex=function(){t.fire("BeforeUnload")},x_.bind(window,"beforeunload",Ex))),e},createEditor:function(e,t){return this.add(new yx(e,t,this))},remove:function(e){var t,n,i=this;if(e){if(!ie(e))return n=e,se(i.get(n.id))?null:(D_(n)&&i.fire("RemoveEditor",{editor:n}),0===S_.length&&x_.unbind(window,"beforeunload",Ex),n.remove(),kx(0<S_.length),n);w_(x_.select(e),function(e){(n=i.get(e.id))&&i.remove(n)})}else for(t=S_.length-1;0<=t;t--)i.remove(S_[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new yx(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){w_(S_,function(e){e.save()})},addI18n:function(e,t){pg.add(e,t)},translate:function(e){return pg.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},e=(C_(N_,wi),N_.setup(),N_);function A_(n){return{walk:function(e,t){return Wu(n,e,t)},split:ap.split,normalize:function(t){return Wp.normalize(n,t).fold(b(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}(Ne=A_=A_||{}).compareRanges=Bp.isEq,Ne.getCaretRangeFromPoint=M0.fromPoint,Ne.getSelectedNode=Bs,Ne.getNode=Ms;function P_(e,t,n){var i=t.x,r=t.y,o=e.w,e=e.h,s=t.w,t=t.h;return"b"===(n=(n||"").split(""))[0]&&(r+=t),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=q_(t/2)),"c"===n[1]&&(i+=q_(s/2)),"b"===n[3]&&(r-=e),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=q_(e/2)),"c"===n[4]&&(i-=q_(o/2)),R_(i,r,o,e)}function R_(e,t,n,i){return{x:e,y:t,w:n,h:i}}function O_(){}function I_(e,n){var i,r,t,o;if(n=n||'"',null===e)return"null";if("string"==(t=typeof e))return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t))+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"!=t)return""+e;if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,r="[";i<e.length;i++)r+=(0<i?",":"")+I_(e[i],n);return r+"]"}for(o in r="{",e)e.hasOwnProperty(o)&&(r+="function"!=typeof e[o]?(1<r.length?","+n:n)+o+n+":"+I_(e[o],n):"");return r+"}"}function B_(e){this.settings=J_({},e),this.count=0}var M_,F_,L_,H_,j_,De=A_,z_=Math.min,W_=Math.max,q_=Math.round,t={inflate:function(e,t,n){return R_(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:P_,findBestRelativePosition:function(e,t,n,i){for(var r,o=0;o<i.length;o++)if((r=P_(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(e,t){var n=W_(e.x,t.x),i=W_(e.y,t.y),r=z_(e.x+e.w,t.x+t.w),e=z_(e.y+e.h,t.y+t.h);return r-n<0||e-i<0?null:R_(n,i,r-n,e-i)},clamp:function(e,t,n){var i=e.x,r=e.y,o=e.x+e.w,e=e.y+e.h,s=t.x+t.w,a=t.y+t.h,l=W_(0,t.x-i),t=W_(0,t.y-r),s=W_(0,o-s),a=W_(0,e-a);return i+=l,r+=t,n&&(o+=l,e+=t,i-=s,r-=a),R_(i,r,(o-=s)-i,(e-=a)-r)},create:R_,fromClientRect:function(e){return R_(e.left,e.top,e.width,e.height)}},U_={},Ae={add:function(e,t){U_[e.toLowerCase()]=t},has:function(e){return!!U_[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),t=U_.hasOwnProperty(t)?U_[t]:null;if(null===t)throw new Error("Could not find module for type: "+e);return t},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),n=U_[e])return(n=new n(t)).type=e,n;throw new Error("Could not find control by type: "+e)}},V_=K.each,$_=K.extend,Y_=(O_.extend=M_=function(n){function i(){var e,t,n;if(!F_&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function t(){return this}var e,r,o,s=this.prototype;for(r in F_=!0,e=new this,F_=!1,n.Mixins&&(V_(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),s.Mixins&&(n.Mixins=s.Mixins.concat(n.Mixins))),n.Methods&&V_(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&V_(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&V_(n.Statics,function(e,t){i[t]=e}),n.Defaults&&s.Defaults&&(n.Defaults=$_({},s.Defaults,n.Defaults)),n)"function"==typeof(o=n[r])&&s[r]?e[r]=function(n,i){return function(){var e,t=this._super;return this._super=s[n],e=i.apply(this,arguments),this._super=t,e}}(r,o):e[r]=o;return i.prototype=e,(i.constructor=i).extend=M_,i},Math.min),X_=Math.max,Q_=Math.round,K_={serialize:I_,parse:function(e){try{return JSON.parse(e)}catch(e){}}},i={callbacks:{},count:0,send:function(t){var n=this,i=c.DOM,r=(void 0!==t.count?t:n).count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(e){i.remove(o),delete n.callbacks[r],t.callback(e)},i.add(i.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}},G_={send:function(e){var t,n=0,i=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",G_.fire("beforeInitialize",{settings:e}),t=_g()){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&K.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=G_.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return i();setTimeout(i,10)}}},J_=(K.extend(G_,wi),K.extend);B_.sendRPC=function(e){return(new B_).send(e)},B_.prototype={send:function(n){var i=n.error,r=n.success;(n=J_(this.settings,n)).success=function(e,t){(e=void 0===(e=K_.parse(e))?{error:"JSON Parse error."}:e).error?i.call(n.error_scope||n.scope,e.error,t):r.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=K_.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",G_.send(n)}};try{L_=$.window.localStorage}catch(e){H_={},j_=[],Oe={getItem:function(e){e=H_[e];return e||null},setItem:function(e,t){j_.push(e),H_[e]=String(t)},key:function(e){return j_[e]},removeItem:function(t){j_=j_.filter(function(e){return e===t}),delete H_[t]},clear:function(){j_=[],H_={}},length:0},Object.defineProperty(Oe,"length",{get:function(){return j_.length},configurable:!1,enumerable:!1}),L_=Oe}Pe={geom:{Rect:t},util:{Promise:Be,Delay:Ke,Tools:K,VK:z,URI:dx,Class:O_,EventDispatcher:pm,Observable:wi,I18n:pg,XHR:G_,JSON:K_,JSONRequest:B_,JSONP:i,LocalStorage:L_,Color:function(e){function t(e){if("object"==typeof e){if("r"in e)a=e.r,l=e.g,u=e.b;else if("v"in e){var t,n,i=e.h,r=e.s,o=e.v;if(i=(parseInt(i,10)||0)%360,r=parseInt(r,10)/100,o=parseInt(o,10)/100,r=X_(0,Y_(r,1)),o=X_(0,Y_(o,1)),0===r)a=l=u=Q_(255*o);else{switch(i=i/60,n=(t=o*r)*(1-Math.abs(i%2-1)),r=o-t,Math.floor(i)){case 0:a=t,l=n,u=0;break;case 1:a=n,l=t,u=0;break;case 2:a=0,l=t,u=n;break;case 3:a=0,l=n,u=t;break;case 4:a=n,l=0,u=t;break;case 5:a=t,l=0,u=n;break;default:a=l=u=0}a=Q_(255*(a+r)),l=Q_(255*(l+r)),u=Q_(255*(u+r))}}}else(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(a=parseInt(o[1],10),l=parseInt(o[2],10),u=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(a=parseInt(o[1],16),l=parseInt(o[2],16),u=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(a=parseInt(o[1]+o[1],16),l=parseInt(o[2]+o[2],16),u=parseInt(o[3]+o[3],16));return a=a<0?0:255<a?255:a,l=l<0?0:255<l?255:l,u=u<0?0:255<u?255:u,s}var s={},a=0,l=0,u=0;return e&&t(e),s.toRgb=function(){return{r:a,g:l,b:u}},s.toHsv=function(){return e=a,t=l,n=u,s=0,(i=Y_(e/=255,Y_(t/=255,n/=255)))===(r=X_(e,X_(t,n)))?{h:0,s:0,v:100*(s=i)}:(o=(r-i)/r,{h:Q_(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((s=r)-i))),s:Q_(100*o),v:Q_(100*s)});var e,t,n,i,r,o,s},s.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(a)+e(l)+e(u)},s.parse=t,s}},dom:{EventUtils:Qe,Sizzle:X,DomQuery:Q,TreeWalker:G,DOMUtils:c,ScriptLoader:zo,RangeUtils:De,Serializer:gy,ControlSelection:O0,BookmarkManager:A0,Selection:ky,Event:Qe.Event},html:{Styles:Do,Entities:vo,Node:Kb,Schema:Eo,SaxParser:Mv,DomParser:uy,Writer:mc,Serializer:gc},ui:{Factory:Ae},Env:Y,AddOnManager:qo,Annotator:Ju,Formatter:Lb,UndoManager:Yv,EditorCommands:hm,WindowManager:ug,NotificationManager:lg,EditorObservable:Re,Shortcuts:qm,Editor:yx,FocusManager:d_,EditorManager:e,DOM:c.DOM,ScriptLoader:zo.ScriptLoader,PluginManager:qo.PluginManager,ThemeManager:qo.ThemeManager,trim:K.trim,isArray:K.isArray,is:K.is,toArray:K.toArray,makeMap:K.makeMap,each:K.each,map:K.map,grep:K.grep,inArray:K.inArray,extend:K.extend,create:K.create,walk:K.walk,createNS:K.createNS,resolve:K.resolve,explode:K.explode,_addCacheSuffix:K._addCacheSuffix,isOpera:Y.opera,isWebKit:Y.webkit,isIE:Y.ie,isGecko:Y.gecko,isMac:Y.mac},Ie=K.extend(e,Pe),n=Ie,window.tinymce=n,window.tinyMCE=n,Ne=Ie;if("object"==typeof module)try{module.exports=Ne}catch(e){}}(window),!function(y){"use strict";function M(e){return!1!==U(e)}function F(e){return e.getParam("toolbar_items_size")}function L(e){return!1===e.settings.skin}function H(e){return!1===(e=e.getParam("resize","vertical"))?"none":"both"===e?"both":"vertical"}function j(t,n){return function(){var e=t.find(n)[0];e&&e.focus(!0)}}function z(){return G}var W=tinymce.util.Tools.resolve("tinymce.ThemeManager"),q=tinymce.util.Tools.resolve("tinymce.EditorManager"),p=tinymce.util.Tools.resolve("tinymce.util.Tools"),U=function(e){return e.getParam("menubar")},V=function(e){return e.getParam("menu")},$=function(e,t){for(var n=[],i=1;i<10;i++){var r=e["toolbar"+i];if(!r)break;n.push(r)}t=e.toolbar?[e.toolbar]:[t];return 0<n.length?n:t},d=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),m=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Y=tinymce.util.Tools.resolve("tinymce.util.I18n"),f={fireSkinLoaded:function(e){return e.fire("SkinLoaded")},fireResizeEditor:function(e){return e.fire("ResizeEditor")},fireBeforeRenderUI:function(e){return e.fire("BeforeRenderUI")}},X=function(e,t){e.shortcuts.add("Alt+F9","",j(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",j(t,"toolbar")),e.shortcuts.add("Alt+F11","",j(t,"elementpath")),t.on("cancel",function(){e.focus()})},g=tinymce.util.Tools.resolve("tinymce.geom.Rect"),u=tinymce.util.Tools.resolve("tinymce.util.Delay"),Q=function(){},c=function(e){return function(){return e}},o=c(!1),K=c(!0),G=(e={fold:function(e,t){return e()},is:o,isSome:o,isNone:K,getOr:ee,getOrThunk:Z,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:ee,orThunk:Z,map:z,each:Q,bind:z,exists:o,forall:K,filter:z,equals:J,equals_:J,toArray:function(){return[]},toString:c("none()")},Object.freeze&&Object.freeze(e),e);function J(e){return e.isNone()}function Z(e){return e()}function ee(e){return e}function te(n){function e(){return r}function t(e){return e(n)}var i=c(n),r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:K,isNone:o,getOr:i,getOrThunk:i,getOrDie:i,getOrNull:i,getOrUndefined:i,or:e,orThunk:e,map:function(e){return te(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?r:G},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(o,function(e){return t(n,e)})}};return r}function ne(e){return e?e.getRoot().uiContainer:null}function ie(i,e,r){var o,s=[];if(e)return p.each(e.split(/[ ,]/),function(t){function e(){var e=i.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})}var n;"|"===t?o=null:(o||(o={type:"buttongroup",items:[]},s.push(o)),i.buttons[t]&&(n=t,(t="function"==typeof(t=i.buttons[n])?t():t).type=t.type||"button",t.size=r,t=m.create(t),o.items.push(t),i.initialized?e():i.on("init",e)))}),{type:"toolbar",layout:"flow",items:s}}function re(e,t){e.moveTo(t.left,t.top)}function oe(e,t,n,i,r,o){return o=xe({x:t,y:n,w:o.w,h:o.h}),o=e?e({elementRect:xe(i),contentAreaRect:xe(r),panelRect:o}):o}function se(n){return function(e){return(null===(e=e)?"null":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t)===n;var t}}function ae(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return!0;return!1}function le(e){return e&&"|"===e.item.text}function ue(e){return{width:e.clientWidth,height:e.clientHeight}}function ce(e,t,n){var i=e.getContainer(),r=e.getContentAreaContainer().firstChild,o=ue(i),s=ue(r);null!==t&&(t=Math.max(e.getParam("min_width",100,"number"),t),t=Math.min(e.getParam("max_width",65535,"number"),t),Me.setStyle(i,"width",t+(o.width-s.width)),Me.setStyle(r,"width",t)),n=Math.max(e.getParam("min_height",100,"number"),n),n=Math.min(e.getParam("max_height",65535,"number"),n),Me.setStyle(r,"height",n),f.fireResizeEditor(e)}function de(e){return"static"===w.getRuntimeStyle(e,"position")}function fe(e){return e.state.get("fixed")}var he=te,s=z,pe=function(e){return null==e?G:te(e)},me=function(e){var t,n,e=ne(e);return e&&"static"!==d.DOM.getStyle(e,"position",!0)?(t=d.DOM.getPos(e),n=e.scrollLeft-t.x,e=e.scrollTop-t.y,he({x:n,y:e})):s()},ge=function(e,t){e=d.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=e},v=ne,ve=function(e,t){return t.uiContainer=ne(e)},be=ie,ye=function(t,n){var e,i,r=[];if(p.each(!1===(i=(e=t).getParam("toolbar"))?[]:p.isArray(i)?p.grep(i,function(e){return 0<e.length}):$(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),function(e){(e=e)&&r.push(ie(t,e,n))}),r.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:r}},b=d.DOM,xe=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},_e=function(f){function o(){return f.contextToolbars||[]}function s(e,t){var n,i,r,o,s,a,l,u,c,d=f.getParam("inline_toolbar_position_handler");f.removed||(e&&e.toolbar.panel?(i=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],r=e.toolbar.panel,t&&r.show(),t=h(e.element),o=b.getRect(r.getEl()),s=b.getRect(f.getContentAreaContainer()||f.getBody()),a=me(r).getOr({x:0,y:0}),t.x+=a.x,t.y+=a.y,o.x+=a.x,o.y+=a.y,s.x+=a.x,s.y+=a.y,"inline"!==b.getStyle(e.element,"display",!0)&&(a=e.element.getBoundingClientRect(),t.w=a.width,t.h=a.height),f.inline||(s.w=f.getDoc().documentElement.offsetWidth),f.selection.controlSelection.isResizable(e.element)&&t.w<25&&(t=g.inflate(t,0,8)),a=g.findBestRelativePosition(o,t,s,i),t=g.clamp(t,s),a?(n=g.relativePosition(o,t,a),re(r,oe(d,n.x,n.y,t,s,o))):(s.h+=o.h,(t=g.intersect(s,t))?(a=g.findBestRelativePosition(o,t,s,["bc-tc","bl-tl","br-tr"]))?(n=g.relativePosition(o,t,a),re(r,oe(d,n.x,n.y,t,s,o))):re(r,oe(d,t.x,t.y,t,s,o)):r.hide()),l=r,c=function(e,t){return e===t},u=(u=a)?u.substr(0,2):"",p.each({t:"down",b:"up"},function(e,t){l.classes.toggle("arrow-"+e,c(t,u.substr(0,1)))}),p.each({l:"left",r:"right"},function(e,t){l.classes.toggle("arrow-"+e,c(t,u.substr(1,1)))})):p.each(f.contextToolbars,function(e){e.panel&&e.panel.hide()}))}function t(e){var t,n,i,r;e.toolbar.panel?e.toolbar.panel.show():(r=m.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:be(f,e.toolbar.items),oncancel:function(){f.focus()}}),ge(f,r),t=r,a||(n=l(!0),i=v(t),a=f.selection.getScrollContainer()||f.getWin(),b.bind(a,"scroll",n),b.bind(i,"scroll",n),f.on("remove",function(){b.unbind(a,"scroll",n),b.unbind(i,"scroll",n)})),(e.toolbar.panel=r).renderTo().reflow()),s(e)}function n(){p.each(o(),function(e){e.panel&&e.panel.hide()})}function i(e){for(var t,n=o(),i=f.$(e).parents().add(e),r=i.length-1;0<=r;r--)for(t=n.length-1;0<=t;t--)if(n[t].predicate(i[r]))return{toolbar:n[t],element:i[r]};return null}var a,h=function(e){var t=b.getPos(f.getContentAreaContainer()),e=f.dom.getRect(e),n=f.dom.getRoot();return"BODY"===n.nodeName&&(e.x-=n.ownerDocument.documentElement.scrollLeft||n.scrollLeft,e.y-=n.ownerDocument.documentElement.scrollTop||n.scrollTop),e.x+=t.x,e.y+=t.y,e},l=function(e){return function(){u.requestAnimationFrame(function(){f.selection&&s(i(f.selection.getNode()),e)})}};f.on("click keyup setContent ObjectResized",function(e){"setcontent"===e.type&&!e.selection||u.setEditorTimeout(f,function(){var e=i(f.selection.getNode());e?(n(),t(e)):n()})}),f.on("blur hide contextmenu",n),f.on("ObjectResizeStart",function(){var e=i(f.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),f.on("ResizeEditor ResizeWindow",l(!0)),f.on("nodeChange",l(!1)),f.on("remove",function(){p.each(o(),function(e){e.panel&&e.panel.remove()}),f.contextToolbars={}}),f.shortcuts.add("ctrl+F9","",function(){var e=i(f.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})},we=se("array"),e=se("function"),Ce=se("number"),ke=(Array.prototype.slice,Array.prototype.indexOf),Te=Array.prototype.push,Ee=function(e,t){e=ke.call(e,t);return-1===e?s():he(e)},l=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},Se=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},h=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},De=function(e,t,n){return Se(e,function(e){n=t(n,e)}),n},Ne=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return he(r)}return s()},Ae=(e(Array.from)&&Array.from,{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),Pe=function(){return{name:"|",item:{text:"|"}}},Re=function(e,t){t=t?{name:e,item:t}:null;return"|"===e?Pe():t},Oe=function(e,t){return function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return he(n);return s()}(e,function(e){return e.name===t}).isSome()},Ie=function(e,t){var n=h(e,function(e){return!1===t.hasOwnProperty(e.name)}),i=h(n,function(e,t){return!le(e)||!le(n[t-1])});return h(i,function(e,t){return!le(e)||0<t&&t<i.length-1})},Be=function(e){for(var t=[],n=function(e){var t,n=[],e=V(e);if(e)for(t in e)n.push(t);else for(t in Ae)n.push(t);return n}(e),i=p.makeMap(e.getParam("removed_menuitems","").split(/[ ,]/)),r=U(e),o="string"==typeof r?r.split(/[ ,]/):n,s=0;s<o.length;s++){var a=o[s],a=function(t,e,n,i){var r,o,s,a;return e?(o=e[i],a=!0):o=Ae[i],o&&(r={text:o.title},s=[],p.each((o.items||"").split(/[ ,]/),function(e){e=Re(e,t[e]);e&&s.push(e)}),a||p.each(t,function(e,t){e.context!==i||Oe(s,t)||("before"===e.separator&&s.push(Pe()),e.prependToContext?s.unshift(Re(t,e)):s.push(Re(t,e)),"after"===e.separator&&s.push(Pe()))}),r.menu=l(Ie(s,n),function(e){return e.item}),!r.menu.length)?null:r}(e.menuItems,V(e),i,a);a&&t.push(a)}return t},Me=d.DOM,Fe=ce,Le=function(e,t,n){var i=e.getContentAreaContainer();ce(e,i.clientWidth+t,i.clientHeight+n)},x=tinymce.util.Tools.resolve("tinymce.Env"),He=function(e,t,n){var i,e=e.settings[n];e&&e((i=t.getEl("body"),{element:function(){return i}}))},je=function(n,i,e){p.each(e,function(e){var t=i.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==n&&(He(e,t,"onhide"),t.visible(!1))})},ze=function(e){e.items().each(function(e){e.active(!1)})},We=function(e,t){return p.grep(e,function(e){return e.name===t})[0]},qe={hasSidebar:function(e){return!(x.ie&&!(11<=x.ie)||!e.sidebars)&&0<e.sidebars.length},createSidebar:function(n){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:p.map(n.sidebars,function(e){var r,o,s,t=e.settings;return{type:"button",icon:t.icon,image:t.image,tooltip:t.tooltip,onclick:(r=n,o=e.name,s=n.sidebars,function(e){var e=e.control,t=e.parents().filter("panel")[0],n=t.find("#"+o)[0],i=We(s,o);je(o,t,s),ze(e.parent()),n&&n.visible()?(He(i,n,"onhide"),n.hide(),e.active(!1)):(n?n.show():(n=m.create({type:"container",name:o,layout:"stack",classes:"sidebar-panel",html:""}),t.prepend(n),He(i,n,"onrender")),He(i,n,"onshow"),e.active(!0)),f.fireResizeEditor(r)})}})}]}}},Ue=function(e){function t(){e._skinLoaded=!0,f.fireSkinLoaded(e)}return function(){e.initialized?t():e.on("init",t)}},Ve=d.DOM,$e=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},Ye=function(t,e,n){var i,r,o,s;return!1===L(t)&&n.skinUiCss?Ve.styleSheetLoader.load(n.skinUiCss,Ue(t)):Ue(t)(),i=e.panel=m.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===M(t)?null:{type:"menubar",border:"0 0 1 0",items:Be(t)},ye(t,F(t))]},qe.hasSidebar(t)?(e=t,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[$e("0"),qe.createSidebar(e)]}):$e("1 0 0 0")]}),ge(t,i),"none"!==H(t)&&(r={type:"resizehandle",direction:H(t),onResizeStart:function(){var e=t.getContentAreaContainer().firstChild;o={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"===H(t)?Fe(t,o.width+e.deltaX,o.height+e.deltaY):Fe(t,null,o.height+e.deltaY)}}),t.getParam("statusbar",!0,"boolean")&&(e=Y.translate(["Powered by {0}",'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">Tiny</a>']),e=t.getParam("branding",!0,"boolean")?{type:"label",classes:"branding",html:" "+e}:null,i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:t},r,e]})),f.fireBeforeRenderUI(t),t.on("SwitchMode",(s=i,function(e){s.find("*").disabled("readonly"===e.mode)})),i.renderBefore(n.targetNode).reflow(),t.getParam("readonly",!1,"boolean")&&t.setMode("readonly"),n.width&&Ve.setStyle(i.getEl(),"width",n.width),t.on("remove",function(){i.remove(),i=null}),X(t,i),_e(t),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()}},_=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Xe=0,w={id:function(){return"mceu_"+Xe++},create:function(e,t,n){var i=y.document.createElement(e);return d.DOM.setAttribs(i,t),"string"==typeof n?i.innerHTML=n:p.each(n,function(e){e.nodeType&&i.appendChild(e)}),i},createFragment:function(e){return d.DOM.createFragment(e)},getWindowSize:function(){return d.DOM.getViewPort()},getSize:function(e){var t,n;return n=e.getBoundingClientRect?(n=e.getBoundingClientRect(),t=Math.max(n.width||n.right-n.left,e.offsetWidth),Math.max(n.height||n.bottom-n.bottom,e.offsetHeight)):(t=e.offsetWidth,e.offsetHeight),{width:t,height:n}},getPos:function(e,t){return d.DOM.getPos(e,t||w.getContainer())},getContainer:function(){return x.container||y.document.body},getViewPort:function(e){return d.DOM.getViewPort(e)},get:function(e){return y.document.getElementById(e)},addClass:function(e,t){return d.DOM.addClass(e,t)},removeClass:function(e,t){return d.DOM.removeClass(e,t)},hasClass:function(e,t){return d.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return d.DOM.toggleClass(e,t,n)},css:function(e,t,n){return d.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return d.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return d.DOM.bind(e,t,n,i)},off:function(e,t,n){return d.DOM.unbind(e,t,n)},fire:function(e,t,n){return d.DOM.fire(e,t,n)},innerHtml:function(e,t){d.DOM.setHTML(e,t)}};function Qe(e,t,n){var i,r=Ke(),o=w.getPos(t,v(e)),s=o.x,o=o.y;return fe(e)&&de(y.document.body)&&(s-=r.x,o-=r.y),r=e.getEl(),r=(e=w.getSize(r)).width,i=e.height,t=(e=w.getSize(t)).width,e=e.height,"b"===(n=(n||"").split(""))[0]&&(o+=e),"r"===n[1]&&(s+=t),"c"===n[0]&&(o+=Math.round(e/2)),"c"===n[1]&&(s+=Math.round(t/2)),"b"===n[3]&&(o-=i),"r"===n[4]&&(s-=r),"c"===n[3]&&(o-=Math.round(i/2)),"c"===n[4]&&(s-=Math.round(r/2)),{x:s,y:o,w:r,h:i}}function Ke(){var e=y.window;return{x:Math.max(e.pageXOffset,y.document.body.scrollLeft,y.document.documentElement.scrollLeft),y:Math.max(e.pageYOffset,y.document.body.scrollTop,y.document.documentElement.scrollTop),w:e.innerWidth||y.document.documentElement.clientWidth,h:e.innerHeight||y.document.documentElement.clientHeight}}function Ge(e){var t=v(e);return t&&!fe(e)?{x:0,y:0,w:t.scrollWidth-1,h:t.scrollHeight-1}:Ke()}var Je={testMoveRel:function(e,t){for(var n=Ge(this),i=0;i<t.length;i++){var r=Qe(this,e,t[i]);if(fe(this)){if(0<r.x&&r.x+r.w<n.w&&0<r.y&&r.y+r.h<n.h)return t[i]}else if(r.x>n.x&&r.x+r.w<n.w+n.x&&r.y>n.y&&r.y+r.h<n.h+n.y)return t[i]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));e=Qe(this,e,t);return this.moveTo(e.x,e.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){var n,i=this;function r(e,t,n){return e<0||t<e+n&&(e=t-n)<0?0:e}i.settings.constrainToViewport&&(o=Ge(this),n=i.layoutRect(),e=r(e,o.w+o.x,n.w),t=r(t,o.h+o.y,n.h));var o=v(i);return o&&de(o)&&!fe(i)&&(e-=o.scrollLeft,t-=o.scrollTop),o&&(e+=1,t+=1),i.state.get("rendered")?i.layoutRect({x:e,y:t}).repaint():(i.settings.x=e,i.settings.y=t),i.fire("move",{x:e,y:t}),i}},e=tinymce.util.Tools.resolve("tinymce.util.Class"),Ze=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),a=function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},et=function(n,e){function t(e){var t=parseFloat((e=e,(t=n.ownerDocument.defaultView)?(t=t.getComputedStyle(n,null))?(e=e.replace(/[A-Z]/g,function(e){return"-"+e}),t.getPropertyValue(e)):null:n.currentStyle[e]));return isNaN(t)?0:t}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}};function tt(){}function nt(e){this.cls=[],this.cls._map={},this.onchange=e||tt,this.prefix=""}p.extend(nt.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=void 0,t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),nt.prototype.toString=function(){if(this.clsValue)return this.clsValue;for(var e="",t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e};function it(e){this.create=e.create}var rt,C,ot=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,st=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,at=/^\s*|\s*$/g,lt=e.extend({init:function(e){var r=this.match;function s(e,t,n){function i(e){e&&t.push(e)}return i(function(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}((e=ot.exec(e.replace(at,"")))[1])),i(function(t){if(t)return function(e){return e._name===t}}(e[2])),i(function(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}(e[3])),i(function(t,n,i){if(t)return function(e){e=e[t]?e[t]():"";return n?"="===n?e===i:"*="===n?0<=e.indexOf(i):"~="===n?0<=(" "+e+" ").indexOf(" "+i+" "):"!="===n?e!==i:"^="===n?0===e.indexOf(i):"$="===n&&e.substr(e.length-i.length)===i:!!i}}(e[4],e[5],e[6])),i(function(i){var t;if(i)return(i=/(?:not\((.+)\))|(.+)/i.exec(i))[1]?(t=a(i[1],[]),function(e){return!r(e,t)}):(i=i[2],function(e,t,n){return"first"===i?0===t:"last"===i?t===n-1:"even"===i?t%2==0:"odd"===i?t%2==1:!!e[i]&&e[i]()})}(e[7])),t.pseudo=!!e[7],t.direct=n,t}function a(e,t){var n,i,r,o=[];do{if(st.exec(""),(i=st.exec(e))&&(e=i[3],o.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&a(n,t),e=[],r=0;r<o.length;r++)">"!==o[r]&&e.push(s(o[r],[],">"===o[r-1]));return t.push(e),t}this._selectors=a(e,[])},match:function(e,t){for(var n,i,r,o,s,a,l,u,c,d,f,h=0,p=(t=t||this._selectors).length;h<p;h++){for(f=e,d=0,n=(i=(r=t[h]).length)-1;0<=n;n--)for(a=r[n];f;){if(a.pseudo)for(l=u=(c=f.parent().items()).length;l--&&c[l]!==f;);for(o=0,s=a.length;o<s;o++)if(!a[o](f,l,u)){o=s+1;break}if(o===s){d++;break}if(n===i-1)break;f=f.parent()}if(d===i)return!0}return!1},find:function(e){var t,n,c=[],i=this._selectors;if(e.items){for(t=0,n=i.length;t<n;t++)!function e(t,n,i){for(var r,o,s,a=n[i],l=0,u=t.length;l<u;l++){for(s=t[l],r=0,o=a.length;r<o;r++)if(!a[r](s,l,u)){r=o+1;break}if(r===o)i===n.length-1?c.push(s):s.items&&e(s.items(),n,i+1);else if(a.direct)return;s.items&&e(s.items(),n,i)}}(e.items(),i[t],0);1<n&&(c=function(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(c))}return new(rt=rt||lt.Collection)(c)}}),ut=Array.prototype.push,ct=Array.prototype.slice,dt={length:0,init:function(e){e&&this.add(e)},add:function(e){return p.isArray(e)?ut.apply(this,e):e instanceof C?this.add(e.toArray()):ut.call(this,e),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(t){for(var e,n=[],i="string"==typeof t?(t=new lt(t),function(e){return t.match(e)}):t,r=0,o=this.length;r<o;r++)i(e=this[r])&&n.push(e);return new C(n)},slice:function(){return new C(ct.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return p.each(this,e),this},toArray:function(){return p.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new C(p.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e;return void 0!==n?(this.each(function(e){e[t]&&e[t](n)}),this):(e=this[0])&&e[t]?e[t]():void 0},exec:function(t){var n=p.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},ft=(p.each("fire on off show hide append prepend before after reflow".split(" "),function(n){dt[n]=function(){var t=p.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),p.each("text name disabled active selected checked visible parent value data".split(" "),function(t){dt[t]=function(e){return this.prop(t,e)}}),C=e.extend(dt),lt.Collection=C),ht=(it.create=function(r,o){return new it({create:function(t,n){function e(e){t.set(n,e.value)}var i;return t.on("change:"+n,function(e){r.set(o,e.value)}),r.on("change:"+o,e),(i=t._bindings)||(i=t._bindings=[],t.on("destroy",function(){for(var e=i.length;e--;)i[e]()})),i.push(function(){r.off("change:"+o,e)}),r.get(o)}})},tinymce.util.Tools.resolve("tinymce.util.Observable"));function pt(e){return 0<e.nodeType}var mt,gt=e.extend({Mixins:[ht],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof it&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,i=this.data[e];if(t instanceof it&&(t=t.create(this,e)),"object"==typeof e)for(n in e)this.set(n,e[n]);else!function e(t,n){var i,r;if(t!==n){if(null===t||null===n)return t===n;if("object"!=typeof t||"object"!=typeof n)return t===n;if(p.isArray(n)){if(t.length!==n.length)return;for(i=t.length;i--;)if(!e(t[i],n[i]))return}if(pt(t)||pt(n))return t===n;for(i in r={},n){if(!e(t[i],n[i]))return;r[i]=!0}for(i in t)if(!r[i]&&!e(t[i],n[i]))return}return 1}(i,t)&&(this.data[e]=t,this.fire("change:"+e,t={target:this,name:e,value:t,oldValue:i}),this.fire("change",t));return this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return it.create(this,e)},destroy:function(){this.fire("destroy")}}),n={},vt={add:function(e){e=e.parent();e&&e._layout&&!e._layout.isNative()&&(n[e._id]||(n[e._id]=e),mt||(mt=!0,u.requestAnimationFrame(function(){var e,t;for(e in mt=!1,n)(t=n[e]).state.get("rendered")&&t.reflow();n={}},y.document.body)))},remove:function(e){n[e._id]&&delete n[e._id]}},bt="onmousewheel"in y.document,yt=!1,xt=0,_t={Statics:{classPrefix:"mce-"},isRtl:function(){return Tt.rtl},classPrefix:"mce-",init:function(t){var e,n,i=this;function r(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)i.classes.add(e[t])}i.settings=t=p.extend({},i.Defaults,t),i._id=t.id||"mceu_"+xt++,i._aria={role:t.role},i._elmCache={},i.$=_,i.state=new gt({visible:!0,active:!1,disabled:!1,value:""}),i.data=new gt(t.data),i.classes=new nt(function(){i.state.get("rendered")&&(i.getEl().className=this.toString())}),i.classes.prefix=i.classPrefix,(e=t.classes)&&(i.Defaults&&(n=i.Defaults.classes)&&e!==n&&r(n),r(e)),p.each("title text name visible disabled active value".split(" "),function(e){e in t&&i[e](t[e])}),i.on("click",function(){if(i.disabled())return!1}),i.settings=t,i.borderBox=a(t.border),i.paddingBox=a(t.padding),i.marginBox=a(t.margin),t.hidden&&i.hide()},Properties:"parent,name",getContainerElm:function(){var e=v(this);return e||w.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,o=this,s=o.settings,a=o.getEl(),l=o.borderBox=o.borderBox||et(a,"border"),u=(o.paddingBox=o.paddingBox||et(a,"padding"),o.marginBox=o.marginBox||et(a,"margin"),a=w.getSize(a),t=s.minWidth,n=s.minHeight,e=t||a.width,a=n||a.height,i=s.width,r=s.height,void 0!==(u=s.autoResize)?u:!i&&!r),c=l.left+l.right,l=l.top+l.bottom,d=s.maxWidth||65535,f=s.maxHeight||65535;return o._layoutRect=s={x:s.x||0,y:s.y||0,w:i=i||e,h:r=r||a,deltaW:c,deltaH:l,contentW:i-c,contentH:r-l,innerW:i-c,innerH:r-l,startMinWidth:t||0,startMinHeight:n||0,minW:Math.min(e,d),minH:Math.min(a,f),maxW:d,maxH:f,autoResize:u,scrollW:0},o._lastLayoutRect={},s},layoutRect:function(e){var t,n,i,r=(r=this._layoutRect)||this.initLayoutRect();return e?(t=r.deltaW,n=r.deltaH,void 0!==e.x&&(r.x=e.x),void 0!==e.y&&(r.y=e.y),void 0!==e.minW&&(r.minW=e.minW),void 0!==e.minH&&(r.minH=e.minH),void 0!==(i=e.w)&&(i=(i=i<r.minW?r.minW:i)>r.maxW?r.maxW:i,r.w=i,r.innerW=i-t),void 0!==(i=e.h)&&(i=(i=i<r.minH?r.minH:i)>r.maxH?r.maxH:i,r.h=i,r.innerH=i-n),void 0!==(i=e.innerW)&&(i=(i=i<r.minW-t?r.minW-t:i)>r.maxW-t?r.maxW-t:i,r.innerW=i,r.w=i+t),void 0!==(i=e.innerH)&&(i=(i=i<r.minH-n?r.minH-n:i)>r.maxH-n?r.maxH-n:i,r.innerH=i,r.h=i+n),void 0!==e.contentW&&(r.contentW=e.contentW),void 0!==e.contentH&&(r.contentH=e.contentH),(t=this._lastLayoutRect).x===r.x&&t.y===r.y&&t.w===r.w&&t.h===r.h||((i=Tt.repaintControls)&&i.map&&!i.map[this._id]&&(i.push(this),i.map[this._id]=!0),t.x=r.x,t.y=r.y,t.w=r.w,t.h=r.h),this):r},repaint:function(){var e,t,n,i=this,r=y.document.createRange?function(e){return e}:Math.round,o=i.getEl().style,s=i._layoutRect,a=i._lastRepaintRect||{},l=i.borderBox,u=l.left+l.right,l=l.top+l.bottom;s.x!==a.x&&(o.left=r(s.x)+"px",a.x=s.x),s.y!==a.y&&(o.top=r(s.y)+"px",a.y=s.y),s.w!==a.w&&(n=r(s.w-u),o.width=(0<=n?n:0)+"px",a.w=s.w),s.h!==a.h&&(n=r(s.h-l),o.height=(0<=n?n:0)+"px",a.h=s.h),i._hasBody&&s.innerW!==a.innerW&&(n=r(s.innerW),(t=i.getEl("body"))&&((e=t.style).width=(0<=n?n:0)+"px"),a.innerW=s.innerW),i._hasBody&&s.innerH!==a.innerH&&(n=r(s.innerH),(t=t||i.getEl("body"))&&((e=e||t.style).height=(0<=n?n:0)+"px"),a.innerH=s.innerH),i._lastRepaintRect=a,i.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,w.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var n,i,r,o=this;return wt(o).on(e,"string"!=typeof(n=t)?n:function(e){if(i||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(i=t[n]))return r=e,!1}),i)return i.call(r,e);e.action=n,this.fire("execute",e)}),o},off:function(e,t){return wt(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=wt(this).fire(e,t),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return wt(this).has(e)},parents:function(e){for(var t=new ft,n=this.parent();n;n=n.parent())t.add(n);return t=e?t.filter(e):t},parentsAndSelf:function(e){return new ft(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){e=e?this._id+"-"+e:this._id;return this._elmCache[e]||(this._elmCache[e]=_("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"===e?e:"aria-"+e,t),this)},encode:function(e,t){return((e=!1!==t?this.translate(e):e)||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return Tt.translate?Tt.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var t,n=this,e=n.getEl(),i=n.parent();if(n.items)for(var r=n.items().toArray(),o=r.length;o--;)r[o].remove();i&&i.items&&(t=[],i.items().each(function(e){e!==n&&t.push(e)}),i.items().set(t),i._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&_(e).off();i=n.getRoot().controlIdLookup;return i&&delete i[n._id],e&&e.parentNode&&e.parentNode.removeChild(e),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return _(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return _(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i=this,r=i.settings;for(t in i.$el=_(i.getEl()),i.state.set("rendered",!0),r)0===t.indexOf("on")&&i.on(t.substr(2),r[t]);if(i._eventsRoot){for(e=i.parent();!n&&e;e=e.parent())n=e._eventsRoot;if(n)for(t in n._nativeEvents)i._nativeEvents[t]=!0}Ct(i),r.style&&(s=i.getEl())&&(s.setAttribute("style",r.style),s.style.cssText=r.style),i.settings.border&&(s=i.borderBox,i.$el.css({"border-top-width":s.top,"border-right-width":s.right,"border-bottom-width":s.bottom,"border-left-width":s.left}));var o,s=i.getRoot();for(o in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[i._id]=i)._aria)i.aria(o,i._aria[o]);!1===i.state.get("visible")&&(i.getEl().style.display="none"),i.bindStates(),i.state.on("change:visible",function(e){var t,e=e.value;i.state.get("rendered")&&(i.getEl().style.display=!1===e?"none":"",i.getEl().getBoundingClientRect()),(t=i.parent())&&(t._lastRect=null),i.fire(e?"show":"hide"),vt.add(i)}),i.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t=this.getEl(),n=t.parentNode,i=function(e,t){for(var n,i=e,r=n=0;i&&i!==t&&i.nodeType;)r+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:r,y:n}}(t,n),r=i.x,i=i.y,o=t.offsetWidth,t=t.offsetHeight,s=n.clientWidth,a=n.clientHeight;return"end"===e?(r-=s-o,i-=a-t):"center"===e&&(r-=s/2-o/2,i-=a/2-t/2),n.scrollLeft=r,n.scrollTop=i,this},getRoot:function(){for(var e=this,t=[];e;){if(e.rootControl){n=e.rootControl;break}t.push(e),e=(n=e).parent()}for(var n=n||this,i=t.length;i--;)t[i].rootControl=n;return n},reflow:function(){vt.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};function wt(n){return n._eventDispatcher||(n._eventDispatcher=new Ze({scope:n,toggleEvent:function(e,t){t&&Ze.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&Ct(n))}})),n._eventDispatcher}function Ct(a){var e,t,n,l,i,r;function o(e){var t=a.getParentCtrl(e.target);t&&t.fire(e.type,e)}function s(){var e=l._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),l._lastHoverCtrl=null)}function u(e){var t,n,i,r=a.getParentCtrl(e.target),o=l._lastHoverCtrl,s=0;if(r!==o){if((n=(l._lastHoverCtrl=r).parents().toArray().reverse()).push(r),o){for((i=o.parents().toArray().reverse()).push(o),s=0;s<i.length&&n[s]===i[s];s++);for(t=i.length-1;s<=t;t--)(o=i[t]).fire("mouseleave",{target:o.getEl()})}for(t=s;t<n.length;t++)(r=n[t]).fire("mouseenter",{target:r.getEl()})}}function c(e){e.preventDefault(),"mousewheel"===e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),a.fire("wheel",e)}if(i=a._nativeEvents){for((n=a.parents().toArray()).unshift(a),e=0,t=n.length;!l&&e<t;e++)l=n[e]._eventsRoot;for(l=l||n[n.length-1]||a,a._eventsRoot=l,t=e,e=0;e<t;e++)n[e]._eventsRoot=l;var d=(d=l._delegates)||(l._delegates={});for(r in i){if(!i)return;"wheel"!==r||yt?("mouseenter"===r||"mouseleave"===r?l._hasMouseEnter||(_(l.getEl()).on("mouseleave",s).on("mouseover",u),l._hasMouseEnter=1):d[r]||(_(l.getEl()).on(r,o),d[r]=!0),i[r]=!1):bt?_(a.getEl()).on("mousewheel",c):_(a.getEl()).on("DOMMouseScroll",c)}}}p.each("text title visible disabled active value".split(" "),function(t){_t[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}});function kt(e){return!!e.getAttribute("data-mce-tabstop")}var Tt,k=Tt=e.extend(_t);function Et(e){var o,r,t=e.root;function n(e){return e&&1===e.nodeType}try{o=y.document.activeElement}catch(e){o=y.document.body}function s(e){return n(e=e||o)?e.getAttribute("role"):null}function a(e){for(var t,n=e||o;n=n.parentNode;)if(t=s(n))return t}function i(e){var t=o;return n(t)&&t.getAttribute("aria-"+e)}function l(e){e=e.tagName.toUpperCase();return"INPUT"===e||"TEXTAREA"===e||"SELECT"===e}function u(e){var r=[];return function e(t){if(1===t.nodeType&&"none"!==t.style.display&&!t.disabled){var n;(l(n=t)&&!n.hidden||kt(n)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(s(n)))&&r.push(t);for(var i=0;i<t.childNodes.length;i++)e(t.childNodes[i])}}(e||t.getEl()),r}function c(e){var t,n;(n=(e=e||r).parents().toArray()).unshift(e);for(var i=0;i<n.length&&!(t=n[i]).settings.ariaRoot;i++);return t}function d(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,t){var n=-1,i=c();t=t||u(i.getEl());for(var r=0;r<t.length;r++)t[r]===o&&(n=r);i.lastAriaIndex=d(n+=e,t)}function h(){"tablist"===a()?f(-1,u(o.parentNode)):r.parent().submenu?v():f(-1)}function p(){var e=s(),t=a();"tablist"===t?f(1,u(o.parentNode)):"menuitem"===e&&"menu"===t&&i("haspopup")?b():f(1)}function m(){f(-1)}function g(){var e=s(),t=a();"menuitem"===e&&"menubar"===t?b():"button"===e&&i("haspopup")?b({key:"down"}):f(1)}function v(){r.fire("cancel")}function b(e){r.fire("click",{target:o,aria:e=e||{}})}return r=t.getParentCtrl(o),t.on("keydown",function(e){function t(e,t){l(o)||kt(o)||"slider"!==s(o)&&!1!==t(e)&&e.preventDefault()}var n,i;if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,h);break;case 39:t(e,p);break;case 38:t(e,m);break;case 40:t(e,g);break;case 27:v();break;case 14:case 13:case 32:t(e,b);break;case 9:n=e,"tablist"===a()?(i=u(r.getEl("body"))[0])&&i.focus():f(n.shiftKey?-1:1),e.preventDefault()}}),t.on("focusin",function(e){o=e.target,r=e.control}),{focusFirst:function(e){var t=u((e=c(e)).getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?d(e.lastAriaIndex,t):d(0,t)}}}var St={},t=k.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new ft,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new nt(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=m.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=St[e]=St[e]||new lt(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n;if(!e||!(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return e=this.find("*"),this.statusbar&&e.add(this.statusbar.items()),e.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),this;n.focusFirst(this)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}0<=r&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return p.isArray(e)||(e=[e]),p.each(e,function(e){e&&(e instanceof k||(t=p.extend({},n.settings.defaults,e="string"==typeof e?{type:e}:e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=m.create(t)),i.push(e))}),i},renderNew:function(){var i=this;return i.items().each(function(e,t){var n;e.parent(i),e.state.get("rendered")||((n=i.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?_(n.childNodes[t]).before(e.renderHtml()):_(n).append(e.renderHtml()),e.postRender(),vt.add(e))}),i._layout.applyClasses(i.items().filter(":visible")),i._lastRect=null,i},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var i;return e=this.create(e),i=this.items(),!n&&t<i.length-1&&(t+=1),0<=t&&t<i.length&&(n=i.slice(0,t).toArray(),t=i.slice(t).toArray(),i.set(n.concat(e,t))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var n={};return this.find("*").each(function(e){var t=e.name(),e=e.value();t&&void 0!==e&&(n[t]=e)}),n},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=Et({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!==e.w||t.h!==e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(vt.remove(this),this.visible()){for(k.repaintControls=[],k.repaintControls.map={},this.recalc(),e=k.repaintControls.length;e--;)k.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),k.repaintControls=[]}return this}});function Dt(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function T(e,u){var c,d,f,h,p=u.document||y.document,m=(u=u||{},p.getElementById(u.handle||e)),e=function(e){t=p,n=Math.max,i=t.documentElement,t=t.body,a=n(i.scrollWidth,t.scrollWidth),s=n(i.clientWidth,t.clientWidth),l=n(i.offsetWidth,t.offsetWidth),r=n(i.scrollHeight,t.scrollHeight),o=n(i.clientHeight,t.clientHeight);var t,n,i,r,o,s,a,l={width:a<l?s:a,height:r<n(i.offsetHeight,t.offsetHeight)?o:r};Dt(e),e.preventDefault(),d=e.button,s=m,f=e.screenX,h=e.screenY,a=y.window.getComputedStyle?y.window.getComputedStyle(s,null).getPropertyValue("cursor"):s.runtimeStyle.cursor,c=_("<div></div>").css({position:"absolute",top:0,left:0,width:l.width,height:l.height,zIndex:2147483647,opacity:1e-4,cursor:a}).appendTo(p.body),_(p).on("mousemove touchmove",g).on("mouseup touchend",v),u.start(e)},g=function(e){if(Dt(e),e.button!==d)return v(e);e.deltaX=e.screenX-f,e.deltaY=e.screenY-h,e.preventDefault(),u.drag(e)},v=function(e){Dt(e),_(p).off("mousemove touchmove",g).off("mouseup touchend",v),c.remove(),u.stop&&u.stop(e)};this.destroy=function(){_(m).off()},_(m).on("mousedown touchstart",e)}var Nt,At,Pt,Rt,Ot={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var d=this;function n(){var u,c,e;function t(e,t,n,i,r,o){var s,a,l=d.getEl("scroll"+e);l&&(s=t.toLowerCase(),a=n.toLowerCase(),_(d.getEl("absend")).css(s,d.layoutRect()[i]-1),r?(_(l).css("display","block"),i=d.getEl("body"),r=d.getEl("scroll"+e+"t"),e=i["client"+n]-4,o=(e-=u&&c?l["client"+o]:0)/i["scroll"+n],(n={})[s]=i["offset"+t]+2,n[a]=e,_(l).css(n),(n={})[s]=i["scroll"+t]*o,n[a]=e*o,_(r).css(n)):_(l).css("display","none"))}e=d.getEl("body"),u=e.scrollWidth>e.clientWidth,c=e.scrollHeight>e.clientHeight,t("h","Left","Width","contentW",u,"Height"),t("v","Top","Height","contentH",c,"Width")}function e(r,o,s,a,l){var u,e=d._id+"-scroll"+r,t=d.classPrefix;_(d.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+r+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),d.draghelper=new T(e+"t",{start:function(){u=d.getEl("body")["scroll"+o],_("#"+e).addClass(t+"active")},drag:function(e){var t=d.layoutRect(),n=t.contentW>t.innerW,t=t.contentH>t.innerH,i=d.getEl("body")["client"+s]-4,n=(i-=n&&t?d.getEl("scroll"+r)["client"+l]:0)/d.getEl("body")["scroll"+s];d.getEl("body")["scroll"+o]=u+e["delta"+a]/n},stop:function(){_("#"+e).removeClass(t+"active")}})}d.settings.autoScroll&&(d._hasScroll||(d._hasScroll=!0,d.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height"),d.on("wheel",function(e){var t=d.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),_(d.getEl("body")).on("scroll",n)),n())}},It=t.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Ot],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),Bt={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){var n;return(e<=1||t<=1)&&(n=w.getWindowSize(),e=e<=1?e*n.w:e,t=t<=1?t*n.h:t),this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}},E=[],S=[];function Mt(e){for(var t=E.length;t--;){var n=E[t],i=n.getParentCtrl(e.target);!n.settings.autohide||i&&(function(e,t){for(;e;){if(e===t)return 1;e=e.parent()}}(i,n)||n.parent()===i)||(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}function Ft(r){var e=w.getViewPort().y;function t(e,t){for(var n,i=0;i<E.length;i++)if(E[i]!==r)for(n=E[i].parent();n=n&&n.parent();)n===r&&E[i].fixed(e).moveBy(0,t).repaint()}r.settings.autofix&&(r.state.get("fixed")?r._autoFixY>e&&(r.fixed(!1).layoutRect({y:r._autoFixY}).repaint(),t(!1,r._autoFixY-e)):(r._autoFixY=r.layoutRect().y,r._autoFixY<e&&(r.fixed(!0).layoutRect({y:0}).repaint(),t(!0,e-r._autoFixY))))}function Lt(e,t){var n,i,r=D.zIndex||65535;if(e)S.push(t);else for(n=S.length;n--;)S[n]===t&&S.splice(n,1);if(S.length)for(n=0;n<S.length;n++)S[n].modal&&(r++,i=S[n]),S[n].getEl().style.zIndex=r,S[n].zIndex=r,r++;e=_("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?_(e).css("z-index",i.zIndex-1):e&&(e.parentNode.removeChild(e),Rt=!1),D.currentZIndex=r}var D=It.extend({Mixins:[Je,Bt],init:function(e){var t,n,i,r=this;r._super(e),(r._eventsRoot=r).classes.add("floatpanel"),e.autohide&&(Nt||(Nt=function(e){2!==e.button&&Mt(e)},_(y.document).on("click touchstart",Nt)),Pt||(t=y.document.documentElement,n=t.clientWidth,i=t.clientHeight,Pt=function(){y.document.all&&n===t.clientWidth&&i===t.clientHeight||(n=t.clientWidth,i=t.clientHeight,D.hideAll())},_(y.window).on("resize",Pt)),E.push(r)),e.autofix&&(At||(At=function(){for(var e=E.length;e--;)Ft(E[e])},_(y.window).on("scroll",At)),r.on("move",function(){Ft(this)})),r.on("postrender show",function(e){var t,n;e.control===r&&(n=r.classPrefix,r.modal&&!Rt&&((t=_("#"+n+"modal-block",r.getContainerElm()))[0]||(t=_('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(r.getContainerElm())),u.setTimeout(function(){t.addClass(n+"in"),_(r.getEl()).addClass(n+"in")}),Rt=!0),Lt(!0,r))}),r.on("show",function(){r.parents().each(function(e){if(e.state.get("fixed"))return r.fixed(!0),!1})}),e.popover&&(r._preBodyHtml='<div class="'+r.classPrefix+'arrow"></div>',r.classes.add("popover").add("bottom").add(r.isRtl()?"end":"start")),r.aria("label",e.ariaLabel),r.aria("labelledby",r._id),r.aria("describedby",r.describedBy||r._id+"-none")},fixed:function(e){var t;return this.state.get("fixed")!==e&&(this.state.get("rendered")&&(t=w.getViewPort(),e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y),this.classes.toggle("fixed",e),this.state.set("fixed",e)),this},show:function(){for(var e=this._super(),t=E.length;t--&&E[t]!==this;);return-1===t&&E.push(this),e},hide:function(){return Ht(this),Lt(!1,this),this._super()},hideAll:function(){D.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),Lt(!1,this)),this},remove:function(){Ht(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function Ht(e){for(var t=E.length;t--;)E[t]===e&&E.splice(t,1);for(t=S.length;t--;)S[t]===e&&S.splice(t,1)}D.hideAll=function(){for(var e=E.length;e--;){var t=E[e];t&&t.settings.autohide&&(t.hide(),E.splice(e,1))}};var jt=function(o,t,e){function n(){s&&(s.show(),c(),l.addClass(o.getBody(),"mce-edit-focus"))}function i(){s&&(s.hide(),D.hideAll(),l.removeClass(o.getBody(),"mce-edit-focus"))}function r(){var e;s?s.visible()||n():(s=t.panel=m.create({type:a?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:(e=o,!(!a||e.settings.ui_container)),border:1,items:[!1===M(o)?null:{type:"menubar",border:"0 0 1 0",items:Be(o)},ye(o,F(o))]}),ge(o,s),f.fireBeforeRenderUI(o),(a?s.renderTo(a):s.renderTo()).reflow(),X(o,s),n(),_e(o),o.on("nodeChange",c),o.on("ResizeWindow",c),o.on("activate",n),o.on("deactivate",i),o.nodeChanged())}var s,a,l=d.DOM,u=o.getParam("fixed_toolbar_container"),c=(u&&(a=l.select(u)[0]),function(){var e,t,n,i,r;s&&s.moveRel&&s.visible()&&!s._fixed&&(n=o.selection.getScrollContainer(),e=o.getBody(),r=i=0,n&&(t=l.getPos(e),n=l.getPos(n),i=Math.max(0,n.x-t.x),r=Math.max(0,n.y-t.y)),s.fixed(!1).moveRel(e,o.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,r))});return o.settings.content_editable=!0,o.on("focus",function(){!1===L(o)&&e.skinUiCss?l.styleSheetLoader.load(e.skinUiCss,r,r):r()}),o.on("blur hide",i),o.on("remove",function(){s&&(s.remove(),s=null)}),!1===L(o)&&e.skinUiCss?l.styleSheetLoader.load(e.skinUiCss,Ue(o)):Ue(o)(),{}};function zt(i,r){var o,s,a=this,l=k.classPrefix;a.show=function(e,t){function n(){o&&(_(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),t&&t())}return a.hide(),o=!0,e?s=u.setTimeout(n,e):n(),a},a.hide=function(){var e=i.lastChild;return u.clearTimeout(s),e&&-1!==e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,a}}function Wt(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")}var qt=function(e,t){var n;e.on("ProgressState",function(e){n=n||new zt(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})},Ut=function(e,t,n){i=(o=e).settings,r=i.skin,i=i.skin_url,!1!==r&&(r=r||"lightgray",i=i?o.documentBaseURI.toAbsolute(i):q.baseURL+"/skins/"+r);var i,r,o=i;return o&&(n.skinUiCss=o+"/skin.min.css",e.contentCSS.push(o+"/content"+(e.inline?".inline":"")+".min.css")),qt(e,t),(e.getParam("inline",!1,"boolean")?jt:Ye)(e,t,n)},Vt=k.extend({Mixins:[Je],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e=this.getEl().style,t=this._layoutRect;e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),r=k.extend({init:function(n){var i=this;i._super(n),n=i.settings,i.canFocus=!0,n.tooltip&&!1!==r.tooltips&&(i.on("mouseenter",function(e){var t=i.tooltip().moveTo(-65535);e.control===i?(e=t.text(n.tooltip).show().testMoveRel(i.getEl(),["bc-tc","bc-tl","bc-tr"]),t.classes.toggle("tooltip-n","bc-tc"===e),t.classes.toggle("tooltip-nw","bc-tl"===e),t.classes.toggle("tooltip-ne","bc-tr"===e),t.moveRel(i.getEl(),e)):t.hide()}),i.on("mouseleave mousedown click",function(){i.tooltip().remove(),i._tooltip=null})),i.aria("label",n.ariaLabel||n.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Vt({type:"tooltip"}),ve(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){var t=this;function n(e){t.aria("disabled",e),t.classes.toggle("disabled",e)}function i(e){t.aria("pressed",e),t.classes.toggle("active",e)}return t.state.on("change:disabled",function(e){n(e.value)}),t.state.on("change:active",function(e){i(e.value)}),t.state.get("disabled")&&n(!0),t.state.get("active")&&i(!0),t._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),$t=r.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var t=this;function n(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}return t.state.on("change:value",function(e){n(e.value)}),n(t.state.get("value")),t._super()}}),Yt=k.extend({Mixins:[Je],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new $t),t.on("click",function(e){-1!==e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e,t=this,n=t.classPrefix,i="",r="",o="";return t.icon&&(i='<i class="'+n+"ico "+n+"i-"+t.icon+'"></i>'),e=' style="max-width: '+t.maxWidth+"px;"+(t.color?"background-color: "+t.color+';"':'"'),t.closeButton&&(r='<button type="button" class="'+n+'close" aria-hidden="true">Ã</button>'),t.progressBar&&(o=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+e+' role="presentation">'+i+'<div class="'+n+'notification-inner">'+t.state.get("text")+"</div>"+o+r+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return u.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),Wt(e,e.state.get("text"))},100),e._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().firstChild.innerHTML=e.value,Wt(t,e.value)}),t.progressBar&&(t.progressBar.bindStates(),t.progressBar.state.on("change:value",function(e){Wt(t,t.state.get("text"))})),t._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e=this.getEl().style,t=this._layoutRect;e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}});function Xt(i){var r=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(e,t){var e=p.extend(e,{maxWidth:(e=r(i),w.getSize(e).width)}),n=new Yt(e);return 0<(n.args=e).timeout&&(n.timer=setTimeout(function(){n.close(),t()},e.timeout)),n.on("close",function(){t()}),n.renderTo(),n},close:function(e){e.close()},reposition:function(e){var n,t;Se(e,function(e){e.moveTo(0,0)}),0<(n=e).length&&(e=n.slice(0,1)[0],t=r(i),e.moveRel(t,"tc-tc"),Se(n,function(e,t){0<t&&e.moveRel(n[t-1].getEl(),"bc-tc")}))},getArgs:function(e){return e.args}}}var i=[],Qt="";function Kt(e){var t,n=_("meta[name=viewport]")[0];!1!==x.overrideViewPort&&(n||((n=y.document.createElement("meta")).setAttribute("name","viewport"),y.document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==Qt&&(Qt=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Qt))}function Gt(e,t){!function(){for(var e=0;e<i.length;e++)if(i[e]._fullscreen)return 1;return}()||!1!==t||_([y.document.documentElement,y.document.body]).removeClass(e+"fullscreen")}var Jt,Zt=D.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new It({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(w.hasClass(e.target,t)||w.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.on("move",function(e){e.control===n&&D.hideAll()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(w.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e=this._super(),t=0,n=(this.settings.title&&!this._fullscreen&&(n=this.getEl("head"),n=w.getSize(n),e.headerW=n.width,e.headerH=n.height,t+=e.headerH),this.statusbar&&(t+=this.statusbar.layoutRect().h),e.deltaH+=t,e.minH+=t,e.h+=t,w.getWindowSize());return e.x=this.settings.x||Math.max(0,n.w/2-e.w/2),e.y=this.settings.y||Math.max(0,n.h/2-e.h/2),e},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",s="",a=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),void 0===(a=r.url?'<iframe src="'+r.url+'" tabindex="-1"></iframe>':a)&&(a=t.renderHtml(e)),e.statusbar&&(s=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+a+"</div>"+s+"</div></div>"},fullscreen:function(e){var n,t,i=this,r=y.document.documentElement,o=i.classPrefix;return e!==i._fullscreen&&(_(y.window).on("resize",function(){var e,t;i._fullscreen&&(n?i._timer||(i._timer=u.setTimeout(function(){var e=w.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0},50)):(e=(new Date).getTime(),t=w.getWindowSize(),i.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)))}),t=i.layoutRect(),(i._fullscreen=e)?(i._initial={x:t.x,y:t.y,w:t.w,h:t.h},i.borderBox=a("0"),i.getEl("head").style.display="none",t.deltaH-=t.headerH+2,_([r,y.document.body]).addClass(o+"fullscreen"),i.classes.add("fullscreen"),e=w.getWindowSize(),i.moveTo(0,0).resizeTo(e.w,e.h)):(i.borderBox=a(i.settings.border),i.getEl("head").style.display="",t.deltaH+=t.headerH,_([r,y.document.body]).removeClass(o+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h))),i.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new T(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),i.push(n),Kt(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),Gt(this.classPrefix,!1),e=i.length;e--;)i[e]===this&&i.splice(e,1);Kt(0<i.length)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}}),N=(x.desktop||(Jt={w:y.window.innerWidth,h:y.window.innerHeight},u.setInterval(function(){var e=y.window.innerWidth,t=y.window.innerHeight;Jt.w===e&&Jt.h===t||(Jt={w:e,h:t},_(y.window).trigger("resize"))},100)),_(y.window).on("resize",function(){for(var e,t=w.getWindowSize(),n=0;n<i.length;n++)e=i[n].layoutRect(),i[n].moveTo(i[n].settings.x||Math.max(0,t.w/2-e.w/2),i[n].settings.y||Math.max(0,t.h/2-e.h/2))}),Zt.extend({init:function(e){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var t,i=e.callback||function(){};function n(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),i(t)}}}switch(e.buttons){case N.OK_CANCEL:t=[n("Ok",!0,!0),n("Cancel",!1)];break;case N.YES_NO:case N.YES_NO_CANCEL:t=[n("Yes",1,!0),n("No",0)],e.buttons===N.YES_NO_CANCEL&&t.push(n("Cancel",-1));break;default:t=[n("Ok",!0,!0)]}return new Zt({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:t,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){i(!1)}}).renderTo(y.document.body).reflow()},alert:function(e,t){return(e="string"==typeof e?{text:e}:e).callback=t,N.msgBox(e)},confirm:function(e,t){return(e="string"==typeof e?{text:e}:e).callback=t,e.buttons=N.OK_CANCEL,N.msgBox(e)}}}));function en(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:c(e)}}function tn(){return An(0,0)}function nn(e){var t=e.current;return{current:t,version:e.version,isEdge:R(On,t),isChrome:R(In,t),isIE:R(Bn,t),isOpera:R(Mn,t),isFirefox:R(Fn,t),isSafari:R(Ln,t)}}function rn(e){var t=e.current;return{current:t,version:e.version,isWindows:O(zn,t),isiOS:O(Wn,t),isAndroid:O(qn,t),isOSX:O(Vn,t),isLinux:O(Un,t),isSolaris:O($n,t),isFreeBSD:O(Yn,t)}}function on(e,t){var n=String(t).toLowerCase();return Ne(e,function(e){return e.search(n)})}function A(e,t){return-1!==e.indexOf(t)}function P(t){return function(e){return A(e,t)}}var sn=function(n){return{renderUI:function(e){return Ut(n,this,e)},resizeTo:function(e,t){return Fe(n,e,t)},resizeBy:function(e,t){return Le(n,e,t)},getNotificationManagerImpl:function(){return Xt(n)},getWindowManagerImpl:function(){return{open:function(n,e,t){var i;return n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),(i=new Zt(n)).on("close",function(){t(i)}),n.data&&i.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),i.features=n||{},i.params=e||{},i=i.renderTo(y.document.body).reflow()},alert:function(e,t,n){var i=N.alert(e,function(){t()});return i.on("close",function(){n(i)}),i},confirm:function(e,t,n){var i=N.confirm(e,function(e){t(e)});return i.on("close",function(){n(i)}),i},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}}},an=e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=p.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i=this.settings,r=i.firstControlClass,o=i.lastControlClass;e.each(function(e){e.classes.remove(r).remove(o).add(i.controlClass),e.visible()&&(t=t||e,n=e)}),t&&t.classes.add(r),n&&n.classes.add(o)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),ln=an.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),un=r.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e=this.getEl().firstChild;e&&((e=e.style).width=e.height="100%"),this._super()},renderHtml:function(){var e=this._id,t=this.classPrefix,n=this.state.get("icon"),i=this.state.get("text"),r="",o=this.settings,s=o.image;return s=s?(n="none"," style=\"background-image: url('"+(s="string"!=typeof s?y.window.getSelection?s[0]:s[1]:s)+"')\""):"",i&&(this.classes.add("btn-has-text"),r='<span class="'+t+'txt">'+this.encode(i)+"</span>"),i="boolean"==typeof o.active?' aria-pressed="'+o.active+'"':"",'<div id="'+e+'" class="'+this.classes+'" tabindex="-1"'+i+'><button id="'+e+'-button" role="presentation" type="button" tabindex="-1">'+((n=n?t+"ico "+t+"i-"+n:"")?'<i class="'+n+'"'+s+"></i>":"")+r+"</button></div>"},bindStates:function(){var i=this,n=i.$,r=i.classPrefix+"txt";function o(e){var t=n("span."+r,i.getEl());e?(t[0]||(n("button:first",i.getEl()).append('<span class="'+r+'"></span>'),t=n("span."+r,i.getEl())),t.html(i.encode(e))):t.remove(),i.classes.toggle("btn-has-text",!!e)}return i.state.on("change:text",function(e){o(e.value)}),i.state.on("change:icon",function(e){var e=e.value,t=i.classPrefix,t=(e=(i.settings.icon=e)?t+"ico "+t+"i-"+i.settings.icon:"",i.getEl().firstChild),n=t.getElementsByTagName("i")[0];e?(n&&n===t.firstChild||(n=y.document.createElement("i"),t.insertBefore(n,t.firstChild)),n.className=e):n&&t.removeChild(n),o(i.state.get("text"))}),i._super()}}),cn=un.extend({init:function(e){e=p.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var n=this,t=w.create("input",{type:"file",id:n._id+"-browse",accept:n.settings.accept});n._super(),_(t).on("change",function(e){var t=e.target.files;n.value=function(){return t.length?n.settings.multiple?t:t[0]:null},e.preventDefault(),t.length&&n.fire("change",e)}),_(t).on("click",function(e){e.stopPropagation()}),_(n.getEl("button")).on("click touchstart",function(e){e.stopPropagation(),t.click(),e.preventDefault()}),n.getEl().appendChild(t)},remove:function(){_(this.getEl("button")).off(),_(this.getEl("input")).off(),this._super()}}),dn=t.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}}),fn=r.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){var i=this;function t(e){i.classes.toggle("checked",e),i.aria("checked",e)}return i.state.on("change:text",function(e){i.getEl("al").firstChild.data=i.translate(e.value)}),i.state.on("change:checked change:value",function(e){i.fire("change"),t(e.value)}),i.state.on("change:icon",function(e){var e=e.value,t=i.classPrefix;if(void 0===e)return i.settings.icon;var e=(i.settings.icon=e)?t+"ico "+t+"i-"+i.settings.icon:"",t=i.getEl().firstChild,n=t.getElementsByTagName("i")[0];e?(n&&n===t.firstChild||(n=y.document.createElement("i"),t.insertBefore(n,t.firstChild)),n.className=e):n&&t.removeChild(n)}),i.state.get("checked")&&t(!0),i._super()}}),hn=tinymce.util.Tools.resolve("tinymce.util.VK"),pn=r.extend({init:function(i){var r=this;r._super(i),i=r.settings,r.classes.add("combobox"),r.subinput=!0,r.ariaTarget="inp",i.menu=i.menu||i.values,i.menu&&(i.icon="caret"),r.on("click",function(e){var t=e.target,n=r.getEl();if(_.contains(n,t)||t===n)for(;t&&t!==n;)t.id&&-1!==t.id.indexOf("-open")&&(r.fire("action"),i.menu&&(r.showMenu(),e.aria&&r.menu.items()[0].focus())),t=t.parentNode}),r.on("keydown",function(e){var t;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),r.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),r.fire("submit",{data:t.toJSON()}))}),r.on("keyup",function(e){var t,n;"INPUT"===e.target.nodeName&&(t=r.state.get("value"),(n=e.target.value)!==t&&(r.state.set("value",n),r.fire("autocomplete",e)))}),r.on("mouseover",function(e){var t,n=r.tooltip().moveTo(-65535);r.statusLevel()&&-1!==e.target.className.indexOf(r.classPrefix+"status")&&(t=r.statusMessage()||"Ok",t=n.text(t).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]),n.classes.toggle("tooltip-n","bc-tc"===t),n.classes.toggle("tooltip-nw","bc-tl"===t),n.classes.toggle("tooltip-ne","bc-tr"===t),n.moveRel(e.target,t))})},statusLevel:function(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var t=this,e=t.settings;t.menu||((e=e.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=m.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t=this.getEl(),n=this.getEl("open"),i=this.layoutRect(),r=0,t=t.firstChild,i=(this.statusLevel()&&"none"!==this.statusLevel()&&(r=parseInt(w.getRuntimeStyle(t,"padding-right"),10)-parseInt(w.getRuntimeStyle(t,"padding-left"),10)),n=n?i.w-w.getSize(n).width-10:i.w-10,y.document);return i.all&&(!i.documentMode||i.documentMode<=8)&&(e=this.layoutRect().h-2+"px"),_(t).css({width:n-r,lineHeight:e}),this._super(),this},postRender:function(){var t=this;return _(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n,i=this,r=i._id,o=i.settings,s=i.classPrefix,a=i.state.get("value")||"",l="",u="";return"spellcheck"in o&&(u+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(u+=' maxlength="'+o.maxLength+'"'),o.size&&(u+=' size="'+o.size+'"'),o.subtype&&(u+=' type="'+o.subtype+'"'),n='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',i.disabled()&&(u+=' disabled="disabled"'),(e=o.icon)&&"caret"!==e&&(e=s+"ico "+s+"i-"+o.icon),t=i.state.get("text"),(e||t)&&(l='<div id="'+r+'-open" class="'+s+"btn "+s+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+s+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",i.classes.add("has-open")),'<div id="'+r+'" class="'+i.classes+'"><input id="'+r+'-inp" class="'+s+'textbox" value="'+i.encode(a,!1)+'" hidefocus="1"'+u+' placeholder="'+i.encode(o.placeholder)+'" />'+n+l+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,i){var r=this;0===e.length?r.hideMenu():(r.menu?r.menu.items().remove():r.menu=m.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(r).renderTo(),p.each(e,function(e){var t,n;r.menu.add({text:e.title,url:e.previewUrl,match:i,classes:"menu-item-ellipsis",onclick:(t=e.value,n=e.title,function(){r.fire("selectitem",{title:n,value:t})})})}),r.menu.renderNew(),r.hideMenu(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()}),e=r.layoutRect().w,r.menu.layoutRect({w:e,minW:0,maxW:e}),r.menu.repaint(),r.menu.reflow(),r.menu.show(),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){function n(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus()}var i=this;i.state.on("change:value",function(e){i.getEl("inp").value!==e.value&&(i.getEl("inp").value=e.value)}),i.state.on("change:disabled",function(e){i.getEl("inp").disabled=e.value}),i.state.on("change:statusLevel",function(e){var t=i.getEl("status"),n=i.classPrefix,e=e.value;w.css(t,"display","none"===e?"none":""),w.toggleClass(t,n+"i-checkmark","ok"===e),w.toggleClass(t,n+"i-warning","warn"===e),w.toggleClass(t,n+"i-error","error"===e),i.classes.toggle("has-status","none"!==e),i.repaint()}),w.on(i.getEl("status"),"mouseleave",function(){i.tooltip().hide()}),i.on("cancel",function(e){i.menu&&i.menu.visible()&&(e.stopPropagation(),i.hideMenu())});return i.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===hn.DOWN?(e.preventDefault(),i.fire("autocomplete"),n(0,i.menu)):t===hn.UP&&(e.preventDefault(),n(-1,i.menu)))}),i._super()},remove:function(){_(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),mn=pn.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),t=t?t.getElementsByTagName("i")[0]:null;if(t)try{t.style.background=e}catch(e){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}}),gn=un.extend({showPanel:function(){var t=this,e=t.settings,n=(t.classes.add("opened"),t.panel?t.panel.show():((n=(n=e.panel).type?{layout:"grid",items:n}:n).role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new D(n).on("hide",function(){t.classes.remove("opened")}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()),t.panel.testMoveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"]))),e=(t.panel.classes.toggle("start","l"===n.substr(-1)),t.panel.classes.toggle("end","r"===n.substr(-1)),"t"===n.substr(0,1));t.panel.classes.toggle("bottom",!e),t.panel.classes.toggle("top",e),t.panel.moveRel(t.getEl(),n)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),vn=d.DOM,bn=gn.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",s="";return i&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"===e.aria.key||e.control!==t||vn.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}}),yn=tinymce.util.Tools.resolve("tinymce.util.Color"),xn=r.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){var t,n,i,r,o,s=this,a=s.color();function l(e,t){var n=w.getPos(e),i=t.pageX-n.x,t=t.pageY-n.y;return{x:Math.max(0,Math.min(i/e.clientWidth,1)),y:Math.max(0,Math.min(t/e.clientHeight,1))}}function u(e,t){var n=(360-e.h)/360;w.css(i,{top:100*n+"%"}),t||w.css(o,{left:e.s+"%",top:100-e.v+"%"}),r.style.background=yn({s:100,v:100,h:e.h}).toHex(),s.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){e=l(r,e);t.s=100*e.x,t.v=100*(1-e.y),u(t),s.fire("change")}function c(e){e=l(n,e);(t=a.toHsv()).h=360*(1-e.y),u(t,!0),s.fire("change")}n=s.getEl("h"),i=s.getEl("hp"),r=s.getEl("sv"),o=s.getEl("svp"),s._repaint=function(){u(t=a.toHsv())},s._super(),s._svdraghelper=new T(s._id+"-sv",{start:e,drag:e}),s._hdraghelper=new T(s._id+"-h",{start:c,drag:c}),s._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=yn()),this._color},renderHtml:function(){var e=this._id,o=this.classPrefix,s="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";var t='<div id="'+e+'-h" class="'+o+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+function(){for(var e="",t="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",n=s.split(","),i=0,r=n.length-1;i<r;i++)e+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/r+"%;"+t+n[i]+",endColorstr="+n[i+1]+");-ms-"+t+n[i]+",endColorstr="+n[i+1]+')"></div>';return e}()+'<div id="'+e+'-hp" class="'+o+'colorpicker-h-marker"></div></div>';return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+e+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}}),_n=r.extend({init:function(e){e=p.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e=this.settings,t={id:this._id,hidefocus:"1"},t=w.create("div",t,"<span>"+this.translate(e.text)+"</span>");return e.height&&w.css(t,"height",e.height+"px"),e.width&&w.css(t,"width",e.width+"px"),t.className=this.classes,t.outerHTML},postRender:function(){function e(e){e.preventDefault(),o.classes.toggle("dragenter"),o.getEl().className=o.classes}var o=this;o._super(),o.$el.on("dragover",function(e){e.preventDefault()}),o.$el.on("dragenter",e),o.$el.on("dragleave",e),o.$el.on("drop",function(e){var t,n,i,r;e.preventDefault(),o.state.get("disabled")||(n=e.dataTransfer.files,t="string"!=typeof(r=o.settings.accept)?n:(i=new RegExp("("+r.split(/\s*,\s*/).join("|")+")$","i"),p.grep(n,function(e){return i.test(e.name)})),o.value=function(){return t.length?o.settings.multiple?t:t[0]:null},t.length&&o.fire("change",e))})},remove:function(){this.$el.off(),this._super()}}),wn=r.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="Â»"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){(e=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[e],index:e})}),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){for(var t=e||[],n="",i=this.classPrefix,r=0,o=t.length;r<o;r++)n+=(0<r?'<div class="'+i+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+i+"path-item"+(r===o-1?" "+i+"last":"")+'" data-index="'+r+'" tabindex="-1" id="'+this._id+"-"+r+'" aria-level="'+(r+1)+'">'+t[r].name+"</div>";return n=n||'<div class="'+i+'path-item">Â </div>'}}),Cn=wn.extend({postRender:function(){var o=this,s=o.settings.editor;return!1!==s.settings.elementpath&&(o.on("select",function(e){s.focus(),s.selection.select(this.row()[e.index].element),s.nodeChanged()}),s.on("nodeChange",function(e){for(var t=[],n=e.parents,i=n.length;i--;)if(1===n[i].nodeType&&!function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return 1;if("bookmark"===e.getAttribute("data-mce-type"))return 1}}(n[i])){var r=s.fire("ResolveName",{name:n[i].nodeName.toLowerCase(),target:n[i]});if(r.isDefaultPrevented()||t.push({name:r.name,element:n[i]}),r.isPropagationStopped())break}o.row(t)})),o._super()}}),kn=t.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),Tn=t.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var n=this,e=n.items();n.settings.formItemDefaults||(n.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t=e.settings.label;t&&((t=new kn(p.extend({items:{type:"label",id:e._id+"-l",text:t,flex:0,forId:e._id,disabled:e.disabled()}},n.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),n.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var r=this;function e(){var e,t,n=0,i=[];if(!1!==r.settings.labelGapCalc)for(("children"===r.settings.labelGapCalc?r.find("formitem"):r.items()).filter("formitem").each(function(e){var e=e.items()[0],t=e.getEl().clientWidth;n=n<t?t:n,i.push(e)}),t=r.settings.labelGap||0,e=i.length;e--;)i[e].settings.minWidth=n+t}r._super(),r.on("show",e),e()}}),En=Tn.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),Sn=0,Dn={fromHtml:function(e,t){t=(t||y.document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw y.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return en(t.childNodes[0])},fromTag:function(e,t){t=(t||y.document).createElement(e);return en(t)},fromText:function(e,t){t=(t||y.document).createTextNode(e);return en(t)},fromDom:en,fromPoint:function(e,t,n){e=e.dom();return pe(e.elementFromPoint(t,n)).map(en)}},ht=(y.Node.ATTRIBUTE_NODE,y.Node.CDATA_SECTION_NODE,y.Node.COMMENT_NODE,y.Node.DOCUMENT_NODE),e=(y.Node.DOCUMENT_TYPE_NODE,y.Node.DOCUMENT_FRAGMENT_NODE,y.Node.ELEMENT_NODE),Nn=(y.Node.TEXT_NODE,y.Node.PROCESSING_INSTRUCTION_NODE,y.Node.ENTITY_REFERENCE_NODE,y.Node.ENTITY_NODE,y.Node.NOTATION_NODE,void 0!==y.window?y.window:Function("return this;")(),function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}),An=function(e,t){return{major:e,minor:t}},Pn=function(e,t){var n,i,t=String(t).toLowerCase();return 0===e.length?tn():(i=Nn(e=e,n=t))?An((e=function(e){return Number(n.replace(i,"$"+e))})(1),e(2)):{major:0,minor:0}},Rn=tn,On="Edge",In="Chrome",Bn="IE",Mn="Opera",Fn="Firefox",Ln="Safari",R=function(e,t){return function(){return t===e}},Hn=function(){return nn({current:void 0,version:Rn()})},jn=nn,zn=(c(On),c(In),c(Bn),c(Mn),c(Fn),c(Ln),"Windows"),Wn="iOS",qn="Android",Un="Linux",Vn="OSX",$n="Solaris",Yn="FreeBSD",O=function(e,t){return function(){return t===e}},Xn=function(){return rn({current:void 0,version:Rn()})},Qn=rn,Kn=(c(zn),c(Wn),c(qn),c(Un),c(Vn),c($n),c(Yn),function(e,n){return on(e,n).map(function(e){var t=Pn(e.versionRegexes,n);return{current:e.name,version:t}})}),Gn=function(e,n){return on(e,n).map(function(e){var t=Pn(e.versionRegexes,n);return{current:e.name,version:t}})},Jn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Jn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return A(e,"edge/")&&A(e,"chrome")&&A(e,"safari")&&A(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Jn],search:function(e){return A(e,"chrome")&&!A(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return A(e,"msie")||A(e,"trident")}},{name:"Opera",versionRegexes:[Jn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:P("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:P("firefox")},{name:"Safari",versionRegexes:[Jn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(A(e,"safari")||A(e,"mobile/"))&&A(e,"applewebkit")}}],Zn=[{name:"Windows",search:P("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return A(e,"iphone")||A(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:P("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:P("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:P("linux"),versionRegexes:[]},{name:"Solaris",search:P("sunos"),versionRegexes:[]},{name:"FreeBSD",search:P("freebsd"),versionRegexes:[]}],ei={browsers:c(Jn),oses:c(Zn)},ti=function(e){var t,n,i,r,o,s,a,l=ei.browsers(),u=ei.oses(),l=Kn(l,e).fold(Hn,jn),u=Gn(u,e).fold(Xn,Qn),e=(n=l,e=e,i=(t=u).isiOS()&&!0===/ipad/i.test(e),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,o=i||o||s&&!0===/mobile/i.test(e),s=t.isiOS()||t.isAndroid(),a=s&&!o,n=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),{isiPad:c(i),isiPhone:c(r),isTablet:c(o),isPhone:c(a),isTouch:c(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:c(n)});return{browser:l,os:u,deviceType:e}};ki=!(wi=function(){var e=y.navigator.userAgent;return ti(e)});function ni(e){return e.nodeType!==Ti&&e.nodeType!==Ei||0===e.childElementCount}function ii(e,t){return e=void 0===e?y.document:e.dom(),ni(e)?[]:l(e.querySelectorAll(t),Dn.fromDom)}function ri(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}function oi(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}}function si(e){return e.innerText||e.textContent}function ai(e){return e.id||(e="h",t=(new Date).getTime(),e+"_"+Math.floor(1e9*Math.random())+ ++Sn+String(t));var t}function li(e){return e&&/^(H[1-6])$/.test(e.nodeName)}function ui(e){return Ai(e)&&!Ni(e)}function ci(e){return 0<Si(e.title).length}function di(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}}function fi(e,n,t,i){function r(e){return e=e.hasOwnProperty(t)?e[t]:[],e=h(e,function(e){return ji(e,n)}),p.map(e,function(e){return{title:e,value:{title:e,url:e,attach:Q}}})}function o(t){var e=h(n,function(e){return e.type===t});return Li(e)}var s,a,l={title:"-"};return!1===i.typeahead_urls?[]:"file"===t?(a=[Wi(e,r(I)),Wi(e,o("header")),Wi(e,(s=o("anchor"),a=zi(i,"anchor_top","#top"),i=zi(i,"anchor_bottom","#bottom"),null!==a&&s.unshift(Hi("<top>",a)),null!==i&&s.push(Hi("<bottom>",i)),s))],De(a,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(l,t)},[])):Wi(e,r(I))}function hi(i,n,r,o){function t(e){var t=Mi(r),t=fi(e,t,o,n);i.showAutoComplete(t,e)}i.on("autocomplete",function(){t(i.value())}),i.on("selectitem",function(e){var e=e.value,t=(i.value(e.url),function(e){e=e.title;return e.raw||e}(e));"image"===o?i.fire("change",{meta:{alt:t,attach:e.attach}}):i.fire("change",{meta:{text:t,attach:e.attach}}),i.focus()}),i.on("click",function(e){0===i.value().length&&"INPUT"===e.target.nodeName&&t("")}),i.on("PostRender",function(){i.getRoot().on("submit",function(e){var t,n;e.isDefaultPrevented()||(e=i.value(),n=I[t=o],/^https?/.test(e)&&(n?Ee(n,e).isNone()&&(I[t]=n.slice(0,Fi).concat(e)):I[t]=[e]))})})}function pi(n,e,t){var i,r=e.filepicker_validator_handler;r&&(i=function(e){0===e.length?n.statusLevel("none"):r({url:e,type:t},function(e){t=(e=e).status,e=e.message;var t="valid"===t?{status:"ok",message:e}:"unknown"===t||"invalid"===t?{status:"warn",message:e}:{status:"none",message:""};n.statusMessage(t.message),n.statusLevel(t.status)})},n.state.on("change:value",function(e){i(e.value)}))}function mi(e,n){return function(t){Xi(e,n,function(e){t.control.active(e)})}}function gi(e){return e?e.split(",")[0]:""}function vi(e,t){return/[0-9.]+px$/.test(e)?function(e,t){t=Math.pow(10,t);return Math.round(e*t)/t}(72*parseInt(e,10)/96,t||0)+"pt":e}function bi(n,e){var i=e.length;return p.each(e,function(e){e.menu&&(e.hidden=0===bi(n,e.menu));var t=e.format;t&&(e.hidden=!n.formatter.canApply(t)),e.hidden&&i--}),i}function yi(t,e){var n;if("string"==typeof e)n=e.split(" ");else if(p.isArray(e)){for(var i=p.map(e,function(e){return yi(t,e)}),r=[],o=0,s=i.length;o<s;++o){if(!we(i[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+i);Te.apply(r,i[o])}return r}return e=p.grep(n,function(e){return"|"===e||e in t.menuItems}),p.map(e,function(e){return"|"===e?{text:"-"}:t.menuItems[e]})}function xi(e){return e&&"-"===e.text}function _i(n){var i=h(n,function(e,t){return!xi(e)||!xi(n[t-1])});return h(i,function(e,t){return!xi(e)||0<t&&t<i.length-1})}var wi,Ci,ki,Ti=e,Ei=ht,Si=({detect:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ki||(ki=!0,Ci=wi.apply(null,e)),Ci}}.detect().browser.isIE(),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}("element","offset"),p.trim),Di=ri("true"),Ni=ri("false"),Ai=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Di(e)}return!1},Pi=function(e,t){return l(ii(Dn.fromDom(t),e),function(e){return e.dom()})},Ri=function(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&ui(e);var t},Oi=function(e){return li(e)&&ui(e)},Ii=function(e){var t,n=ai(e);return oi("header",si(e),"#"+n,li(t=e)?parseInt(t.nodeName.substr(1),10):0,function(){e.id=n})},Bi=function(e){var t=e.id||e.name,e=si(e);return oi("anchor",e||"#"+t,"#"+t,0,Q)},Mi=function(e){e=Pi("h1,h2,h3,h4,h5,h6,a:not([href])",e);return h(l(h(e,Oi),Ii).concat(l(h(e,Ri),Bi)),ci)},I={},Fi=5,Li=function(e){return p.map(e,di)},Hi=function(e,t){return{title:e,value:{title:e,url:t,attach:Q}}},ji=function(t,e){return!ae(e,function(e){return e.url===t})},zi=function(e,t,n){e=t in e?e[t]:n;return!1===e?null:e},Wi=function(e,t){var n=e.toLowerCase(),t=p.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===t.length&&t[0].title===e?[]:t},qi=pn.extend({Statics:{clearHistory:function(){I={}}},init:function(e){var t,n,i,r=this,o=(window.tinymce||q).activeEditor,s=o.settings,a=e.filetype;e.spellcheck=!1,(i=(i=s.file_picker_types||s.file_browser_callback_types)&&p.makeMap(i,/[, ]/))&&!i[a]||(!(n=s.file_picker_callback)||i&&!i[a]?!(n=s.file_browser_callback)||i&&!i[a]||(t=function(){n(r.getEl("inp").id,r.value(),a,window)}):t=function(){var e=r.fire("beforecall").meta,e=p.extend({filetype:a},e);n.call(o,function(e,t){r.value(e).fire("change",{meta:t})},r.value(),e)}),t&&(e.icon="browse",e.onaction=t),r._super(e),r.classes.add("filepicker"),hi(r,s,o.getBody(),a),pi(r,s,a)}}),Ui=ln.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}}),Vi=ln.extend({recalc:function(e){var t,n,i,r,o,s,a,l,M,u,c,d,f,h,p,m,g,v,b,y,x,_,w,C,k,T,E,S,D=[],N=Math.max,F=Math.min,A=e.items().filter(":visible"),P=e.layoutRect(),R=e.paddingBox,O=e.settings,I=e.isRtl()?O.direction||"row-reversed":O.direction,B=O.align,L=e.isRtl()?O.pack||"end":O.pack,H=O.spacing||0;for("row-reversed"!==I&&"column-reverse"!==I||(A=A.set(A.toArray().reverse()),I=I.split("-")[0]),O="column"===I?(m="y",h="h",p="minH",g="maxH",b="innerH",v="top",y="deltaH",x="contentH",T="left",C="w",_="x",w="innerW",k="minW",E="right",S="deltaW","contentW"):(m="x",h="w",p="minW",g="maxW",b="innerW",v="left",y="deltaW",x="contentW",T="top",C="h",_="y",w="innerH",k="minH",E="bottom",S="deltaH","contentH"),r=P[b]-R[v]-R[v],t=f=i=0,n=A.length;t<n;t++)s=(o=A[t]).layoutRect(),r-=t<n-1?H:0,0<(a=o.settings.flex)&&(i+=a,s[g]&&D.push(o),s.flex=a),r-=s[p],f<(l=R[T]+s[k]+R[E])&&(f=l);if((c={})[p]=r<0?P[p]-r+P[y]:P[b]-r+P[y],c[k]=f+P[S],c[x]=P[b]-r,c[O]=f,c.minW=F(c.minW,P.maxW),c.minH=F(c.minH,P.maxH),c.minW=N(c.minW,P.startMinWidth),c.minH=N(c.minH,P.startMinHeight),!P.autoResize||c.minW===P.minW&&c.minH===P.minH){for(u=r/i,t=0,n=D.length;t<n;t++)(M=(s=(o=D[t]).layoutRect())[g])<(l=s[p]+s.flex*u)?(r-=s[g]-s[p],i-=s.flex,s.flex=0,s.maxFlexSize=M):s.maxFlexSize=0;for(u=r/i,d=R[v],c={},0===i&&("end"===L?d=r+R[v]:"center"===L?(d=Math.round(P[b]/2-(P[b]-r)/2)+R[v])<0&&(d=R[v]):"justify"===L&&(d=R[v],H=Math.floor(r/(A.length-1)))),c[_]=R[T],t=0,n=A.length;t<n;t++)l=(s=(o=A[t]).layoutRect()).maxFlexSize||s[p],"center"===B?c[_]=Math.round(P[w]/2-s[C]/2):"stretch"===B?(c[C]=N(s[k]||0,P[w]-R[T]-R[E]),c[_]=R[T]):"end"===B&&(c[_]=P[w]-s[C]-R.top),0<s.flex&&(l+=s.flex*u),c[h]=l,c[m]=d,o.layoutRect(c),o.recalc&&o.recalc(),d+=l+H}else c.w=c.minW,c.h=c.minH,e.layoutRect(c),this.recalc(e),null===e._lastRect&&(I=e.parent())&&(I._lastRect=null,I.recalc())}}),$i=an.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),Yi=function(e,t){return e=void 0===e?y.document:e.dom(),ni(e)?s():pe(e.querySelector(t)).map(Dn.fromDom)},B=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},Xi=function(e,t,n){function i(e){n(e,t)}e.formatter?e.formatter.formatChanged(t,i):e.on("init",function(){e.formatter.formatChanged(t,i)})},Qi=function(i){var t=["alignleft","aligncenter","alignright","alignjustify"],e=[{text:"Left",icon:"alignleft",onclick:B(i,"alignleft")},{text:"Center",icon:"aligncenter",onclick:B(i,"aligncenter")},{text:"Right",icon:"alignright",onclick:B(i,"alignright")},{text:"Justify",icon:"alignjustify",onclick:B(i,"alignjustify")}];i.addMenuItem("align",{text:"Align",menu:e}),i.addButton("align",{type:"menubutton",icon:"alignleft",menu:e,onShowMenu:function(e){var n=e.control.menu;p.each(t,function(t,e){n.items().eq(e).each(function(e){return e.active(i.formatter.match(t))})})},onPostRender:function(e){var n=e.control;p.each(t,function(t,e){Xi(i,t,function(e){n.icon("alignleft"),e&&n.icon(t)})})}}),p.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){i.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:mi(i,t)})})},Ki=function(a,l){return function(){var s=this;s.state.set("value",null),a.on("init nodeChange",function(e){var t,n,i,r=a.queryCommandValue("FontName"),o=(t=l,i=(o=r)?o.toLowerCase():"",p.each(t,function(e){e.value.toLowerCase()===i&&(n=e.value)}),p.each(t,function(e){n||gi(e.value).toLowerCase()!==gi(i).toLowerCase()||(n=e.value)}),n);s.value(o||null),!o&&r&&s.text(gi(r))})}},Gi=function(e){e=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return p.map(e,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}})},Ji=function(e){var t;(t=e).addButton("fontselect",function(){var e=Gi(t);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:e,fixedWidth:!0,onPostRender:Ki(t,e),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}})},Zi=function(s,a){return function(){var o=this;s.on("init nodeChange",function(e){var t,n,i,r=s.queryCommandValue("FontSize");if(r)for(n=3;!i&&0<=n;n--)t=vi(r,n),i=function(e,t,n){var i;return p.each(e,function(e){e.value===n?i=n:e.value===t&&(i=t)}),i}(a,t,r);o.value(i||null),i||o.text(t)})}},er=function(e){e=e.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return p.map(e.split(" "),function(e){var t=e,n=e,e=e.split("=");return 1<e.length&&(t=e[0],n=e[1]),{text:t,value:n}})},tr=function(e){var t;(t=e).addButton("fontsizeselect",function(){var e=er(t);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:Zi(t,e),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}})},nr=function(n,e){var i=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<nr(n,e.menu)),!e.menu&&e.settings.menu&&e.visible(0<bi(n,e.settings.menu));var t=e.settings.format;t&&e.visible(n.formatter.canApply(t)),e.visible()||i--}),i},ir=function(e){r=0,o=[],i=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],s=function(e){var i=[];if(e)return p.each(e,function(e){var t,n={text:e.title,icon:e.icon};e.items?n.menu=s(e.items):(t=e.format||"custom"+r++,e.format||(e.name=t,o.push(e)),n.format=t,n.cmd=e.cmd),i.push(n)}),i},(n=e).on("init",function(){p.each(o,function(e){n.formatter.register(e.name,e)})});var n,r,o,s,t,i={type:"menu",items:n.settings.style_formats_merge?n.settings.style_formats?s(i.concat(n.settings.style_formats)):s(i):s(n.settings.style_formats||i),onPostRender:function(e){n.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return n.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var e=t.settings.format;e&&(t.disabled(!n.formatter.canApply(e)),t.active(n.formatter.match(e))),(e=t.settings.cmd)&&t.active(n.queryCommandState(e))})},onclick:function(){this.settings.format&&B(n,this.settings.format)(),this.settings.cmd&&n.execCommand(this.settings.cmd)}}};e.addMenuItem("formats",{text:"Formats",menu:i}),(t=e).addButton("styleselect",{type:"menubutton",text:"Formats",menu:i,onShowMenu:function(){t.settings.style_formats_autohide&&nr(t,this.menu)}})},rr=function(r,o,s){return function(){var t=this;r.on("nodeChange",function(e){var n=r.formatter,i=null;p.each(e.parents,function(t){if(p.each(o,function(e){if(s?n.matchNode(t,s,{value:e.value})&&(i=e.value):n.matchNode(t,e.value)&&(i=e.value),i)return!1}),i)return!1}),t.value(i)})}},or=function(e){var t,n,i,r=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:(t=e,p.map(r,function(e){return{text:e[0],onclick:B(t,e[1]),textStyle:function(){return t.formatter.getCssText(e[1])}}}))}),e.addButton("formatselect",(n=e,i=r,function(){var t=[];return p.each(i,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return n.formatter.getCssText(e[1])}})}),{type:"listbox",text:i[0][0],values:t,fixedWidth:!0,onselect:function(e){e.control&&(e=e.control.value(),B(n,e)())},onPostRender:rr(n,t)}}))},sr=function(e){var t,n,i=e.settings.insert_button_items;return _i(i?yi(e,i):(i=e,t="insert",n=[{text:"-"}],i=p.grep(e.menuItems,function(e){return e.context===t}),p.each(i,function(e){"before"===e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"===e.separator&&n.push({text:"|"})}),n))},ar=function(e){var t;(t=e).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(sr(t)),this.menu.renderNew()}})},lr=function(n){p.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){n.addButton(t,{active:!1,tooltip:e,onPostRender:mi(n,t),onclick:B(n,t)})})},ur=function(n){p.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(e,t){n.addButton(t,{tooltip:e[0],cmd:e[1]})})},cr=function(n){p.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(e,t){n.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:mi(n,t)})})},dr=function(e){var t,n;lr(t=e),ur(t),cr(t),n=e,p.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(e,t){n.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),n.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:B(n,"code")})},fr=function(n,i){return function(){function e(){return!!n.undoManager&&n.undoManager["redo"===i?"hasRedo":"hasUndo"]()}var t=this;t.disabled(!e()),n.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){t.disabled(n.readonly||!e())})}},hr=function(e){var t;(t=e).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:fr(t,"undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:fr(t,"redo"),cmd:"redo"}),(t=e).addButton("undo",{tooltip:"Undo",onPostRender:fr(t,"undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:fr(t,"redo"),cmd:"redo"})},pr=function(e){return function(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}},mr=function(e){e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:pr(e),cmd:"mceToggleVisualAid"})},gr={setup:function(e){var t;e.rtl&&(k.rtl=!0),e.on("mousedown progressstate",function(){D.hideAll()}),(t=e).settings.ui_container&&(x.container=Yi(Dn.fromDom(y.document.body),t.settings.ui_container).fold(c(null),function(e){return e.dom()})),r.tooltips=!x.iOS,k.translate=function(e){return q.translate(e)},or(e),Qi(e),dr(e),hr(e),tr(e),Ji(e),ir(e),mr(e),ar(e)}},vr=ln.extend({recalc:function(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g,v=[],b=[],y=e.settings,x=e.items().filter(":visible"),_=e.layoutRect(),w=y.columns||Math.ceil(Math.sqrt(x.length)),C=Math.ceil(x.length/w),k=y.spacingH||y.spacing||0,T=y.spacingV||y.spacing||0,E=y.alignH||y.align,S=y.alignV||y.align,D=e.paddingBox,N="reverseRows"in y?y.reverseRows:e.isRtl();for(E&&"string"==typeof E&&(E=[E]),S&&"string"==typeof S&&(S=[S]),I=0;I<w;I++)v.push(0);for(s=0;s<C;s++)b.push(0);for(s=0;s<C;s++)for(I=0;I<w&&(o=x[s*w+I]);I++)h=(r=o.layoutRect()).minW,p=r.minH,v[I]=v[I]<h?h:v[I],b[s]=b[s]<p?p:b[s];for(m=_.innerW-D.left-D.right,I=d=0;I<w;I++)d+=v[I]+(0<I?k:0),m-=(0<I?k:0)+v[I];for(g=_.innerH-D.top-D.bottom,s=f=0;s<C;s++)f+=b[s]+(0<s?T:0),g-=(0<s?T:0)+b[s];if(d+=D.left+D.right,f+=D.top+D.bottom,(i={}).minW=d+(_.w-_.innerW),i.minH=f+(_.h-_.innerH),i.contentW=i.minW-_.deltaW,i.contentH=i.minH-_.deltaH,i.minW=Math.min(i.minW,_.maxW),i.minH=Math.min(i.minH,_.maxH),i.minW=Math.max(i.minW,_.startMinWidth),i.minH=Math.max(i.minH,_.startMinHeight),!_.autoResize||i.minW===_.minW&&i.minH===_.minH){_.autoResize&&((i=e.layoutRect(i)).contentW=i.minW-_.deltaW,i.contentH=i.minH-_.deltaH),A="start"!==y.packV&&0<g?Math.floor(g/C):0;var A,P=0,R=y.flexWidths;if(R)for(I=0;I<R.length;I++)P+=R[I];else P=w;for(var O=m/P,I=0;I<w;I++)v[I]+=R?R[I]*O:O;for(l=D.top,s=0;s<C;s++){for(a=D.left,n=b[s]+A,I=0;I<w&&(o=x[N?s*w+w-1-I:s*w+I]);I++)u=o.settings,r=o.layoutRect(),t=Math.max(v[I],r.startMinWidth),r.x=a,r.y=l,"center"===(c=u.alignH||(E?E[I]||E[0]:null))?r.x=a+t/2-r.w/2:"right"===c?r.x=a+t-r.w:"stretch"===c&&(r.w=t),"center"===(c=u.alignV||(S?S[I]||S[0]:null))?r.y=l+n/2-r.h/2:"bottom"===c?r.y=l+n-r.h:"stretch"===c&&(r.h=n),o.layoutRect(r),a+=t+k,o.recalc&&o.recalc();l+=n+T}}else i.w=i.minW,i.h=i.minH,e.layoutRect(i),this.recalc(e),null===e._lastRect&&(_=e.parent())&&(_._lastRect=null,_.recalc())}}),br=r.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):u.setTimeout(function(){n.html(e)}),this}}),yr=r.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}}),xr=r.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();return this.settings.multiline&&(w.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,w.getSize(this.getEl()).height)),e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t=this,n=t.settings.forId,i=t.settings.html||t.encode(t.state.get("text"));return(n=!n&&(e=t.settings.forName)&&(e=t.getRoot().find("#"+e)[0])?e._id:n)?'<label id="'+t._id+'" class="'+t.classes+'"'+(n?' for="'+n+'"':"")+">"+i+"</label>":'<span id="'+t._id+'" class="'+t.classes+'">'+i+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}}),_r=t.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}}),wr=_r.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}});var Cr=un.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var t=this;if(t.menu&&t.menu.visible()&&!1!==e)return t.hideMenu();t.menu||(e=t.state.get("menu")||[],t.classes.add("opened"),e.length?e={type:"menu",animate:!0,items:e}:(e.type=e.type||"menu",e.animate=!0),e.renderTo?t.menu=e.parent(t).show().renderTo():t.menu=m.create(e).parent(t).renderTo(),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control.parent()===t.menu&&(e.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()}),t.menu.on("show hide",function(e){"hide"===e.type&&e.control.parent()===t&&t.classes.remove("opened-under"),e.control===t.menu&&(t.activeMenu("show"===e.type),t.classes.toggle("opened","show"===e.type)),t.aria("expanded","show"===e.type)}).fire("show")),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.repaint(),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var e=t.menu.layoutRect(),n=t.$el.offset().top+t.layoutRect().h;n>e.y&&n<e.y+e.h&&t.classes.add("opened-under"),t.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon,r=e.state.get("text"),o="",s=e.settings.image;return s=s?(i="none"," style=\"background-image: url('"+(s="string"!=typeof s?y.window.getSelection?s[0]:s[1]:s)+"')\""):"",r&&(e.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+e.encode(r)+"</span>"),i=e.settings.icon?n+"ico "+n+"i-"+i:"",e.aria("role",e.parent()instanceof wr?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+s+"></i>":"")+o+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var i=this;return i.on("click",function(e){e.control===i&&function(e,t){for(;e;){if(t===e)return 1;e=e.parentNode}}(e.target,i.getEl())&&(i.focus(),i.showMenu(!e.aria),e.aria&&i.menu.items().filter(":visible")[0].focus())}),i.on("mouseenter",function(e){var t,n=e.control,e=i.parent();n&&e&&n instanceof Cr&&n.parent()===e&&(e.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),i._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),kr=D.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=p.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu"),e.animate&&11!==x.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var t,n=this;function i(){n.throbber&&(n.throbber.hide(),n.throbber=null)}n.settings.itemsFactory&&(n.throbber||(n.throbber=new zt(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading")}),n.on("hide close",i)),n.requestTime=t=(new Date).getTime(),n.settings.itemsFactory(function(e){0===e.length?n.hide():n.requestTime===t&&(n.getEl().style.width="",n.getEl("body").style.width="",i(),n.items().remove(),n.getEl("body").innerHTML="",n.add(e),n.renderNew(),n.fire("loaded"))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var t=this;return t.items().each(function(e){e=e.settings;if(e.icon||e.image||e.selectable)return!(t._hasIcons=!0)}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t.on("show hide",function(e){e.control===t&&("show"===e.type?u.setTimeout(function(){t.classes.add("in")},0):t.classes.remove("in"))}),t._super()}}),Tr=Cr.extend({init:function(i){var e,r,o,n,s=this;s._super(i),i=s.settings,s._values=e=i.values,e&&(void 0!==i.value&&function e(t){for(var n=0;n<t.length;n++){if(r=t[n].selected||i.value===t[n].value)return o=o||t[n].text,s.state.set("value",t[n].value),1;if(t[n].menu&&e(t[n].menu))return 1}}(e),!r&&0<e.length&&(o=e[0].text,s.state.set("value",e[0].value)),s.state.set("menu",e)),s.state.set("text",i.text||o),s.classes.add("listbox"),s.on("select",function(e){var t=e.control;n&&(e.lastControl=n),i.multiple?t.active(!t.active()):s.value(e.control.value()),n=t})},value:function(n){return 0===arguments.length?this.state.get("value"):(void 0!==n&&(this.settings.values&&!function t(e){return ae(e,function(e){return e.menu?t(e.menu):e.value===n})}(this.settings.values)?null===n&&this.state.set("value",null):this.state.set("value",n)),this)},bindStates:function(){var n=this;return n.on("show",function(e){var t;e=e.control,t=n.value(),e instanceof kr&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}),n.state.on("change:value",function(e){e=function e(t,n){var i;if(t)for(var r=0;r<t.length;r++){if(t[r].value===n)return t[r];if(t[r].menu&&(i=e(t[r].menu,n)))return i}}(n.state.get("menu"),e.value);e?n.text(e.text):n.text(n.settings.text)}),n._super()}}),Er=r.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,i=n.parent();i.items().each(function(e){e!==n&&e.hideMenu()}),e.menu&&((t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",i.settings.itemDefaults&&(t.itemDefaults=i.settings.itemDefaults),(t=n.menu=m.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=i,t.classes.add("menu-sub"),e=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),t.moveRel(n.getEl(),e),e="menu-sub-"+(t.rel=e),t.classes.remove(t._lastRel).add(e),t._lastRel=e,n.classes.add("selected"),n.aria("expanded",!0))},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.classPrefix,r=e.state.get("text"),o=e.settings.icon,s="",a=n.shortcut,l=e.encode(n.url);function u(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(e){var t=n.match||"";return t?e.replace(new RegExp(u(t),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function d(e){return e.replace(new RegExp(u("!mce~match["),"g"),"<b>").replace(new RegExp(u("]mce~match!"),"g"),"</b>")}return o&&e.parent().classes.add("menu-has-icons"),n.image&&(s=" style=\"background-image: url('"+n.image+"')\""),a=a&&function(e){var t,n,i={},i=x.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};for(e=e.split("+"),t=0;t<e.length;t++)(n=i[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(a),o=i+"ico "+i+"i-"+(e.settings.icon||"none"),o="-"!==r?'<i class="'+o+'"'+s+"></i>Â ":"",r=d(e.encode(c(r))),l=d(e.encode(c(l))),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1">'+o+("-"!==r?'<span id="'+t+'-text" class="'+i+'text">'+r+"</span>":"")+(a?'<div id="'+t+'-shortcut" class="'+i+'menu-shortcut">'+a+"</div>":"")+(n.menu?'<div class="'+i+'caret"></div>':"")+(l?'<div class="'+i+'menu-item-link">'+l+"</div>":"")+"</div>"},postRender:function(){var e,t=this,n=t.settings,i=n.textStyle;return(i="function"==typeof i?i.call(this):i)&&(e=t.getEl("text"))&&(e.setAttribute("style",i),t._textStyle=i),t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),u.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){var t,n,i;return n=e,(i=(t=this)._textStyle)&&((t=t.getEl("text")).setAttribute("style",i),n&&(t.style.color="",t.style.backgroundColor="")),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Sr=fn.extend({Defaults:{classes:"radio",role:"radio"}}),Dr=r.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"===this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new T(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!==t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function Nr(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}var Ar=r.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e="",t=Nr(this._options);return this.size&&(e=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=Nr(e.value)}),t._super()}});function Pr(e,t,n){return e=n<(e=e<t?t:e)?n:e}function Rr(e,t,n){e.setAttribute("aria-"+t,n)}function Or(e,t){var n,i,r="v"===e.settings.orientation?(i="top",n="height","h"):(i="left",n="width","w"),o=e.getEl("handle"),r=((e.layoutRect()[r]||100)-w.getSize(o)[n])*((t-e._minValue)/(e._maxValue-e._minValue))+"px";o.style[i]=r,o.style.height=e.layoutRect().h+"px",Rr(o,"valuenow",t),Rr(o,"valuetext",""+e.settings.previewFilter(t)),Rr(o,"valuemin",e._minValue),Rr(o,"valuemax",e._maxValue)}function Ir(){return{Selector:lt,Collection:ft,ReflowQueue:vt,Control:k,Factory:m,KeyboardNavigation:Et,Container:t,DragHelper:T,Scrollable:Ot,Panel:It,Movable:Je,Resizable:Bt,FloatPanel:D,Window:Zt,MessageBox:N,Tooltip:Vt,Widget:r,Progress:$t,Notification:Yt,Layout:an,AbsoluteLayout:ln,Button:un,ButtonGroup:dn,Checkbox:fn,ComboBox:pn,ColorBox:mn,PanelButton:gn,ColorButton:bn,ColorPicker:xn,Path:wn,ElementPath:Cn,FormItem:kn,Form:Tn,FieldSet:En,FilePicker:qi,FitLayout:Ui,FlexLayout:Vi,FlowLayout:$i,FormatControls:gr,GridLayout:vr,Iframe:br,InfoBox:yr,Label:xr,Toolbar:_r,MenuBar:wr,MenuButton:Cr,MenuItem:Er,Throbber:zt,Menu:kr,ListBox:Tr,Radio:Sr,ResizeHandle:Dr,SelectBox:Ar,Slider:Br,Spacer:Mr,SplitButton:Fr,StackLayout:Lr,TabPanel:Hr,TextBox:jr,DropZone:_n,BrowseButton:cn}}var Br=r.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"===e.orientation&&this.classes.add("vertical"),this._minValue=Ce(e.minValue)?e.minValue:0,this._maxValue=Ce(e.maxValue)?e.maxValue:100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,t,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g=this;function v(e){var t=g.value();t=Pr(((t+s)/(a-s)+.05*e)*(a-s)-s,s,a),g.value(t),g.fire("dragstart",{value:t}),g.fire("drag",{value:t}),g.fire("dragend",{value:t})}e=g._minValue,t=g._maxValue,o="v"===g.settings.orientation?(n="screenY",i="top",r="height","h"):(n="screenX",i="left",r="width","w"),g._super(),s=e,a=t,g.on("keydown",function(e){switch(e.keyCode){case 37:case 38:v(-1);break;case 39:case 40:v(1)}}),l=e,u=t,c=g.getEl("handle"),g._dragHelper=new T(g._id,{handle:g._id+"-handle",start:function(e){d=e[n],f=parseInt(g.getEl("handle").style[i],10),h=(g.layoutRect()[o]||100)-w.getSize(c)[r],g.fire("dragstart",{value:m})},drag:function(e){e=e[n]-d;p=Pr(f+e,0,h),c.style[i]=p+"px",m=l+p/h*(u-l),g.value(m),g.tooltip().text(""+g.settings.previewFilter(m)).show().moveRel(c,"bc tc"),g.fire("drag",{value:m})},stop:function(){g.tooltip().hide(),g.fire("dragend",{value:m})}})},repaint:function(){this._super(),Or(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){Or(t,e.value)}),t._super()}}),Mr=r.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),Fr=Cr.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t=this.getEl(),n=this.layoutRect();return this._super(),e=t.firstChild,t=t.lastChild,_(e).css({width:n.w-w.getSize(t).width,height:n.h-2}),_(t).css({height:n.h-2}),this},activeMenu:function(e){_(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("icon"),r=e.state.get("text"),o=e.settings,s="",a=o.image;return a=a?(i="none"," style=\"background-image: url('"+(a="string"!=typeof a?y.window.getSelection?a[0]:a[1]:a)+"')\""):"",i=o.icon?n+"ico "+n+"i-"+i:"",r&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(r)+"</span>"),r="boolean"==typeof o.active?' aria-pressed="'+o.active+'"':"",'<div id="'+t+'" class="'+e.classes+'" role="button"'+r+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+a+"></i>":"")+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?"Â ":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control===this)for(;t;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===t.nodeName&&-1===t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete this.settings.onclick,this._super()}}),Lr=$i.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),Hr=It.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),_(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),_(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!==t&&e.hide()})},renderHtml:function(){var n=this,e=n._layout,i="",r=n.classPrefix;return n.preRender(),e.preRender(n),n.items().each(function(e,t){t=n._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",t),i+='<div id="'+t+'" class="'+r+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+n.encode(e.settings.title)+"</div>"}),'<div id="'+n._id+'" class="'+n.classes+'" hidefocus="1" tabindex="-1"><div id="'+n._id+'-head" class="'+r+'tabs" role="tablist">'+i+'</div><div id="'+n._id+'-body" class="'+n.bodyClasses+'">'+e.renderHtml(n)+"</div></div>"},postRender:function(){var i=this;i._super(),i.settings.activeTab=i.settings.activeTab||0,i.activateTab(i.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id===i._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]===e.target&&i.activateTab(n)})},initLayoutRect:function(){var e,t,n=w.getSize(this.getEl("head")).width,i=(n=n<0?0:n,t=0,this.items().each(function(e){n=Math.max(n,e.layoutRect().minW),t=Math.max(t,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=t,e.layoutRect({x:0,y:0,w:n,h:t})}),w.getSize(this.getEl("head")).height);return this.settings.minWidth=n,this.settings.minHeight=t+i,(e=this._super()).deltaH+=i,e.innerH=e.h-e.deltaH,e}}),jr=r.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t=this.getEl().style,n=this._layoutRect,i=this._lastRepaintRect||{},r=y.document;return!this.settings.multiline&&r.all&&(!r.documentMode||r.documentMode<=8)&&(t.lineHeight=+n.h+"px"),e=(r=this.borderBox).left+r.right+8,r=r.top+r.bottom+(this.settings.multiline?8:0),n.x!==i.x&&(t.left=n.x+"px",i.x=n.x),n.y!==i.y&&(t.top=n.y+"px",i.y=n.y),n.w!==i.w&&(t.width=n.w-e+"px",i.w=n.w),n.h!==i.h&&(t.height=n.h-r+"px",i.h=n.h),this._lastRepaintRect=i,this.fire("repaint",{},!1),this},renderHtml:function(){var e,t=this.settings,n={id:this._id,hidefocus:"1"};return p.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){n[e]=t[e]}),this.disabled()&&(n.disabled="disabled"),t.subtype&&(n.type=t.subtype),(e=w.create(t.multiline?"textarea":"input",n)).value=this.state.get("value"),e.className=this.classes.toString(),e.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!==e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}}),Jn=function(n){n.ui?p.each(Ir(),function(e,t){n.ui[t]=e}):n.ui=Ir()};p.each(Ir(),function(e,t){m.add(t,e)}),Jn(window.tinymce||{}),W.add("modern",function(e){return gr.setup(e),sn(e)})}(window),!function(i){"use strict";function t(e){return e.target_list}function n(e){return e.rel_list}function r(e){return e.link_class_list}function a(e,t){function n(e){return e.filter(function(e){return-1===b.inArray(i,e)})}var i=["noopener"],e=e?e.split(/\s+/):[];return(e=t?(t=n(t=e)).length?t.concat(i):i:n(e)).length?b.trim(e.sort().join(" ")):null}function l(e,t){return t=t||e.selection.getNode(),m(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")}function o(e){return e&&"A"===e.nodeName&&e.href}function s(s,e){function i(e){var t=r.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),r.find("#href").value(e.control.value())}function n(){a||!g||h.text||this.parent().parent().find("#text")[0].value(this.value())}var a,r,t,o,l,u,c,d,f,h={},p=s.selection,m=s.dom,g=y.isOnlyTextSelected(p.getContent()),p=y.getAnchorElement(s);h.text=a=y.getAnchorText(s.selection,p),h.href=p?m.getAttrib(p,"href"):"",p?h.target=m.getAttrib(p,"target"):v.hasDefaultLinkTarget(s.settings)&&(h.target=v.getDefaultLinkTarget(s.settings)),(f=m.getAttrib(p,"rel"))&&(h.rel=f),(f=m.getAttrib(p,"class"))&&(h.class=f),(f=m.getAttrib(p,"title"))&&(h.title=f),g&&(t={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){h.text=this.value()}}),e&&(o={type:"listbox",label:"Link list",values:w(e,function(e){e.value=s.convertURL(e.value||e.url,"href")},[{text:"None",value:""}]),onselect:i,value:s.convertURL(h.href,"href"),onPostRender:function(){o=this}}),v.shouldShowTargetList(s.settings)&&(void 0===v.getTargetList(s.settings)&&v.setTargetList(s,[{text:"None",value:""},{text:"New window",value:"_blank"}]),u={name:"target",type:"listbox",label:"Target",values:w(v.getTargetList(s.settings))}),v.hasRelList(s.settings)&&(l={name:"rel",type:"listbox",label:"Rel",values:w(v.getRelList(s.settings),function(e){!1===v.allowUnsafeLinkTarget(s.settings)&&(e.value=y.toggleTargetRules(e.value,"_blank"===h.target))})}),v.hasLinkClassList(s.settings)&&(c={name:"class",type:"listbox",label:"Class",values:w(v.getLinkClassList(s.settings),function(e){e.value&&(e.textStyle=function(){return s.formatter.getCssText({inline:"a",classes:[e.value]})})})}),v.shouldShowLinkTitle(s.settings)&&(d={name:"title",type:"textbox",label:"Title",value:h.title}),r=s.windowManager.open({title:"Insert link",data:h,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(e){var t=e.meta||{};o&&o.value(s.convertURL(this.value(),"href")),b.each(e.meta,function(e,t){var n=r.find("#"+t);"text"===t?0===a.length&&(n.value(e),h.text=e):n.value(e)}),t.attach&&(_={href:this.value(),attach:t.attach}),t.text||n.call(this)},onkeyup:n,onpaste:n,onbeforecall:function(e){e.meta=r.toJSON()}},t,d,function(t){var n=[];if(b.each(s.dom.select("a:not([href])"),function(e){e=e.name||e.id;e&&n.push({text:e,value:"#"+e,selected:-1!==t.indexOf("#"+e)})}),n.length)return n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:i}}(h.href),o,l,u,c],onSubmit:function(e){var t=v.assumeExternalTargets(s.settings),n=y.link(s,_),i=y.unlink(s),r=b.extend({},h,e.data),o=r.href;o?(g&&r.text!==a||delete r.text,0<o.indexOf("@")&&-1===o.indexOf("//")&&-1===o.indexOf("mailto:")?C(s,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(r.href="mailto:"+o),n(r)}):!0===t&&!/^\w+:/i.test(o)||!1===t&&/^\s*www[\.|\d\.]/i.test(o)?C(s,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(r.href="http://"+o),n(r)}):n(r)):i()}})}function u(e){return T(e,e.selection.getStart())}function c(e,t){var n;t&&(n=E(t),/^#/.test(n)?(n=e.$(n)).length&&e.selection.scrollIntoView(n[0],!0):p.open(t.href))}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=tinymce.util.Tools.resolve("tinymce.util.VK"),v={assumeExternalTargets:function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},hasContextToolbar:function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},getLinkList:function(e){return e.link_list},hasDefaultLinkTarget:function(e){return"string"==typeof e.default_link_target},getDefaultLinkTarget:function(e){return e.default_link_target},getTargetList:t,setTargetList:function(e,t){e.settings.target_list=t},shouldShowTargetList:function(e){return!1!==t(e)},getRelList:n,hasRelList:function(e){return void 0!==n(e)},getLinkClassList:r,hasLinkClassList:function(e){return void 0!==r(e)},shouldShowLinkTitle:function(e){return!1!==e.link_title},allowUnsafeLinkTarget:function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target}},f=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),h=tinymce.util.Tools.resolve("tinymce.Env"),p={open:function(e){var t,n;!h.ie||10<h.ie?((t=i.document.createElement("a")).target="_blank",t.href=e,t.rel="noreferrer noopener",(n=i.document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,i.window,0,0,0,0,0,!1,!1,!1,!1,0,null),t=t,n=n,i.document.body.appendChild(t),t.dispatchEvent(n),i.document.body.removeChild(t)):(n=i.window.open("","_blank"))&&(n.opener=null,(t=n.document).open(),t.write('<meta http-equiv="refresh" content="0; url='+f.DOM.encode(e)+'">'),t.close())}},b=tinymce.util.Tools.resolve("tinymce.util.Tools"),m=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},y={link:function(o,s){return function(r){o.undoManager.transact(function(){var e=o.selection.getNode(),t=l(o,e),n={href:r.href,target:r.target||null,rel:r.rel||null,class:r.class||null,title:r.title||null};if(v.hasRelList(o.settings)||!1!==v.allowUnsafeLinkTarget(o.settings)||(n.rel=a(n.rel,"_blank"===n.target)),r.href===s.href&&(s.attach(),s={}),t)o.focus(),r.hasOwnProperty("text")&&("innerText"in t?t.innerText=r.text:t.textContent=r.text),o.dom.setAttribs(t,n),o.selection.select(t),o.undoManager.add();else if(m(e)){var t=o,i=n,e=t.dom.select("img",e)[0];if(e){t=t.dom.create("a",i);e.parentNode.insertBefore(t,e);t.appendChild(e)}}else r.hasOwnProperty("text")?o.insertContent(o.dom.createHTML("a",n,o.dom.encode(r.text))):o.execCommand("mceInsertLink",!1,n)})}},unlink:function(i){return function(){i.undoManager.transact(function(){var e=i.selection.getNode();if(m(e)){var t=i,n=t.dom.select("img",e)[0];if(n){e=t.dom.getParents(n,"a[href]",e)[0];if(e){e.parentNode.insertBefore(n,e);t.dom.remove(e)}}}else i.execCommand("unlink")})}},isLink:o,hasLinks:function(e){return 0<b.grep(e,o).length},isOnlyTextSelected:function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},getAnchorElement:l,getAnchorText:function(e,t){return(t?t.innerText||t.textContent:e.getContent({format:"text"})).replace(/\uFEFF/g,"")},toggleTargetRules:a},g=tinymce.util.Tools.resolve("tinymce.util.Delay"),x=tinymce.util.Tools.resolve("tinymce.util.XHR"),_={},w=function(e,i,t){function r(e,n){return n=n||[],b.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=r(e.menu):(t.value=e.value,i&&i(t)),n.push(t)}),n}return r(e,t||[])},C=function(t,e,n){var i=t.selection.getRng();g.setEditorTimeout(t,function(){t.windowManager.confirm(e,function(e){t.selection.setRng(i),n(e)})})},k=function(e){var t,n;t=e,n=s,"string"==typeof(e=v.getLinkList(t.settings))?x.send({url:e,success:function(e){n(t,JSON.parse(e))}}):"function"==typeof e?e(function(e){n(t,e)}):n(t,e)},T=function(e,t){return e.dom.getParent(t,"a[href]")},E=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},S=function(e){return function(){k(e)}},D=function(e){return function(){c(e,u(e))}},N=function(i){return function(e){var t,n;return!!(v.hasContextToolbar(i.settings)&&!function(e){e=e.plugins.contextmenu;return!!e&&e.isContextMenuVisible()}(i)&&y.isLink(e)&&3===(n=(t=(e=i.selection).getRng()).startContainer).nodeType&&e.isCollapsed()&&0<t.startOffset&&t.startOffset<n.data.length)}},A=function(i){i.on("click",function(e){var t=T(i,e.target);t&&d.metaKeyPressed(e)&&(e.preventDefault(),c(i,t))}),i.on("keydown",function(e){var t,n=u(i);!n||13!==e.keyCode||!0===(t=e).altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey&&(e.preventDefault(),c(i,n))})},P=function(n){return function(){var t=this;n.on("nodechange",function(e){t.active(!n.readonly&&!!y.getAnchorElement(n,e.element))})}},R=function(n){return function(){function e(e){y.hasLinks(e.parents)?t.show():t.hide()}var t=this;y.hasLinks(n.dom.getParents(n.selection.getStart()))||t.hide(),n.on("nodechange",e),t.on("remove",function(){n.off("nodechange",e)})}},O=function(e){e.addCommand("mceLink",S(e))},I=function(e){e.addShortcut("Meta+K","",S(e))},B=function(e){e.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:S(e),onpostrender:P(e)}),e.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:y.unlink(e),onpostrender:P(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:D(e)})},M=function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:D(e),onPostRender:R(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:S(e),stateSelector:"a[href]",context:"insert",prependToContext:!0}),e.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:y.unlink(e),stateSelector:"a[href]"})},F=function(e){e.addContextToolbar&&e.addContextToolbar(N(e),"openlink | link unlink")};e.add("link",function(e){B(e),M(e),F(e),A(e),O(e),I(e)})}(window),!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")})},n=function(e){e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})};e.add("hr",function(e){t(e),n(e)})}(),!function(d){"use strict";function i(e){return e.replace(/\r?\n/g,"<br>")}function r(e,t,n){var e=e.split(/\n\n/),i=W(t,n),r="</"+t+">";return 1===(n=g.map(e,function(e){return e.split(/\n/).join("<br />")})).length?n[0]:g.map(n,function(e){return i+e+r}).join("")}var f=function(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return f(n)}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),M=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!t.get("powerpaste"))&&(void 0!==d.window.console&&d.window.console.log&&d.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},F=function(e,t){return{clipboard:e,quirks:t}},h={firePastePreProcess:function(e,t,n,i){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:i})},firePastePostProcess:function(e,t,n,i){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:i})},firePastePlainTextToggle:function(e,t){return e.fire("PastePlainTextToggle",{state:t})},firePaste:function(e,t){return e.fire("paste",{ieFake:t})}},l={shouldPlainTextInform:function(e){return e.getParam("paste_plaintext_inform",!0)},shouldBlockDrop:function(e){return e.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(e){return e.getParam("paste_data_images",!1)},shouldFilterDrop:function(e){return e.getParam("paste_filter_drop",!0)},getPreProcess:function(e){return e.getParam("paste_preprocess")},getPostProcess:function(e){return e.getParam("paste_postprocess")},getWebkitStyles:function(e){return e.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(e){return e.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(e){return e.getParam("smart_paste",!0)},isPasteAsTextEnabled:function(e){return e.getParam("paste_as_text",!1)},getRetainStyleProps:function(e){return e.getParam("paste_retain_style_properties")},getWordValidElements:function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(e){return e.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(e){return e.getParam("paste_enable_default_filters",!0)}},L=function(e,t,n){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),h.firePastePlainTextToggle(e,!1)):(t.pasteFormat.set("text"),h.firePastePlainTextToggle(e,!0),t=e,!1===n.get()&&l.shouldPlainTextInform(t)&&(t="Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.",e.notificationManager.open({text:e.translate(t),type:"info"}),n.set(!0))),e.focus()},H=function(e,n,t){e.addCommand("mceTogglePlainTextPaste",function(){L(e,n,t)}),e.addCommand("mceInsertClipboardContent",function(e,t){t.content&&n.pasteHtml(t.content,t.internal),t.text&&n.pasteText(t.text)})},p=tinymce.util.Tools.resolve("tinymce.Env"),m=tinymce.util.Tools.resolve("tinymce.util.Delay"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),j=tinymce.util.Tools.resolve("tinymce.util.VK"),e="x-tinymce/html",n="\x3c!-- "+e+" --\x3e",v={mark:function(e){return n+e},unmark:function(e){return e.replace(n,"")},isMarked:function(e){return-1!==e.indexOf(n)},internalHtmlMime:function(){return e}},z=tinymce.util.Tools.resolve("tinymce.html.Entities"),W=function(e,t){var n,i=[],e="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&i.push(n+'="'+z.encodeAllRaw(t[n])+'"');i.length&&(e+=" "+i.join(" "))}return e+">"},q={isPlainText:function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},convert:function(e,t,n){return t?r(e,t,n):i(e)},toBRs:i,toBlockElements:r},u=tinymce.util.Tools.resolve("tinymce.html.DomParser"),U=tinymce.util.Tools.resolve("tinymce.html.Serializer"),b=tinymce.util.Tools.resolve("tinymce.html.Node"),V=tinymce.util.Tools.resolve("tinymce.html.Schema");function c(t,e){return g.each(e,function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}var y={filter:c,innerText:function(e){var t=V(),n=u({},t),r="",o=t.getShortEndedElements(),s=g.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements();return e=c(e,[/<!\[[^\]]+\]>/g]),function e(t){var n=t.name,i=t;if("br"===n)r+="\n";else if("wbr"!==n)if(o[n]&&(r+=" "),s[n])r+=" ";else{if(3===t.type&&(r+=t.value),!t.shortEnded&&(t=t.firstChild))for(;e(t),t=t.next;);a[n]&&i.next&&(r+="\n","p"===n&&(r+="\n"))}}(n.parse(e)),r},trimHtml:function(e){return e=c(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"Â ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==d.navigator.userAgent.indexOf(" Edge/")}};function $(e){var r,o,s=1;function a(e,t){if(3!==e.type||!t.test(e.value)){if(e=e.firstChild)do{if(!a(e,t))return}while(e=e.next);return 1}e.value=e.value.replace(t,"")}function t(e,t,n){var i=e._listLevel||s;(r=i!==s?i<s?r&&r.parent.parent:(o=r,null):r)&&r.name===t?r.append(e):(o=o||r,r=new b(t,1),1<n&&r.attr("start",""+n),e.wrap(r)),e.name="li",s<i&&o&&o.lastChild.append(r),s=i,function e(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)for(;e(t),t=t.next;);}(e),a(e,/^\u00a0+/),a(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),a(e,/^\u00a0+/)}for(var n=[],i=e.firstChild;null!=i;)if(n.push(i),null!==(i=i.walk()))for(;void 0!==i&&i.parent!==e;)i=i.walk();for(var l,u,c=0;c<n.length;c++)"p"===(e=n[c]).name&&e.firstChild?(l=function e(t){var n="";if(3===t.type)return t.value;if(t=t.firstChild)for(;n+=e(t),t=t.next;);return n}(e),/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(l)?t(e,"ul"):!function(t){var n,e=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return t=t.replace(/^[\u00a0 ]+/,""),g.each(e,function(e){if(e.test(t))return!(n=!0)}),n}(l)?e._listLevel?t(e,"ul",1):r=null:(u=1,t(e,"ol",u=(l=/([0-9]+)\./.exec(l))?parseInt(l[1],10):u))):(o=r,r=null)}function Y(i,e){(t=l.getRetainStyleProps(i))&&(r=g.makeMap(t.split(/[, ]/))),e=y.filter(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"Â "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("Â "):""}]]);var r,t=l.getWordValidElements(i),t=V({valid_elements:t,valid_children:"-li[p]"});g.each(t.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});(n=u({},t)).addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",function(n,i,r,o){var s,a={},e=n.dom.parseStyle(o);return g.each(e,function(e,t){switch(t){case"mso-list":(s=/\w+ \w+([0-9]+)/i.exec(o))&&(r._listLevel=parseInt(s[1],10)),/Ignore/i.test(e)&&r.firstChild&&(r._listIgnore=!0,r.firstChild._listIgnore=!0);break;case"horiz-align":t="text-align";break;case"vert-align":t="vertical-align";break;case"font-color":case"mso-foreground":t="color";break;case"mso-background":case"mso-highlight":t="background";break;case"font-weight":case"font-style":return void("normal"!==e&&(a[t]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void r.remove()}0===t.indexOf("mso-comment")?r.remove():0!==t.indexOf("mso-")&&("all"===l.getRetainStyleProps(n)||i&&i[t])&&(a[t]=e)}),/(bold)/i.test(a["font-weight"])&&(delete a["font-weight"],r.wrap(new b("b",1))),/(italic)/i.test(a["font-style"])&&(delete a["font-style"],r.wrap(new b("i",1))),(a=n.dom.serializeStyle(a,r.name))||null}(i,r,t,t.attr("style"))),"span"===t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),n.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)n=(t=e[i]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),n.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),n.addNodeFilter("a",function(e){for(var t,n,i,r=e.length;r--;)n=(t=e[r]).attr("href"),i=t.attr("name"),n&&-1!==n.indexOf("#_msocom_")?t.remove():!(n=n&&0===n.indexOf("file://")?(n=n.split("#")[1])&&"#"+n:n)&&!i||i&&!/^_?(?:toc|edn|ftn)/i.test(i)?t.unwrap():t.attr({href:n,name:i})});var n=n.parse(e);return l.shouldConvertWordFakeLists(i)&&$(n),e=U({validate:i.settings.validate},t).serialize(n)}function s(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)}function X(e){return s(e)&&/.(gif|jpe?g|png)$/.test(e)}function o(e){return function(){return e}}var a={preProcess:function(e,t){return l.shouldUseDefaultFilters(e)?Y(e,t):t},isWordContent:function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}},Q=function(e,t){var n=u({},e.schema),n=(n.addNodeFilter("meta",function(e){g.each(e,function(e){return e.remove()})}),n.parse(t,{forced_root_block:!1,isRootContent:!0}));return U({validate:e.settings.validate},e.schema).serialize(n)},K=function(e,t){return{content:e,cancelled:t}},G=function(e,t,n,i){t=e.dom.create("div",{style:"display:none"},t),e=h.firePastePostProcess(e,t,n,i);return K(e.node.innerHTML,e.isDefaultPrevented())},J={process:function(e,t,n){var i,r=a.isWordContent(t),t=r?a.preProcess(e,t):t;return e=e,t=t,n=n,r=r,t=h.firePastePreProcess(e,t,n,r),i=Q(e,t.content),e.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()?G(e,i,n,r):K(i,t.isDefaultPrevented())}},x=function(e,t){return e.insertContent(t,{merge:l.shouldMergeFormats(e),paste:!0}),!0},Z=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!s(t))&&(r=t,o=n,(i=e).undoManager.extra(function(){o(i,r)},function(){i.execCommand("mceInsertLink",!1,r)}),!0);var i,r,o},ee=function(e,t,n){return!!X(t)&&(r=t,o=n,(i=e).undoManager.extra(function(){o(i,r)},function(){i.insertContent('<img src="'+r+'">')}),!0);var i,r,o},te={isImageUrl:X,isAbsoluteUrl:s,insertContent:function(e,t){var n,i;!1===l.isSmartPasteEnabled(e)?x(e,t):(n=e,i=t,g.each([Z,ee,x],function(e){return!0!==e(n,i,x)}))}};function _(){return ne}var w=o(!1),C=o(!0),ne=(A={fold:function(e,t){return e()},is:w,isSome:w,isNone:C,getOr:oe,getOrThunk:re,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:oe,orThunk:re,map:_,each:function(){},bind:_,exists:w,forall:C,filter:_,equals:ie,equals_:ie,toArray:function(){return[]},toString:o("none()")},Object.freeze&&Object.freeze(A),A);function ie(e){return e.isNone()}function re(e){return e()}function oe(e){return e}function se(n){function e(){return r}function t(e){return e(n)}var i=o(n),r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:C,isNone:w,getOr:i,getOrThunk:i,getOrDie:i,getOrNull:i,getOrUndefined:i,or:e,orThunk:e,map:function(e){return se(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?r:ne},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(w,function(e){return t(n,e)})}};return r}function ae(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i}function k(e){function i(e){t()?o(e):r.push(e)}function t(){return n.isSome()}var n=N(),r=[],o=function(t){n.each(function(e){d.setTimeout(function(){t(e)},0)})};return e(function(e){n=_e(e),P(r,o),r=[]}),{get:i,map:function(n){return k(function(t){i(function(e){t(n(e))})})},isReady:t}}function le(e,t){t=e.dom.encode(t).replace(/\r\n/g,"\n"),t=q.convert(t,e.settings.forced_root_block,e.settings.forced_root_block_attrs),O(e,t,!1)}function ue(e){var t,n={};if(e&&(e.getData&&(t=e.getData("Text"))&&0<t.length&&-1===t.indexOf("data:text/mce-internal,")&&(n["text/plain"]=t),e.types))for(var i=0;i<e.types.length;i++){var r=e.types[i];try{n[r]=e.getData(r)}catch(e){n[r]=""}}return n}function ce(e){return I(e,"text/html")||I(e,"text/plain")}function de(t,e,n){var i=Oe(e)?e.clipboardData:e.dataTransfer;if(t.settings.paste_data_images&&i){i=Be(i);if(0<i.length)return e.preventDefault(),Ie(i).get(function(e){n&&t.selection.setRng(n),P(e,function(e){Re(t,e)})}),!0}return!1}function fe(e){return j.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}function he(o,e,t){var s;Me(o,e,t),o.parser.addNodeFilter("img",function(e,t,n){function i(e){e.attr("data-mce-object")||s===p.transparentSrc||e.remove()}if(!o.settings.paste_data_images&&((n=n).data&&!0===n.data.paste))for(var r=e.length;r--;)!(s=e[r].attributes.map.src)||0!==s.indexOf("webkit-fake-url")&&(o.settings.allow_html_data_urls||0!==s.indexOf("data:"))||i(e[r])})}function T(e){return p.ie&&e.inline?d.document.body:e.getBody()}function pe(t,e,n){var i;T(i=t)!==i.getBody()&&t.dom.bind(e,"paste keyup",function(e){qe(t,n)||t.fire("paste")})}function me(n,e){t=n,i=f(null),r="%MCEPASTEBIN%";var t,i,r,o={create:function(){return Fe(t,i,r)},remove:function(){return Le(t,i)},getEl:function(){return B(t)},getHtml:function(){return He(t)},getLastRng:function(){return je(i)},isDefault:function(){return qe(t,r)},isDefaultContent:function(e){return ze(r,e)}};return n.on("preInit",function(){return he(n,o,e)}),{pasteFormat:e,pasteHtml:function(e,t){return O(n,e,t)},pasteText:function(e){return le(n,e)},pasteImageData:function(e,t){return de(n,e,t)},getDataTransferItems:ue,hasHtmlOrText:ce,hasContentType:I}}function ge(e,t,n){var i;if(i=e,!1===p.iOS&&void 0!==i&&"function"==typeof i.setData&&!0!==y.isMsEdge())try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(v.internalHtmlMime(),t),1}catch(e){return}}function ve(e,t){return Ke.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())}function be(e,t){e.focus(),e.selection.setRng(t)}var ye,E,xe,S,D,_e=se,N=_,A=(ye="function",function(e){return(null===(e=e)?"null":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t)===ye;var t}),we=Array.prototype.slice,P=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},Ce=A(Array.from)?Array.from:function(e){return we.call(e)},A={},ke={exports:A},Te=(xe=A,S=ke,D=E=void 0,function(e){"object"==typeof xe&&void 0!==S?S.exports=e():"function"==typeof E&&E.amd?E([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function i(r,o,s){function a(t,e){if(!o[t]){if(!r[t]){var n="function"==typeof D&&D;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,i,r,o,s)}return o[t].exports}for(var l="function"==typeof D&&D,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,r,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return(i=setTimeout)(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){for(var e=a(f),t=(c=!0,u.length);t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,!function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return(r=clearTimeout)(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],2:[function(e,d,t){!function(t){function i(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(n,i){for(;3===n._state;)n=n._value;0===n._state?n._deferreds.push(i):(n._handled=!0,o._immediateFn(function(){var e,t=1===n._state?i.onFulfilled:i.onRejected;if(null===t)(1===n._state?s:a)(i.promise,n._value);else{try{e=t(n._value)}catch(e){return void a(i.promise,e)}s(i.promise,e)}}))}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void c((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){a(t,e)}var i,r}function a(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){n||(n=!0,a(t,e))}}var e,n;e=this,n=setTimeout,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return r(this,new u(e,t,n)),n},o.all=function(e){var a=Array.prototype.slice.call(e);return new o(function(r,o){if(0===a.length)return r([]);var s=a.length;for(var e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){t(n,e)},o)}a[n]=e,0==--s&&r(a)}catch(e){o(e)}}(e,a[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){for(var n=0,i=r.length;n<i;n++)r[n].then(e,t)})},o._immediateFn="function"==typeof t?function(e){t(e)}:function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==d&&d.exports?d.exports=o:e.Promise||(e.Promise=o)}.call(this,e("timers").setImmediate)},{timers:3}],3:[function(l,e,u){!function(e,t){var i=l("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,o={},s=0;function a(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new a(n.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new a(n.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=s++,n=!(arguments.length<2)&&r.call(arguments,1);return o[t]=!0,i(function(){o[t]&&(n?e.apply(null,n):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete o[e]}}.call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var e=e("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:i.Promise||e}},{"promise-polyfill":2}]},{},[4])(4)}),ke.exports.boltExport),Ee={nu:k,pure:function(t){return k(function(e){e(t)})}},Se=function(e){d.setTimeout(function(){throw e},0)},R=function(n){function e(e){n().then(e,Se)}return{map:function(e){return R(function(){return n().then(e)})},bind:function(t){return R(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return R(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return Ee.nu(e)},toCached:function(){var e=null;return R(function(){return e=null===e?n():e})},toPromise:n,get:e}},De={nu:function(e){return R(function(){return new Te(e)})},pure:function(e){return R(function(){return Te.resolve(e)})}},Ne=function(s,e){return e(function(i){var r=[],o=0;0===s.length?i([]):P(s,function(e,t){var n;e.get((n=t,function(e){r[n]=e,++o>=s.length&&i(r)}))})})},Ae=function(e,t){return e=ae(e,t),Ne(e,De.nu)},O=function(e,t,n){n=n||v.isMarked(t),t=J.process(e,v.unmark(t),n);!1===t.cancelled&&te.insertContent(e,t.content)},I=function(e,t){return t in e&&0<e[t].length},Pe=y.createIdGenerator("mceclip"),Re=function(e,t){o=t.uri;var n,i,r=-1!==(s=o.indexOf(","))?o.substr(s+1):null,o=Pe(),s=e.settings.images_reuse_filename&&t.blob.name?function(e,t){t=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return t?e.dom.encode(t[1]):null}(e,t.blob.name):o,a=new d.Image;a.src=t.uri,i=e.settings,a=a,!i.images_dataimg_filter||i.images_dataimg_filter(a)?(a=i=void 0,(a=(n=e.editorUpload.blobCache).findFirst(function(e){return e.base64()===r}))?i=a:(i=n.create(o,t.blob,r,s),n.add(i)),O(e,'<img src="'+i.blobUri()+'">',!1)):O(e,'<img src="'+t.uri+'">',!1)},Oe=function(e){return"paste"===e.type},Ie=function(e){return Ae(e,function(i){return De.nu(function(e){var t=i.getAsFile?i.getAsFile():i,n=new window.FileReader;n.onload=function(){e({blob:t,uri:n.result})},n.readAsDataURL(t)})})},Be=function(e){for(var t=e.items?ae(Ce(e.items),function(e){return e.getAsFile()}):[],e=e.files?Ce(e.files):[],n=0<t.length?t:e,i=function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)},r=[],o=0,s=n.length;o<s;o++){var a=n[o];i(a,o)&&r.push(a)}return r},Me=function(s,a,o){t=f(N());var t,l,u={clear:function(){t.set(N())},set:function(e){t.set(_e(e))},isSet:function(){return t.get().isSome()},on:function(e){t.get().each(e)}};function c(e,t,n,i){var r,o;I(e,"text/html")?r=e["text/html"]:(r=a.getHtml(),i=i||v.isMarked(r),a.isDefaultContent(r)&&(n=!0)),r=y.trimHtml(r),a.remove(),o=!1===i&&q.isPlainText(r),(n=r.length&&!o?n:!0)&&(r=I(e,"text/plain")&&o?e["text/plain"]:y.innerText(r)),a.isDefaultContent(r)?t||s.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):n?le(s,r):O(s,r,i)}s.on("keydown",function(e){function t(e){fe(e)&&!e.isDefaultPrevented()&&a.remove()}!fe(e)||e.isDefaultPrevented()||(l=e.shiftKey&&86===e.keyCode)&&p.webkit&&-1!==d.navigator.userAgent.indexOf("Version/")||(e.stopImmediatePropagation(),u.set(e),window.setTimeout(function(){u.clear()},100),p.ie&&l?(e.preventDefault(),h.firePaste(s,!0)):(a.remove(),a.create(),s.once("keyup",t),s.once("paste",function(){s.off("keyup",t)})))});s.on("paste",function(e){var t=u.isSet(),n=function(e,t){t=ue(t.clipboardData||e.getDoc().dataTransfer);return y.isMsEdge()?g.extend(t,{"text/html":""}):t}(s,e),i="text"===o.get()||l,r=I(n,v.internalHtmlMime());l=!1,e.isDefaultPrevented()||function(e){e=e.clipboardData;return-1!==d.navigator.userAgent.indexOf("Android")&&e&&e.items&&0===e.items.length}(e)||!ce(n)&&de(s,e,a.getLastRng()||s.selection.getRng())?a.remove():(t||e.preventDefault(),!p.ie||t&&!e.ieFake||I(n,"text/html")||(a.create(),s.dom.bind(a.getEl(),"paste",function(e){e.stopPropagation()}),s.getDoc().execCommand("Paste",!1,null),n["text/html"]=a.getHtml()),I(n,"text/html")?(e.preventDefault(),r=r||v.isMarked(n["text/html"]),c(n,t,i,r)):m.setEditorTimeout(s,function(){c(n,t,i,r)},0))})},Fe=function(e,t,n){var i=e.dom,r=e.getBody();t.set(e.selection.getRng()),t=e.dom.add(T(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(p.ie||p.gecko)&&i.setStyle(t,"left","rtl"===i.getStyle(r,"direction",!0)?65535:-65535),i.bind(t,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),pe(e,t,n),t.focus(),e.selection.select(t,!0)},Le=function(e,t){if(B(e)){for(var n,i=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);i&&e.selection.setRng(i)}t.set(null)},B=function(e){return e.dom.get("mcepastebin")},He=function(n){function t(e,t){e.appendChild(t),n.dom.remove(t,!0)}var e,i,r,o=g.grep(T(n).childNodes,function(e){return"mcepastebin"===e.id}),s=o.shift();for(g.each(o,function(e){t(s,e)}),e=(i=n.dom.select("div[id=mcepastebin]",s)).length-1;0<=e;e--)r=n.dom.create("div"),s.insertBefore(r,i[e]),t(r,i[e]);return s?s.innerHTML:""},je=function(e){return e.get()},ze=function(e,t){return t===e},We=function(e){return e&&"mcepastebin"===e.id},qe=function(e,t){e=B(e);return We(e)&&ze(t,e.innerHTML)},Ue=function(){},Ve=function(e,t,n,i){ge(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):n(t.html,i)},$e=function(o){return function(e,t){var e=v.mark(e),n=o.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),e=o.dom.create("div",{contenteditable:"true"},e),i=(o.dom.setStyles(n,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),n.appendChild(e),o.dom.add(o.getBody(),n),o.selection.getRng()),r=(e.focus(),o.dom.createRng());r.selectNodeContents(e),o.selection.setRng(r),setTimeout(function(){o.selection.setRng(i),n.parentNode.removeChild(n),t()},0)}},Ye=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Xe=function(e){return!e.selection.isCollapsed()||!!(e=e).dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},Qe=function(e){var t,n;e.on("cut",(t=e,function(e){Xe(t)&&Ve(e,Ye(t),$e(t),function(){setTimeout(function(){t.execCommand("Delete")},0)})})),e.on("copy",(n=e,function(e){Xe(n)&&Ve(e,Ye(n),$e(n),Ue)}))},Ke=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ge=function(o,s,a){l.shouldBlockDrop(o)&&o.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),l.shouldPasteDataImages(o)||o.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()}),o.on("drop",function(e){var t,n,i,r=ve(o,e);e.isDefaultPrevented()||a.get()||(t=s.getDataTransferItems(e.dataTransfer),n=s.hasContentType(t,v.internalHtmlMime()),(s.hasHtmlOrText(t)&&!function(e){e=e["text/plain"];return!!e&&0===e.indexOf("file://")}(t)||!s.pasteImageData(e,r))&&r&&l.shouldFilterDrop(o)&&(i=t["mce-internal"]||t["text/html"]||t["text/plain"])&&(e.preventDefault(),m.setEditorTimeout(o,function(){o.undoManager.transact(function(){t["mce-internal"]&&o.execCommand("Delete"),be(o,r),i=y.trimHtml(i),t["text/html"]?s.pasteHtml(i,n):s.pasteText(i)})})))}),o.on("dragstart",function(e){a.set(!0)}),o.on("dragover dragend",function(e){l.shouldPasteDataImages(o)&&!1===a.get()&&(e.preventDefault(),be(o,ve(o,e))),"dragend"===e.type&&a.set(!1)})},Je=function(e){var t=e.plugins.paste,n=l.getPreProcess(e),i=(n&&e.on("PastePreProcess",function(e){n.call(t,t,e)}),l.getPostProcess(e));i&&e.on("PastePostProcess",function(e){i.call(t,t,e)})};function Ze(t,n){t.on("PastePreProcess",function(e){e.content=n(t,e.content,e.internal,e.wordContent)})}function et(e,t){var n;return a.isWordContent(t)&&(n=[],g.each(e.schema.getBlockElements(),function(e,t){n.push(t)}),e=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),t=y.filter(t,[[e,"$1"]]),t=y.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])),t}function tt(e,t,n,i){var u,c,d;return i||n||(i=l.getWebkitStyles(e),!1!==l.shouldRemoveWebKitStyles(e)&&"all"!==i&&(t=(t=(u=i?i.split(/[, ]/):u)?(c=e.dom,d=e.selection.getNode(),t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,i){var r=c.parseStyle(c.decode(n)),o={};if("none"===u)return t+i;for(var s=0;s<u.length;s++){var a=r[u[s]],l=c.getStyle(d,u[s],!0);/color/.test(u[s])&&(a=c.toHex(a),l=c.toHex(l)),l!==a&&(o[u[s]]=a)}return(o=c.serializeStyle(o,"span"))?t+' style="'+o+'"'+i:t+i})):t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,i){return t+' style="'+n+'"'+i}))),t}function nt(n,e){n.$("a",e).find("font,u").each(function(e,t){n.dom.remove(t,!0)})}function it(e,t,n){var i=n.control;i.active("text"===t.pasteFormat.get()),e.on("PastePlainTextToggle",function(e){i.active(e.state)})}var rt=function(e){var t,n;p.webkit&&Ze(e,tt),p.ie&&(Ze(e,et),n=nt,(t=e).on("PastePostProcess",function(e){n(t,e.node)}))},ot=function(e,t){var n=function(i){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.concat(e);return i.apply(null,n)}}(it,e,t);e.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:t.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})};t.add("paste",function(e){var t,n,i,r;if(!1===M(e))return t=f(!1),n=f(!1),i=f(l.isPasteAsTextEnabled(e)?"text":"html"),i=me(e,i),r=rt(e),ot(e,i),H(e,i,t),Je(e),Qe(e),Ge(e,i,n),F(i,r)})}(window),!function(u){"use strict";function n(e){return e&&"BR"===e.nodeName}function M(e,t){var n;return d.isTextNode(e)?{container:e,offset:t}:(n=j.getNode(e,t),d.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&d.isTextNode(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&d.isTextNode(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t})}function F(){}function L(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!n.apply(null,e)}}function e(){return q}var H=tinymce.util.Tools.resolve("tinymce.PluginManager"),j=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),z=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),i=tinymce.util.Tools.resolve("tinymce.util.VK"),W=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),c=tinymce.util.Tools.resolve("tinymce.util.Tools"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),d={isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isOlUlNode:function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},isDlItemNode:function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isTableCellNode:function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},isBr:n,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBlock:function(e,t){return e&&e.nodeName in t},isBogusBr:function(e,t){return!!n(t)&&!(!e.isBlock(t.nextSibling)||n(t.previousSibling))},isEmpty:function(e,t,n){var i=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&i},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}},f=function(e){var t=e.cloneRange(),n=M(e.startContainer,e.startOffset),n=(t.setStart(n.container,n.offset),M(e.endContainer,e.endOffset));return t.setEnd(n.container,n.offset),t},s=t.DOM,h={createBookmark:function(r){function e(e){var t,n=r[e?"startContainer":"endContainer"],i=r[e?"startOffset":"endOffset"];1===n.nodeType&&(t=s.create("span",{"data-mce-type":"bookmark"}),n.hasChildNodes()?(i=Math.min(i,n.childNodes.length-1),e?n.insertBefore(t,n.childNodes[i]):s.insertAfter(t,n.childNodes[i])):n.appendChild(t),n=t,i=0),o[e?"startContainer":"endContainer"]=n,o[e?"startOffset":"endOffset"]=i}var o={};return e(!0),r.collapsed||e(),o},resolveBookmark:function(r){function e(e){var t,n=t=r[e?"startContainer":"endContainer"],i=r[e?"startOffset":"endOffset"];n&&(1===n.nodeType&&(i=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,s.remove(t),!n.hasChildNodes()&&s.isBlock(n)&&n.appendChild(s.create("br"))),r[e?"startContainer":"endContainer"]=n,r[e?"startOffset":"endOffset"]=i)}e(!0),e();var t=s.createRng();return t.setStart(r.startContainer,r.startOffset),r.endContainer&&t.setEnd(r.endContainer,r.endOffset),f(t)}},p=function(e){return function(){return e}},o=p(!1),a=p(!0),q=(S={fold:function(e,t){return e()},is:o,isSome:o,isNone:a,getOr:$,getOrThunk:V,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:p(null),getOrUndefined:p(void 0),or:$,orThunk:V,map:e,each:F,bind:e,exists:o,forall:a,filter:e,equals:U,equals_:U,toArray:function(){return[]},toString:p("none()")},Object.freeze&&Object.freeze(S),S);function U(e){return e.isNone()}function V(e){return e()}function $(e){return e}function Y(n){function e(){return r}function t(e){return e(n)}var i=p(n),r={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:a,isNone:o,getOr:i,getOrThunk:i,getOrDie:i,getOrNull:i,getOrUndefined:i,or:e,orThunk:e,map:function(e){return Y(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?r:q},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(o,function(e){return t(n,e)})}};return r}function r(n){return function(e){return(null===(e=e)?"null":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t)===n;var t}}function l(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)}function X(e,t,n){return l(e,function(e){n=t(n,e)}),n}function Q(e){return 0===e.length?y():b(e[0])}function m(e){return 0===e.length?y():b(e[e.length-1])}function K(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",_(e,t))}function G(e){var t=e.selection.getSelectedBlocks();return c.grep(function(n,e){e=c.map(e,function(e){var t=n.dom.getParent(e,"li,dd,dt",_(n,e));return t||e});return _e.unique(e)}(e,t),function(e){return d.isListItemNode(e)})}function J(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:p(e)}}function Z(e,t,n){return e.isSome()&&t.isSome()?b(n(e.getOrDie(),t.getOrDie())):y()}function ee(){return xe.getOrDie("Node")}function te(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}function ne(){return Pe(0,0)}function ie(e){var t=e.current;return{current:t,version:e.version,isEdge:T(Ie,t),isChrome:T(Be,t),isIE:T(Me,t),isOpera:T(Fe,t),isFirefox:T(Le,t),isSafari:T(He,t)}}function re(e){var t=e.current;return{current:t,version:e.version,isWindows:E(We,t),isiOS:E(qe,t),isAndroid:E(Ue,t),isOSX:E($e,t),isLinux:E(Ve,t),isSolaris:E(Ye,t),isFreeBSD:E(Xe,t)}}function oe(e,t){var n=String(t).toLowerCase();return me(e,function(e){return e.search(n)})}function g(e,t){return-1!==e.indexOf(t)}function v(t){return function(e){return g(e,t)}}var b=Y,y=e,se=function(e){return null==e?q:Y(e)},ae=r("string"),le=r("array"),ue=r("boolean"),ce=r("function"),de=r("number"),fe=Array.prototype.slice,he=Array.prototype.push,x=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},pe=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},me=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return b(r)}return y()},ge=function(e,t){for(var n=x(e,t),i=[],r=0,o=n.length;r<o;++r){if(!le(n[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+n);he.apply(i,n[r])}return i},ve=(ce(Array.from)&&Array.from,void 0!==u.window?u.window:Function("return this;")()),be=function(e,t){for(var n=null!=t?t:ve,i=0;i<e.length&&null!=n;++i)n=n[e[i]];return n},ye=function(e,t){e=e.split(".");return be(e,t)},xe={getOrDie:function(e,t){t=ye(e,t);if(null==t)throw new Error(e+" not available on this browser");return t}},_e=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),_=function(e,t){t=e.dom.getParents(t,"TD,TH");return 0<t.length?t[0]:e.getBody()},we=function(e,t){e=e.dom.getParents(t,"ol,ul",_(e,t));return m(e)},Ce=K,ke=function(e){var t,n,i=K(e),e=e.selection.getSelectedBlocks();return n=e,(t=i)&&1===n.length&&n[0]===t?c.grep(i.querySelectorAll("ol,ul,dl"),function(e){return d.isListNode(e)}):c.grep(e,function(e){return d.isListNode(e)&&i!==e})},Te=G,w=_,Ee=function(e){return pe(G(e),d.isDlItemNode)},Se=function(e){i=we(n=e,n.selection.getStart()),n=pe(n.selection.getSelectedBlocks(),d.isOlUlNode);var t,n,i=i.toArray().concat(n);return t=e,n=x(i,function(e){return we(t,e).getOr(e)}),_e.unique(n)},C=function(e,t){t=(t||u.document).createElement(e);return J(t)},k=J,De=Object.keys,Ne=function(e,t){return te(e,t,ee().DOCUMENT_POSITION_CONTAINED_BY)},Ae=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}},Pe=function(e,t){return{major:e,minor:t}},Re=function(e,t){var n,i,t=String(t).toLowerCase();return 0===e.length?ne():(i=Ae(e=e,n=t))?Pe((e=function(e){return Number(n.replace(i,"$"+e))})(1),e(2)):{major:0,minor:0}},Oe=ne,Ie="Edge",Be="Chrome",Me="IE",Fe="Opera",Le="Firefox",He="Safari",T=function(e,t){return function(){return t===e}},je=function(){return ie({current:void 0,version:Oe()})},ze=ie,We=(p(Ie),p(Be),p(Me),p(Fe),p(Le),p(He),"Windows"),qe="iOS",Ue="Android",Ve="Linux",$e="OSX",Ye="Solaris",Xe="FreeBSD",E=function(e,t){return function(){return t===e}},Qe=function(){return re({current:void 0,version:Oe()})},Ke=re,Ge=(p(We),p(qe),p(Ue),p(Ve),p($e),p(Ye),p(Xe),function(e,n){return oe(e,n).map(function(e){var t=Re(e.versionRegexes,n);return{current:e.name,version:t}})}),Je=function(e,n){return oe(e,n).map(function(e){var t=Re(e.versionRegexes,n);return{current:e.name,version:t}})},S=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,S=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return g(e,"edge/")&&g(e,"chrome")&&g(e,"safari")&&g(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,S],search:function(e){return g(e,"chrome")&&!g(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return g(e,"msie")||g(e,"trident")}},{name:"Opera",versionRegexes:[S,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:v("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:v("firefox")},{name:"Safari",versionRegexes:[S,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(g(e,"safari")||g(e,"mobile/"))&&g(e,"applewebkit")}}],Ze=[{name:"Windows",search:v("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return g(e,"iphone")||g(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:v("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:v("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:v("linux"),versionRegexes:[]},{name:"Solaris",search:v("sunos"),versionRegexes:[]},{name:"FreeBSD",search:v("freebsd"),versionRegexes:[]}],et={browsers:p(S),oses:p(Ze)},tt=function(e){var t,n,i,r,o,s,a,l=et.browsers(),u=et.oses(),l=Ge(l,e).fold(je,ze),u=Je(u,e).fold(Qe,Ke),e=(n=l,e=e,i=(t=u).isiOS()&&!0===/ipad/i.test(e),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,o=i||o||s&&!0===/mobile/i.test(e),s=t.isiOS()||t.isAndroid(),a=s&&!o,n=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(e),{isiPad:p(i),isiPhone:p(r),isTablet:p(o),isPhone:p(a),isTouch:p(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:p(n)});return{browser:l,os:u,deviceType:e}};Gt=!(Qt=function(){var e=u.navigator.userAgent;return tt(e)});function nt(e,t){return e.dom()===t.dom()}function it(e){return se(e.dom().parentNode).map(k)}function rt(e,t){return e=e.dom().childNodes,se(e[t]).map(k)}function ot(e){return rt(e,0)}function st(e){return rt(e,e.dom().childNodes.length-1)}function at(t,n){it(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})}function D(e,t){e.dom().appendChild(t.dom())}function lt(t,e){l(e,function(e){D(t,e)})}function ut(e){null!==(e=e.dom()).parentNode&&e.parentNode.removeChild(e)}function ct(e){return e.dom().nodeName.toLowerCase()}function dt(e){return e.dom().nodeType===Jt}function N(e,t){for(var i=e.dom(),n=t,r=function(e,t){var n=i;if(!(ae(e)||ue(e)||de(e)))throw u.console.error("Invalid call to Attr.set. Key ",t,":: Value ",e,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,e+"")},o=De(n),s=0,a=o.length;s<a;s++){var l=o[s];r(n[l],l)}}function ft(e){return X(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})}function ht(e,t,n){if(!ae(n))throw u.console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);var i;void 0!==(i=e).style&&ce(i.style.getPropertyValue)&&e.style.setProperty(t,n)}function pt(e){return t=!0,k(e.dom().cloneNode(t));var t}function mt(e,t){var t=function(e,t){t=C(t),e=ft(e);return N(t,e),t}(e,t),n=(at(e,t),nn(e));return lt(t,n),ut(e),t}function gt(e,t){D(e.item,t.list)}function vt(e,t,n){for(var i=[],r=0;r<n;r++)i.push(function(e,t){t={list:C(t,e),item:C("li",e)};return D(t.list,t.item),t}(e,t.listType));return i}function bt(e,t){for(var n=0;n<e.length-1;n++){i=void 0;var i=e[n].item,r="list-style-type",o="none";i=i.dom(),ht(i,r,o)}m(e).each(function(e){N(e.list,t.listAttributes),N(e.item,t.itemAttributes),lt(e.item,t.content)})}function yt(i,e,r){return e=e.slice(0,r.depth),m(e).each(function(e){var t,n=function(e,t,n){e=C("li",e);return N(e,t),lt(e,n),e}(i,r.itemAttributes,r.content);n=n,D((t=e).list,n),t.item=n,t=r,ct((n=e).list)!==t.listType&&(n.list=mt(n.list,t.listType)),N(n.list,t.listAttributes)}),e}function xt(e,t,n){for(var i=e=vt(e,n,n.depth-t.length),r=1;r<i.length;r++)gt(i[r-1],i[r]);return bt(e,n),n=e,Z(m(t),Q(n),gt),t.concat(e)}function _t(e){return ot(e).map(P).getOr(!1)}function wt(e){return 0<e.depth}function Ct(e){return e.isSelected}function kt(e){var t=nn(e),e=st(e).map(P).getOr(!1)?t.slice(0,-1):t;return x(e,pt)}function Tt(t){l(t,function(n,e){!function(e,t){for(var n=e[t].depth,i=t-1;0<=i;i--){if(e[i].depth===n)return b(e[i]);if(e[i].depth<n)break}return y()}(t,e).each(function(e){var t;e=e,(t=n).listType=e.listType,t.listAttributes=on({},e.listAttributes)})})}function Et(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return Et(n)}}}function St(e,t){var n,i,r,o,s=e.dom,a=e.schema.getBlockElements(),l=s.createFragment();if((r=e.settings.forced_root_block?e.settings.forced_root_block:r)&&((i=s.create(r)).tagName===e.settings.forced_root_block&&s.setAttribs(i,e.settings.forced_root_block_attrs),d.isBlock(t.firstChild,a)||l.appendChild(i)),t)for(;n=t.firstChild;){var u=n.nodeName;o||"SPAN"===u&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),d.isBlock(n,a)?(l.appendChild(n),i=null):(r?(i||(i=s.create(r),l.appendChild(i)),i):l).appendChild(n)}return e.settings.forced_root_block?o||an.ie&&!(10<an.ie)||i.appendChild(s.create("br",{"data-mce-bogus":"1"})):l.appendChild(s.create("br")),l}function Dt(i,e){return x(e,function(e){e=e.content,t=(n||u.document).createDocumentFragment(),l(e,function(e){t.appendChild(e.dom())});var t,n=k(t);return k(St(i,n.dom()))})}function Nt(e,t){return Tt(t),function(n,e){e=X(e,function(e,t){return(t.depth>e.length?xt:yt)(n,e,t)},[]);return Q(e).map(function(e){return e.list})}(e.contentDocument,t).toArray()}function At(e,n){l(pe(e,Ct),function(e){var t=e;switch(n){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}})}function Pt(e){return e=x(Te(e),k),Z(me(e,L(_t)),me(function(e){e=fe.call(e,0);return e.reverse(),e}(e),L(_t)),function(e,t){return{start:e,end:t}})}function Rt(r,e,o){e=e,t=Pt(r),n=Et(!1);var t,n,e=x(e,function(e){return{sourceList:e,entries:R(0,t,n,e)}});l(e,function(e){var t,n,i;At(e.entries,o),t=e.sourceList,n=r,i=e.entries,i=ge(function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],r=[],o=0,s=e.length;o<s;o++){var a=e[o],l=t(a);l!==n&&(i.push(r),r=[]),n=l,r.push(a)}return 0!==r.length&&i.push(r),i}(i,wt),function(e){return(Q(e).map(wt).getOr(!1)?Nt:Dt)(n,e)}),l(i,function(e){at(t,e)}),ut(e.sourceList)})}function Ot(e){A(e,"dt")&&mt(e,"dd")}function It(i,e,t){l(t,"Indent"===e?Ot:function(e){var t,n;t=i,A(n=e,"dd")?mt(n,"dt"):A(n,"dt")&&it(n).each(function(e){return ln(t,e.dom(),n.dom())})})}function Bt(n,e){c.each(e,function(e,t){n.setAttribute(t,e)})}function Mt(e,t,n,i){var r=t[n?"startContainer":"endContainer"],t=t[n?"startOffset":"endOffset"];for(1===r.nodeType&&(r=r.childNodes[Math.min(t,r.childNodes.length-1)]||r),!n&&d.isBr(r.nextSibling)&&(r=r.nextSibling);r.parentNode!==i;){if(d.isTextBlock(e,r))return r;if(/^(TD|TH)$/.test(r.parentNode.nodeName))return r;r=r.parentNode}return r}function Ft(e,t,n){return hn(t,n)&&pn(e,t,n)&&mn(t,n)}function Lt(e,t){var n,i=t.parentNode;"LI"===i.nodeName&&i.firstChild===t&&((n=i.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),d.isEmpty(e,i)&&_n.remove(i)):_n.setStyle(i,"listStyleType","none")),d.isListNode(i)&&(n=i.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)}function Ht(e,t,n,i){var r,o,s=t.startContainer,t=t.startOffset;if(3===s.nodeType&&(n?t<s.data.length:0<t))return s;for(r=e.schema.getNonEmptyElements(),1===s.nodeType&&(s=j.getNode(s,t)),o=new z(s,i),n&&d.isBogusBr(e.dom,s)&&o.next();s=o[n?"next":"prev2"]();){if("LI"===s.nodeName&&!s.hasChildNodes())return s;if(r[s.nodeName])return s;if(3===s.nodeType&&0<s.data.length)return s}}function jt(e,t){return 1===(t=t.childNodes).length&&!d.isListNode(t[0])&&e.isBlock(t[0])}function zt(e,t,n){var i,r,o=jt(e,n)?n.firstChild:n;if(jt(n=e,r=t)&&n.remove(r.firstChild,!0),!d.isEmpty(e,t,!0))for(;i=t.firstChild;)o.appendChild(i)}function Wt(t,e,n){var i,r=e.parentNode;d.isChildOfBody(t,e)&&d.isChildOfBody(t,n)&&(d.isListNode(n.lastChild)&&(i=n.lastChild),r===n.lastChild&&d.isBr(r.previousSibling)&&t.remove(r.previousSibling),(r=n.lastChild)&&d.isBr(r)&&e.hasChildNodes()&&t.remove(r),d.isEmpty(t,n,!0)&&t.$(n).empty(),zt(t,e,n),i&&n.appendChild(i),r=tn(k(n),k(e))?t.getParents(e,d.isListNode,n):[],t.remove(e),l(r,function(e){d.isEmpty(t,e)&&e!==t.getRoot()&&t.remove(e)}))}function qt(e,t,n,i){var r,o,s,a=e.dom;a.isEmpty(i)?(o=n,s=i,(r=e).dom.$(s).empty(),Wt(r.dom,o,s),r.selection.setCursorLocation(s)):(o=h.createBookmark(t),Wt(a,n,i),e.selection.setRng(h.resolveBookmark(o)))}function Ut(e,t){var n=e.dom,i=e.selection,r=i.getStart(),r=w(e,r),o=n.getParent(i.getStart(),"LI",r);if(o){if((a=o.parentNode)===e.getBody()&&d.isEmpty(n,a))return!0;var s,a=f(i.getRng(!0));if((i=n.getParent(Ht(e,a,t,r),"LI",r))&&i!==o)return t?qt(e,a,i,o):(n=e,r=a,o=o,s=i,r=h.createBookmark(a),Wt(n.dom,o,s),o=h.resolveBookmark(r),n.selection.setRng(o)),!0;if(!i&&!t)return I(e),!0}return!1}function Vt(i,r){var o=i.dom,e=i.selection.getStart(),s=w(i,e),a=o.getParent(e,o.isBlock,s);if(a&&o.isEmpty(a)){var e=f(i.selection.getRng(!0)),l=o.getParent(Ht(i,e,r,s),"LI",s);if(l)return i.undoManager.transact(function(){var e=o,t=a,n=s;n=e.getParent(t.parentNode,e.isBlock,n),e.remove(t),n&&e.isEmpty(n)&&e.remove(n),xn(o,l.parentNode),i.selection.select(l,!0),i.selection.collapse(r)}),!0}return!1}function $t(e,t){return e.selection.isCollapsed()?Cn(e,t):kn(e)}function Yt(t,n){return function(){var e=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===n}}function Xt(t,i){return function(e){var n=e.control;t.on("NodeChange",function(e){var t=Pn(e.parents,d.isTableCellNode),t=-1!==t?e.parents.slice(0,t):e.parents,e=c.grep(t,d.isListNode);n.active(0<e.length&&e[0].nodeName===i)})}}var Qt,Kt,Gt,Jt,Zt,S={detect:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gt||(Gt=!0,Kt=Qt.apply(null,e)),Kt}},Ze=(u.Node.ATTRIBUTE_NODE,u.Node.CDATA_SECTION_NODE,u.Node.COMMENT_NODE,u.Node.DOCUMENT_NODE,u.Node.DOCUMENT_TYPE_NODE,u.Node.DOCUMENT_FRAGMENT_NODE,u.Node.ELEMENT_NODE),en=(u.Node.TEXT_NODE,u.Node.PROCESSING_INSTRUCTION_NODE,u.Node.ENTITY_REFERENCE_NODE,u.Node.ENTITY_NODE,u.Node.NOTATION_NODE,Ze),tn=S.detect().browser.isIE()?function(e,t){return Ne(e.dom(),t.dom())}:function(e,t){e=e.dom(),t=t.dom();return e!==t&&e.contains(t)},A=function(e,t){e=e.dom();if(e.nodeType!==en)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},nn=function(e){return x(e.dom().childNodes,k)},P=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}("element","offset"),Jt=Ze,function(e){return A(e,"OL,UL")}),rn=Object.prototype.hasOwnProperty,on=(Zt=function(e,t){return t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<e.length;i++){var r,o=e[i];for(r in o)rn.call(o,r)&&(n[r]=Zt(n[r],o[r]))}return n}),sn=function(o,s,a,l){return ot(l).filter(P).fold(function(){s.each(function(e){nt(e.start,l)&&a.set(!0)});t=l,n=o,i=a.get();var t,n,i,e=it(t).filter(dt).map(function(e){return{depth:n,isSelected:i,content:kt(t),itemAttributes:ft(t),listAttributes:ft(e),listType:ct(e)}}),r=(s.each(function(e){nt(e.end,l)&&a.set(!1)}),st(l).filter(P).map(function(e){return R(o,s,a,e)}).getOr([]));return e.toArray().concat(r)},function(e){return R(o,s,a,e)})},R=function(t,n,i,e){return ge(nn(e),function(e){return(P(e)?R:sn)(t+1,n,i,e)})},an=tinymce.util.Tools.resolve("tinymce.Env"),O=t.DOM,ln=function(e,t,n){var i,r,o=O.select('span[data-mce-type="bookmark"]',t),s=St(e,n),a=O.createRng();for(a.setStartAfter(n),a.setEndAfter(t),i=(a=a.extractContents()).firstChild;i;i=i.firstChild)if("LI"===i.nodeName&&e.dom.isEmpty(i)){O.remove(i);break}e.dom.isEmpty(a)||O.insertAfter(a,t),O.insertAfter(s,t),d.isEmpty(e.dom,n.parentNode)&&(r=n.parentNode,c.each(o,function(e){r.parentNode.insertBefore(e,n.parentNode)}),O.remove(r)),O.remove(n),d.isEmpty(e.dom,t)&&O.remove(t)},un=function(e,t){var n,i=x(Se(e),k),r=x(Ee(e),k),o=!1;return(i.length||r.length)&&(n=e.selection.getBookmark(),Rt(e,i,t),It(e,t,r),e.selection.moveToBookmark(n),e.selection.setRng(f(e.selection.getRng())),e.nodeChanged(),o=!0),o},cn=function(e){return un(e,"Indent")},dn=function(e){return un(e,"Outdent")},I=function(e){return un(e,"Flatten")},B=function(e,t,n){var i,r=e,o=t,s=n;s=s["list-style-type"]||null,r.setStyle(o,"list-style-type",s),r=e,Bt(o=t,(i=n)["list-attributes"]),c.each(r.select("li",o),function(e){Bt(e,i["list-item-attributes"])})},fn=function(o,s,a){void 0===a&&(a={});var e,t=o.selection.getRng(!0),l="LI",n=w(o,o.selection.getStart(!0)),u=o.dom;"false"!==u.getContentEditable(o.selection.getNode())&&("DL"===(s=s.toUpperCase())&&(l="DT"),e=h.createBookmark(t),c.each(function(n,e,i){for(var r,o=[],s=n.dom,t=Mt(n,e,!0,i),a=Mt(n,e,!1,i),l=[],u=t;u&&(l.push(u),u!==a);u=u.nextSibling);return c.each(l,function(e){var t;d.isTextBlock(n,e)?(o.push(e),r=null):s.isBlock(e)||d.isBr(e)?(d.isBr(e)&&s.remove(e),r=null):(t=e.nextSibling,W.isBookmarkNode(e)&&(d.isTextBlock(n,t)||!t&&e.parentNode===i)?r=null:(r||(r=s.create("p"),e.parentNode.insertBefore(r,e),o.push(r)),r.appendChild(e)))}),o}(o,t,n),function(e){var t,n,i,r=e.previousSibling;r&&d.isListNode(r)&&r.nodeName===s&&function(e,t,n){e=e.getStyle(t,"list-style-type"),t=n?n["list-style-type"]:"";return e===(null===t?"":t)}(u,r,a)?(t=r,e=u.rename(e,l),r.appendChild(e)):(t=u.create(s),e.parentNode.insertBefore(t,e),t.appendChild(e),e=u.rename(e,l)),n=u,i=e,r=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],c.each(r,function(e){var t;return n.setStyle(i,((t={})[e]="",t))}),B(u,t,a),gn(o.dom,t)}),o.selection.setRng(h.resolveBookmark(e)))},hn=function(e,t){return e&&t&&d.isListNode(e)&&e.nodeName===t.nodeName},pn=function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},mn=function(e,t){return e.className===t.className},gn=function(e,t){var n,i=t.nextSibling;if(Ft(e,t,i)){for(;n=i.firstChild;)t.appendChild(n);e.remove(i)}if(i=t.previousSibling,Ft(e,t,i)){for(;n=i.lastChild;)t.insertBefore(n,t.firstChild);e.remove(i)}},vn=function(e,t,n,i){t.nodeName!==n?(n=e.rename(t,n),B(e,n,i)):B(e,t,i)},bn=function(e){return"list-style-type"in e},yn=function(e,t,n){var i,r,o,s,a,l=Ce(e),u=ke(e);n=n||{},l&&0<u.length?(i=e,u=u,o=t,s=n,(r=l).nodeName!==o||bn(s)?(a=h.createBookmark(i.selection.getRng(!0)),c.each([r].concat(u),function(e){vn(i.dom,e,o,s)}),i.selection.setRng(h.resolveBookmark(a))):I(i)):(r=t,u=n,(a=l)!==(t=e).getBody()&&(a?a.nodeName!==r||bn(u)?(n=h.createBookmark(t.selection.getRng(!0)),B(t.dom,a,u),gn(t.dom,t.dom.rename(a,r)),t.selection.setRng(h.resolveBookmark(n))):I(t):fn(t,r,u)))},xn=gn,_n=t.DOM,wn=function(t,e){c.each(c.grep(t.select("ol,ul",e)),function(e){Lt(t,e)})},Cn=function(e,t){return Ut(e,t)||Vt(e,t)},kn=function(e){var t=e.selection.getStart(),n=w(e,t);return!!(e.dom.getParent(t,"LI,DT,DD",n)||0<Te(e).length)&&(e.undoManager.transact(function(){e.execCommand("Delete"),wn(e.dom,e.getBody())}),!0)},Tn=function(t){t.on("keydown",function(e){e.keyCode===i.BACKSPACE?$t(t,!1)&&e.preventDefault():e.keyCode===i.DELETE&&$t(t,!0)&&e.preventDefault()})},En=$t,Sn=function(t){return{backspaceDelete:function(e){En(t,e)}}},Dn=function(n){n.on("BeforeExecCommand",function(e){e=e.command.toLowerCase();"indent"===e?cn(n):"outdent"===e&&dn(n)}),n.addCommand("InsertUnorderedList",function(e,t){yn(n,"UL",t)}),n.addCommand("InsertOrderedList",function(e,t){yn(n,"OL",t)}),n.addCommand("InsertDefinitionList",function(e,t){yn(n,"DL",t)}),n.addCommand("RemoveList",function(){I(n)}),n.addQueryStateHandler("InsertUnorderedList",Yt(n,"UL")),n.addQueryStateHandler("InsertOrderedList",Yt(n,"OL")),n.addQueryStateHandler("InsertDefinitionList",Yt(n,"DL"))},Nn=function(e){return e.getParam("lists_indent_on_tab",!0)},An=function(e){var t;Nn(e)&&(t=e).on("keydown",function(e){e.keyCode!==i.TAB||i.metaKeyPressed(e)||t.undoManager.transact(function(){(e.shiftKey?dn:cn)(t)&&e.preventDefault()})}),Tn(e)},Pn=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},Rn=function(e){!function(e,t){e=e.settings.plugins||"";return-1!==c.inArray(e.split(/[ ,]/),t)}(e,"advlist")&&(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:Xt(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:Xt(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent"})};H.add("lists",function(e){return An(e),Rn(e),Dn(e),Sn(e)})}(window),!function(){"use strict";function t(e){return e.getParam("textcolor_map",c)}function n(e){return e.getParam("textcolor_rows",5)}function i(e){return e.getParam("textcolor_cols",8)}function r(e){return e.getParam("color_picker_callback",null)}function o(t){return function(e){e=e.control;e._color?t.execCommand("mceApplyTextcolor",e.settings.format,e._color):t.execCommand("mceRemoveTextcolor",e.settings.format)}}function s(n,a){return function(e){function o(e){n.execCommand("mceApplyTextcolor",s.settings.format,e),s.hidePanel(),s.color(e)}var s=this.parent(),t=h.getCurrentColor(n,s.settings.format);p.DOM.getParent(e.target,".mce-custom-color-btn")&&(s.hidePanel(),d.getColorPickerCallback(n).call(n,function(e){for(var t,n=s.panel.getEl().getElementsByTagName("table")[0],i=u.map(n.rows[n.rows.length-1].childNodes,function(e){return e.firstChild}),r=0;r<i.length&&(t=i[r]).getAttribute("data-mce-color");r++);if(r===a)for(r=0;r<a-1;r++)g(i[r],i[r+1].getAttribute("data-mce-color"));g(t,e),o(e)},t)),(t=e.target.getAttribute("data-mce-color"))?(this.lastId&&p.DOM.get(this.lastId).setAttribute("aria-selected","false"),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"===t?(n.execCommand("mceRemoveTextcolor",s.settings.format),s.hidePanel(),s.resetColor()):o(t)):null!==t&&s.hidePanel()}}function a(r,o){return function(){var e=o?d.getForeColorCols(r):d.getBackColorCols(r),t=o?d.getForeColorRows(r):d.getBackColorRows(r),n=o?d.getForeColorMap(r):d.getBackColorMap(r),i=d.hasColorPicker(r);return f.getHtml(e,t,n,i)}}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),h={getCurrentColor:function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(e){(e=e.style["forecolor"===t?"color":"background-color"])&&(n=n||e)}),n},mapColors:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push({text:e[n+1],color:"#"+e[n]});return t},applyFormat:function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},removeFormat:function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})}},l=function(n){n.addCommand("mceApplyTextcolor",function(e,t){h.applyFormat(n,e,t)}),n.addCommand("mceRemoveTextcolor",function(e){h.removeFormat(n,e)})},p=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],d={getForeColorMap:function(e){return e.getParam("forecolor_map",t(e))},getBackColorMap:function(e){return e.getParam("backcolor_map",t(e))},getForeColorRows:function(e){return e.getParam("forecolor_rows",n(e))},getBackColorRows:function(e){return e.getParam("backcolor_rows",n(e))},getForeColorCols:function(e){return e.getParam("forecolor_cols",i(e))},getBackColorCols:function(e){return e.getParam("backcolor_cols",i(e))},getColorPickerCallback:r,hasColorPicker:function(e){return"function"==typeof r(e)}},m=tinymce.util.Tools.resolve("tinymce.util.I18n"),f={getHtml:function(e,t,n,i){function r(e,t){var n="transparent"===e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+d+"-"+c+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+m.translate(t)+'">'+(n?"&#215;":"")+"</div></td>"}var o,s,a,l,u,c=0,d=p.DOM.uniqueId("mcearia"),f=h.mapColors(n);for(f.push({text:m.translate("No color"),color:"transparent"}),o='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',s=f.length-1,l=0;l<t;l++){for(o+="<tr>",a=0;a<e;a++)o+=s<(u=l*e+a)?"<td></td>":r((u=f[u]).color,u.text);o+="</tr>"}if(i){for(o=o+('<tr><td colspan="'+e+'" class="mce-custom-color-btn"><div id="'+d+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+d+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+m.translate("Custom...")+"</button></div></td></tr>")+"<tr>",a=0;a<e;a++)o+=r("","Custom color");o+="</tr>"}return o+="</tbody></table>"}},g=function(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)},v=function(e){e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:a(e,!0),onclick:s(e,d.getForeColorCols(e))},onclick:o(e)}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:a(e,!1),onclick:s(e,d.getBackColorCols(e))},onclick:o(e)})};e.add("textcolor",function(e){l(e),v(e)})}(),!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),i=function(e){return e.getParam("code_dialog_width",600)},r=function(e){return e.getParam("code_dialog_height",Math.min(t.DOM.getViewPort().h-200,500))},o=function(e,t){e.focus(),e.undoManager.transact(function(){e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()},s=function(e){return e.getContent({source_view:!0})},n=function(t){var e=i(t),n=r(t);t.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e,minHeight:n,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){o(t,e.data.code)}}).find("#code").value(s(t))},a=function(e){e.addCommand("mceCodeEditor",function(){n(e)})},l=function(e){e.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){n(e)}}),e.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){n(e)}})};e.add("code",function(e){return a(e),l(e),{}})}();
//# sourceMappingURL=mosaico-libs-and-tinymce.min.js.map